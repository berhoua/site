!function(e){var t={};function i(n){if(t[n])return t[n].exports;var o=t[n]={i:n,l:!1,exports:{}};return e[n].call(o.exports,o,o.exports,i),o.l=!0,o.exports}i.m=e,i.c=t,i.d=function(e,t,n){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},i.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)i.d(n,o,function(t){return e[t]}.bind(null,o));return n},i.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="",i(i.s=53)}([function(e,t,i){"use strict";i.d(t,"b",(function(){return s})),i.d(t,"a",(function(){return c})),i.d(t,"c",(function(){return u}));var n=i(28),o=i(2),r=n.methodFactory,s=n.getLogger("cleverpush"),a=Object(o.e)().toUpperCase();function c(e){return"code"===e?'\n    padding: 0 1px 1px 5px;\n    border: 1px solid #ddd;\n    border-radius: 3px;\n    font-family: Monaco,"DejaVu Sans Mono","Courier New",monospace;\n    color: #444;\n    ':"bold"===e?"\n    font-weight: 600;\n    color: rgb(51, 51, 51);\n    ":"alert"===e?"\n    font-weight: 600;\n    color: red;\n    ":""}function l(e){return JSON.stringify(e,(function(e,t){return"function"==typeof t?"[Function]":t}),4)}function u(e){for(var t=arguments.length,i=new Array(t>1?t-1:0),n=1;n<t;n++)i[n-1]=arguments[n];return s.debug("Called %c".concat(e,"(").concat(i.map(l).join(", "),")"),c("code"),".")}s.methodFactory=function(e,t,i){var n=r(e,t,i);return function(){for(var e=[],t=0;t<arguments.length;t++){var i=arguments[t];0===t&&"string"==typeof arguments[t]&&(i="[CleverPush][".concat(a,"] ").concat(i)),e.push(i)}n.apply(this,e)}},s.setLevel(s.getLevel(),!1)},function(e,t,i){"use strict";var n=i(14),o=i.n(n),r={en:{"confirm.title":"{0} would like to send you push notifications.","confirm.info":"Notifications can be turned off anytime from browser settings.","confirm.allow":"Allow","confirm.allowChrome":"Allow","confirm.allowFirefox":"Allow Notifications","confirm.deny":"Deny","confirm.selectTopics":"To which topics do you want to receive notifications?","popup.info":"Click on {0} to confirm push notifications","popup.text":"Get updates and offers from {0} by subscribing to push notifications.","unsubscribe.title":"Unsubscribe from notifications","unsubscribe.confirm":"Are you sure?","unsubscribe.yes":"Yes","unsubscribe.no":"No","windowclose.confirm":"The process is not yet complete, are you sure you want to cancel it?","deny.alertHttps":"If you change your mind, click the lock to give your browser permission to send you notifications.","deny.alertHttp":"If you change your mind, click the info symbol to give your browser permission to send you notifications.","bell.subscribe":"Subscribe for notifications","bell.subscribed":"You're subscribed for notifications","bell.unsubscribeSuccess":"You won't receive notifications again","bell.hide":"Do not show again","panel.notifications":"Notifications","panel.editTopics":"Edit Topics","panel.settings":"Settings","panel.notificationsEmpty":"No notifications available.","panel.save":"Save","panel.close":"Close","panel.successfullySaved":"Successfully saved!","unblock.title":"You have blocked notifications. Please follow these steps to receive notifications",privacy:"Privacy"},de:{"confirm.title":"{0} würde dir gerne Push Nachrichten senden.","confirm.info":"Benachrichtigungen können jederzeit in den Browser Einstellungen deaktiviert werden.","confirm.allow":"Erlauben","confirm.allowChrome":"Zulassen","confirm.allowFirefox":"Benachrichtigungen erlauben","confirm.deny":"Verbieten","confirm.selectTopics":"Zu welchen Themen möchtest du Push Nachrichten erhalten?","popup.info":"Klicke auf {0}, um unsere Push-Benachrichtigungen zu bestätigen","popup.text":"Erhalte Updates und Angebote von {0}, indem du Push-Benachrichtigungen abonnierst.","unsubscribe.title":"Von Benachrichtigungen abmelden","unsubscribe.confirm":"Bist du dir sicher?","unsubscribe.yes":"Ja","unsubscribe.no":"Nein","windowclose.confirm":"Der Vorgang ist noch nicht abgeschlossen, bist du sicher, dass du ihn abbrechen möchtest?","deny.alertHttps":'Wenn du doch Benachrichtigungen empfangen möchtest, kannst du mit einem Klick auf das Schloss die Einstellung "Benachrichtigungen" auf "Erlauben" setzen.',"deny.alertHttp":'Wenn du doch Benachrichtigungen empfangen möchtest, kannst du mit einem Klick auf das Info-Symbol die Einstellung "Benachrichtigungen" auf "Erlauben" setzen.',"bell.subscribe":"Für Benachrichtigungen anmelden","bell.subscribed":"Du bist für Benachrichtigungen angemeldet","bell.unsubscribeSuccess":"Du wirst keine Benachrichtigungen mehr erhalten","bell.hide":"Nicht mehr anzeigen","panel.notifications":"Benachrichtigungen","panel.editTopics":"Themenbereiche bearbeiten","panel.settings":"Einstellungen","panel.notificationsEmpty":"Keine Benachrichtigungen vorhanden.","panel.save":"Speichern","panel.close":"Schlie&szlig;en","panel.successfullySaved":"Erfolgreich gespeichert!","unblock.title":"Du hast Benachrichtigungen blockiert. Bitte folge diesen Schritten um Benachrichtigungen zu empfangen",privacy:"Datenschutz"},"de-formal":{"confirm.title":"{0} würde Ihnen gerne Push Nachrichten senden.","confirm.info":"Benachrichtigungen können jederzeit in den Browser Einstellungen deaktiviert werden.","confirm.allow":"Erlauben","confirm.allowChrome":"Zulassen","confirm.allowFirefox":"Benachrichtigungen erlauben","confirm.deny":"Verbieten","confirm.selectTopics":"Zu welchen Themen möchten Sie Push Nachrichten erhalten?","popup.info":"Klicken Sie auf {0}, um unsere Push-Benachrichtigungen zu bestätigen","popup.text":"Erhalten Sie Updates und Angebote von {0}, indem Sie Push-Benachrichtigungen abonnieren.","unsubscribe.title":"Von Benachrichtigungen abmelden","unsubscribe.confirm":"Sind Sie sich sicher?","unsubscribe.yes":"Ja","unsubscribe.no":"Nein","windowclose.confirm":"Der Vorgang ist noch nicht abgeschlossen, sind Sie sich sicher, dass Sie ihn abbrechen möchten?","deny.alertHttps":'Wenn Sie doch Benachrichtigungen empfangen möchten, können Sie mit einem Klick auf das Schloss die Einstellung "Benachrichtigungen" auf "Erlauben" setzen.',"deny.alertHttp":'Wenn Sie doch Benachrichtigungen empfangen möchten, können Sie mit einem Klick auf das Info-Symbol die Einstellung "Benachrichtigungen" auf "Erlauben" setzen.',"bell.subscribe":"Für Benachrichtigungen anmelden","bell.subscribed":"Sie sind für Benachrichtigungen angemeldet","bell.unsubscribeSuccess":"Sie werden keine Benachrichtigungen mehr erhalten","panel.notifications":"Benachrichtigungen","panel.editTopics":"Themenbereiche bearbeiten","panel.settings":"Einstellungen","panel.notificationsEmpty":"Keine Benachrichtigungen vorhanden.","panel.save":"Speichern","panel.close":"Schlie&szlig;en","panel.successfullySaved":"Erfolgreich gespeichert!","unblock.title":"Sie haben Benachrichtigungen blockiert. Bitte folgen Sie diesen Schritten um Benachrichtigungen zu empfangen",privacy:"Datenschutz"}};function s(e){var t=(window.CleverPush||{config:{}}).config.language||navigator.language||navigator.userLanguage||"en";t="de-formal"!==t?t.substr(0,2).toLowerCase():t,r.hasOwnProperty(t)||(t="en");var i,n=e;if("confirm.allowBrowser"===n){n="confirm.allow";var s=new o.a;"Chrome"===s.getBrowser().name?n="confirm.allowChrome":"Firefox"===s.getBrowser().name&&(n="confirm.allowFirefox")}else"deny.alert"===n&&(n="https:"===location.protocol?"deny.alertHttps":"deny.alertHttp");if(r[t].hasOwnProperty(n)?i=r[t][n]:r.en.hasOwnProperty(n)&&(i=r.en[n]),i){if("windows-1252"===document.characterSet||"iso-8859-1"===document.characterSet)try{return decodeURIComponent(escape(i))}catch(e){}return i}return n}i.d(t,"a",(function(){return s})),String.prototype.formatCleverPush=function(){var e=this;for(var t in arguments)arguments.hasOwnProperty(t)&&(e=e.replace("{".concat(t,"}"),arguments[t]));return e}},function(e,t,i){"use strict";i.d(t,"a",(function(){return h})),i.d(t,"m",(function(){return f})),i.d(t,"d",(function(){return d})),i.d(t,"c",(function(){return g})),i.d(t,"b",(function(){return m})),i.d(t,"e",(function(){return v})),i.d(t,"i",(function(){return _})),i.d(t,"h",(function(){return w})),i.d(t,"g",(function(){return y})),i.d(t,"k",(function(){return M})),i.d(t,"l",(function(){return k})),i.d(t,"j",(function(){return E})),i.d(t,"f",(function(){return x})),i.d(t,"n",(function(){return T}));var n=i(14),o=i.n(n),r=i(4),s="serviceWorker",a="host",c="popup",l="iframe",u="customSubdomain",p=new o.a,h=p.getBrowser(),f=p.getOS(),d=p.getOS(),b=h.version?h.version.split("."):["0"],g=h.version?parseInt(b[0],10):0,m=b.length>1?parseInt(b[1],10):0;function v(){if("undefined"!=typeof window){if(window===window.top){var e=((window.CleverPush||{}).config||{}).cleverpushDomain;if(location.hostname.indexOf(".cleverpush.com")>-1){if(0===location.pathname.indexOf("/subscribe"))return c}else if(e&&location.hostname.indexOf("."+e)>-1&&0===location.pathname.indexOf("/subscribe"))return c;return a}return 0===location.pathname.indexOf("/iframe")||0===location.pathname.indexOf("/referrals")?l:u}return"undefined"!=typeof WorkerLocation&&location instanceof WorkerLocation?s:null}function _(){return v()===a}function w(){return"undefined"!=typeof window}function y(){return/Android/.test(navigator.userAgent)}function M(){return v()===c&&w()}function k(){return location.hostname.indexOf(".cleverpush.com")>-1&&0===location.pathname.indexOf("/unsubscribe")&&w()}function E(){return v()===l&&w()}function x(){var e=document.documentElement,t=document.body,i="scrollTop",n="scrollHeight";return(e[i]||t[i])/((e[n]||t[n])-e.clientHeight)*100}function T(){var e=!0,t=null;return new Promise((function(i,n){new Promise((function(e){var t=function(){return e(!0)},i=function(){return e(!1)};if(!window.webkitRequestFileSystem){if("MozAppearance"in document.documentElement.style){var n=indexedDB.open("test");return n.onerror=t,void(n.onsuccess=i)}if(/constructor/i.test(window.HTMLElement)||navigator.vendor&&navigator.vendor.indexOf("Apple")>-1&&navigator.userAgent&&navigator.userAgent.indexOf("CriOS")<0&&navigator.userAgent.indexOf("FxiOS")<0){if(void 0!==window.openDatabase)try{window.openDatabase(null,null,null,null),window.localStorage.setItem("test",1)}catch(e){return t()}return function(){try{localStorage.length?i():(localStorage.x=1,localStorage.removeItem("x"),i())}catch(e){navigator.cookieEnabled?t():i()}}()}return window.indexedDB||!window.PointerEvent&&!window.MSPointerEvent?i():t()}window.webkitRequestFileSystem(0,0,i,t)})).then((function(o){o?(e=!1,t=null,n(new r.a("Private browsing mode not supported.","private-mode"))):("safari"in window&&"pushNotification"in window.safari?t="safari":void 0!==window.Notification&&("serviceWorker"in navigator||"http:"===location.protocol)?t="w3c":(e=!1,t=null,n(new r.a("Browser is not supported.","unsupported-browser"))),e&&"safari"!==t&&"ios"!==t&&("http:"===location.protocol||"showNotification"in ServiceWorkerRegistration.prototype?"PushManager"in window||(e=!1,n(new r.a("Push messaging isn't supported.","unsupported-browser"))):(e=!1,n(new r.a("Notifications aren't supported.","unsupported-browser"))),"serviceWorker"in navigator||"http:"===location.protocol||(e=!1,n(new r.a("Service workers are not supported.","unsupported-browser")))),e&&(window.self===window.top&&"w3c"===t&&navigator.serviceWorker&&"function"==typeof navigator.serviceWorker.getRegistrations?navigator.serviceWorker.getRegistrations().then((function(){return i(t)})).catch((function(){return n(new r.a("Service workers are not supported","unsupported-browser"))})):i(t)))}))}))}},function(e,t,i){"use strict";i.d(t,"a",(function(){return a}));var n=i(5),o=i.n(n),r=i(7),s=i.n(r),a=function e(){o()(this,e)};s()(a,"INITIALIZED","initialized"),s()(a,"INITIALIZATION_FAILED","initializationFailed"),s()(a,"SUBSCRIBED","subscribed"),s()(a,"UNSUBSCRIBED","unsubscribed"),s()(a,"PERMISSION_GRANTED","permissionGranted"),s()(a,"TOPICS_SET","topicsSet"),s()(a,"BELL_READY","bellReady"),s()(a,"PERMISSION_RE_GRANTED","permissionReGranted"),s()(a,"PANEL_SHOWN","panelShown"),s()(a,"PANEL_HIDDEN","panelHidden")},function(e,t,i){"use strict";i.d(t,"a",(function(){return d}));var n=i(5),o=i.n(n),r=i(12),s=i.n(r),a=i(9),c=i.n(a),l=i(10),u=i.n(l),p=i(13),h=i.n(p),f=i(35),d=function(e){function t(e,i){var n;return o()(this,t),(n=s()(this,c()(t).call(this,e))).name=n.constructor.name,n.reason=i,"function"==typeof Error.captureStackTrace?Error.captureStackTrace(u()(n),n.constructor):n.stack=new Error(e).stack,n}return h()(t,e),t}(i.n(f)()(Error))},function(e,t){e.exports=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}},function(e,t){function i(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}e.exports=function(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),e}},function(e,t){e.exports=function(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}},function(e,t){function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function n(t){return"function"==typeof Symbol&&"symbol"===i(Symbol.iterator)?e.exports=n=function(e){return i(e)}:e.exports=n=function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":i(e)},n(t)}e.exports=n},function(e,t){function i(t){return e.exports=i=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},i(t)}e.exports=i},function(e,t){e.exports=function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}},function(e,t,i){"use strict";function n(){return new Promise((function(e){if("complete"===document.readyState)e();else{var t=function t(){e(),document.removeEventListener("DOMContentLoaded",t,!0),window.removeEventListener("load",t,!0)};document.addEventListener("DOMContentLoaded",t,!0),window.addEventListener("load",t,!0)}}))}function o(){return new Promise((function(e){"loading"!==document.readyState?e():document.addEventListener?document.addEventListener("DOMContentLoaded",e):document.attachEvent("onreadystatechange",(function(){"loading"!==document.readyState&&e()}))}))}function r(e){var t=document.createDocumentFragment(),i=document.createElement("div");for(i.innerHTML=e;i.firstChild;)t.appendChild(i.firstChild);return t}function s(e,t,i){e.style.opacity=0;var n=+new Date;!function o(){var r=+e.style.opacity+(new Date-n)/t;r>1&&(r=1),e.style.opacity=r,n=+new Date,+e.style.opacity<1?window.requestAnimationFrame&&requestAnimationFrame(o)||setTimeout(o,16):"function"==typeof i&&i()}()}function a(e,t,i){e.style.opacity=1;var n=+new Date;!function o(){var r=+e.style.opacity-(new Date-n)/t;r<0&&(r=0),e.style.opacity=r,n=+new Date,+e.style.opacity>0?window.requestAnimationFrame&&requestAnimationFrame(o)||setTimeout(o,16):"function"==typeof i&&i()}()}i.d(t,"b",(function(){return n})),i.d(t,"c",(function(){return o})),i.d(t,"a",(function(){return r})),i.d(t,"d",(function(){return s})),i.d(t,"e",(function(){return a}))},function(e,t,i){var n=i(8),o=i(10);e.exports=function(e,t){return!t||"object"!==n(t)&&"function"!=typeof t?o(e):t}},function(e,t,i){var n=i(27);e.exports=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&n(e,t)}},function(e,t,i){var n;!function(o,r){"use strict";var s="model",a="name",c="type",l="vendor",u="version",p="mobile",h="tablet",f={extend:function(e,t){var i={};for(var n in e)t[n]&&t[n].length%2==0?i[n]=t[n].concat(e[n]):i[n]=e[n];return i},has:function(e,t){return"string"==typeof e&&-1!==t.toLowerCase().indexOf(e.toLowerCase())},lowerize:function(e){return e.toLowerCase()},major:function(e){return"string"==typeof e?e.replace(/[^\d\.]/g,"").split(".")[0]:void 0},trim:function(e){return e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")}},d={rgx:function(e,t){for(var i,n,o,r,s,a,c=0;c<t.length&&!s;){var l=t[c],u=t[c+1];for(i=n=0;i<l.length&&!s;)if(s=l[i++].exec(e))for(o=0;o<u.length;o++)a=s[++n],"object"==typeof(r=u[o])&&r.length>0?2==r.length?"function"==typeof r[1]?this[r[0]]=r[1].call(this,a):this[r[0]]=r[1]:3==r.length?"function"!=typeof r[1]||r[1].exec&&r[1].test?this[r[0]]=a?a.replace(r[1],r[2]):void 0:this[r[0]]=a?r[1].call(this,a,r[2]):void 0:4==r.length&&(this[r[0]]=a?r[3].call(this,a.replace(r[1],r[2])):void 0):this[r]=a||void 0;c+=2}},str:function(e,t){for(var i in t)if("object"==typeof t[i]&&t[i].length>0){for(var n=0;n<t[i].length;n++)if(f.has(t[i][n],e))return"?"===i?void 0:i}else if(f.has(t[i],e))return"?"===i?void 0:i;return e}},b={browser:{oldsafari:{version:{"1.0":"/8",1.2:"/1",1.3:"/3","2.0":"/412","2.0.2":"/416","2.0.3":"/417","2.0.4":"/419","?":"/"}}},device:{amazon:{model:{"Fire Phone":["SD","KF"]}},sprint:{model:{"Evo Shift 4G":"7373KT"},vendor:{HTC:"APA",Sprint:"Sprint"}}},os:{windows:{version:{ME:"4.90","NT 3.11":"NT3.51","NT 4.0":"NT4.0",2e3:"NT 5.0",XP:["NT 5.1","NT 5.2"],Vista:"NT 6.0",7:"NT 6.1",8:"NT 6.2",8.1:"NT 6.3",10:["NT 6.4","NT 10.0"],RT:"ARM"}}}},g={browser:[[/(opera\smini)\/([\w\.-]+)/i,/(opera\s[mobiletab]+).+version\/([\w\.-]+)/i,/(opera).+version\/([\w\.]+)/i,/(opera)[\/\s]+([\w\.]+)/i],[a,u],[/(opios)[\/\s]+([\w\.]+)/i],[[a,"Opera Mini"],u],[/\s(opr)\/([\w\.]+)/i],[[a,"Opera"],u],[/(kindle)\/([\w\.]+)/i,/(lunascape|maxthon|netfront|jasmine|blazer)[\/\s]?([\w\.]*)/i,/(avant\s|iemobile|slim|baidu)(?:browser)?[\/\s]?([\w\.]*)/i,/(?:ms|\()(ie)\s([\w\.]+)/i,/(rekonq)\/([\w\.]*)/i,/(chromium|flock|rockmelt|midori|epiphany|silk|skyfire|ovibrowser|bolt|iron|vivaldi|iridium|phantomjs|bowser|quark)\/([\w\.-]+)/i],[a,u],[/(trident).+rv[:\s]([\w\.]+).+like\sgecko/i],[[a,"IE"],u],[/(edge|edgios|edga)\/((\d+)?[\w\.]+)/i],[[a,"Edge"],u],[/(yabrowser)\/([\w\.]+)/i],[[a,"Yandex"],u],[/(puffin)\/([\w\.]+)/i],[[a,"Puffin"],u],[/(focus)\/([\w\.]+)/i],[[a,"Firefox Focus"],u],[/(opt)\/([\w\.]+)/i],[[a,"Opera Touch"],u],[/((?:[\s\/])uc?\s?browser|(?:juc.+)ucweb)[\/\s]?([\w\.]+)/i],[[a,"UCBrowser"],u],[/(comodo_dragon)\/([\w\.]+)/i],[[a,/_/g," "],u],[/(micromessenger)\/([\w\.]+)/i],[[a,"WeChat"],u],[/(brave)\/([\w\.]+)/i],[[a,"Brave"],u],[/(qqbrowserlite)\/([\w\.]+)/i],[a,u],[/(QQ)\/([\d\.]+)/i],[a,u],[/m?(qqbrowser)[\/\s]?([\w\.]+)/i],[a,u],[/(BIDUBrowser)[\/\s]?([\w\.]+)/i],[a,u],[/(2345Explorer)[\/\s]?([\w\.]+)/i],[a,u],[/(MetaSr)[\/\s]?([\w\.]+)/i],[a],[/(LBBROWSER)/i],[a],[/xiaomi\/miuibrowser\/([\w\.]+)/i],[u,[a,"MIUI Browser"]],[/;fbav\/([\w\.]+);/i],[u,[a,"Facebook"]],[/safari\s(line)\/([\w\.]+)/i,/android.+(line)\/([\w\.]+)\/iab/i],[a,u],[/headlesschrome(?:\/([\w\.]+)|\s)/i],[u,[a,"Chrome Headless"]],[/\swv\).+(chrome)\/([\w\.]+)/i],[[a,/(.+)/,"$1 WebView"],u],[/((?:oculus|samsung)browser)\/([\w\.]+)/i],[[a,/(.+(?:g|us))(.+)/,"$1 $2"],u],[/android.+version\/([\w\.]+)\s+(?:mobile\s?safari|safari)*/i],[u,[a,"Android Browser"]],[/(chrome|omniweb|arora|[tizenoka]{5}\s?browser)\/v?([\w\.]+)/i],[a,u],[/(dolfin)\/([\w\.]+)/i],[[a,"Dolphin"],u],[/((?:android.+)crmo|crios)\/([\w\.]+)/i],[[a,"Chrome"],u],[/(coast)\/([\w\.]+)/i],[[a,"Opera Coast"],u],[/fxios\/([\w\.-]+)/i],[u,[a,"Firefox"]],[/version\/([\w\.]+).+?mobile\/\w+\s(safari)/i],[u,[a,"Mobile Safari"]],[/version\/([\w\.]+).+?(mobile\s?safari|safari)/i],[u,a],[/webkit.+?(gsa)\/([\w\.]+).+?(mobile\s?safari|safari)(\/[\w\.]+)/i],[[a,"GSA"],u],[/webkit.+?(mobile\s?safari|safari)(\/[\w\.]+)/i],[a,[u,d.str,b.browser.oldsafari.version]],[/(konqueror)\/([\w\.]+)/i,/(webkit|khtml)\/([\w\.]+)/i],[a,u],[/(navigator|netscape)\/([\w\.-]+)/i],[[a,"Netscape"],u],[/(swiftfox)/i,/(icedragon|iceweasel|camino|chimera|fennec|maemo\sbrowser|minimo|conkeror)[\/\s]?([\w\.\+]+)/i,/(firefox|seamonkey|k-meleon|icecat|iceape|firebird|phoenix|palemoon|basilisk|waterfox)\/([\w\.-]+)$/i,/(mozilla)\/([\w\.]+).+rv\:.+gecko\/\d+/i,/(polaris|lynx|dillo|icab|doris|amaya|w3m|netsurf|sleipnir)[\/\s]?([\w\.]+)/i,/(links)\s\(([\w\.]+)/i,/(gobrowser)\/?([\w\.]*)/i,/(ice\s?browser)\/v?([\w\._]+)/i,/(mosaic)[\/\s]([\w\.]+)/i],[a,u]],cpu:[[/(?:(amd|x(?:(?:86|64)[_-])?|wow|win)64)[;\)]/i],[["architecture","amd64"]],[/(ia32(?=;))/i],[["architecture",f.lowerize]],[/((?:i[346]|x)86)[;\)]/i],[["architecture","ia32"]],[/windows\s(ce|mobile);\sppc;/i],[["architecture","arm"]],[/((?:ppc|powerpc)(?:64)?)(?:\smac|;|\))/i],[["architecture",/ower/,"",f.lowerize]],[/(sun4\w)[;\)]/i],[["architecture","sparc"]],[/((?:avr32|ia64(?=;))|68k(?=\))|arm(?:64|(?=v\d+[;l]))|(?=atmel\s)avr|(?:irix|mips|sparc)(?:64)?(?=;)|pa-risc)/i],[["architecture",f.lowerize]]],device:[[/\((ipad|playbook);[\w\s\);-]+(rim|apple)/i],[s,l,[c,h]],[/applecoremedia\/[\w\.]+ \((ipad)/],[s,[l,"Apple"],[c,h]],[/(apple\s{0,1}tv)/i],[[s,"Apple TV"],[l,"Apple"]],[/(archos)\s(gamepad2?)/i,/(hp).+(touchpad)/i,/(hp).+(tablet)/i,/(kindle)\/([\w\.]+)/i,/\s(nook)[\w\s]+build\/(\w+)/i,/(dell)\s(strea[kpr\s\d]*[\dko])/i],[l,s,[c,h]],[/(kf[A-z]+)\sbuild\/.+silk\//i],[s,[l,"Amazon"],[c,h]],[/(sd|kf)[0349hijorstuw]+\sbuild\/.+silk\//i],[[s,d.str,b.device.amazon.model],[l,"Amazon"],[c,p]],[/android.+aft([bms])\sbuild/i],[s,[l,"Amazon"],[c,"smarttv"]],[/\((ip[honed|\s\w*]+);.+(apple)/i],[s,l,[c,p]],[/\((ip[honed|\s\w*]+);/i],[s,[l,"Apple"],[c,p]],[/(blackberry)[\s-]?(\w+)/i,/(blackberry|benq|palm(?=\-)|sonyericsson|acer|asus|dell|meizu|motorola|polytron)[\s_-]?([\w-]*)/i,/(hp)\s([\w\s]+\w)/i,/(asus)-?(\w+)/i],[l,s,[c,p]],[/\(bb10;\s(\w+)/i],[s,[l,"BlackBerry"],[c,p]],[/android.+(transfo[prime\s]{4,10}\s\w+|eeepc|slider\s\w+|nexus 7|padfone)/i],[s,[l,"Asus"],[c,h]],[/(sony)\s(tablet\s[ps])\sbuild\//i,/(sony)?(?:sgp.+)\sbuild\//i],[[l,"Sony"],[s,"Xperia Tablet"],[c,h]],[/android.+\s([c-g]\d{4}|so[-l]\w+)\sbuild\//i],[s,[l,"Sony"],[c,p]],[/\s(ouya)\s/i,/(nintendo)\s([wids3u]+)/i],[l,s,[c,"console"]],[/android.+;\s(shield)\sbuild/i],[s,[l,"Nvidia"],[c,"console"]],[/(playstation\s[34portablevi]+)/i],[s,[l,"Sony"],[c,"console"]],[/(sprint\s(\w+))/i],[[l,d.str,b.device.sprint.vendor],[s,d.str,b.device.sprint.model],[c,p]],[/(lenovo)\s?(S(?:5000|6000)+(?:[-][\w+]))/i],[l,s,[c,h]],[/(htc)[;_\s-]+([\w\s]+(?=\))|\w+)*/i,/(zte)-(\w*)/i,/(alcatel|geeksphone|lenovo|nexian|panasonic|(?=;\s)sony)[_\s-]?([\w-]*)/i],[l,[s,/_/g," "],[c,p]],[/(nexus\s9)/i],[s,[l,"HTC"],[c,h]],[/d\/huawei([\w\s-]+)[;\)]/i,/(nexus\s6p)/i],[s,[l,"Huawei"],[c,p]],[/(microsoft);\s(lumia[\s\w]+)/i],[l,s,[c,p]],[/[\s\(;](xbox(?:\sone)?)[\s\);]/i],[s,[l,"Microsoft"],[c,"console"]],[/(kin\.[onetw]{3})/i],[[s,/\./g," "],[l,"Microsoft"],[c,p]],[/\s(milestone|droid(?:[2-4x]|\s(?:bionic|x2|pro|razr))?:?(\s4g)?)[\w\s]+build\//i,/mot[\s-]?(\w*)/i,/(XT\d{3,4}) build\//i,/(nexus\s6)/i],[s,[l,"Motorola"],[c,p]],[/android.+\s(mz60\d|xoom[\s2]{0,2})\sbuild\//i],[s,[l,"Motorola"],[c,h]],[/hbbtv\/\d+\.\d+\.\d+\s+\([\w\s]*;\s*(\w[^;]*);([^;]*)/i],[[l,f.trim],[s,f.trim],[c,"smarttv"]],[/hbbtv.+maple;(\d+)/i],[[s,/^/,"SmartTV"],[l,"Samsung"],[c,"smarttv"]],[/\(dtv[\);].+(aquos)/i],[s,[l,"Sharp"],[c,"smarttv"]],[/android.+((sch-i[89]0\d|shw-m380s|gt-p\d{4}|gt-n\d+|sgh-t8[56]9|nexus 10))/i,/((SM-T\w+))/i],[[l,"Samsung"],s,[c,h]],[/smart-tv.+(samsung)/i],[l,[c,"smarttv"],s],[/((s[cgp]h-\w+|gt-\w+|galaxy\snexus|sm-\w[\w\d]+))/i,/(sam[sung]*)[\s-]*(\w+-?[\w-]*)/i,/sec-((sgh\w+))/i],[[l,"Samsung"],s,[c,p]],[/sie-(\w*)/i],[s,[l,"Siemens"],[c,p]],[/(maemo|nokia).*(n900|lumia\s\d+)/i,/(nokia)[\s_-]?([\w-]*)/i],[[l,"Nokia"],s,[c,p]],[/android\s3\.[\s\w;-]{10}(a\d{3})/i],[s,[l,"Acer"],[c,h]],[/android.+([vl]k\-?\d{3})\s+build/i],[s,[l,"LG"],[c,h]],[/android\s3\.[\s\w;-]{10}(lg?)-([06cv9]{3,4})/i],[[l,"LG"],s,[c,h]],[/(lg) netcast\.tv/i],[l,s,[c,"smarttv"]],[/(nexus\s[45])/i,/lg[e;\s\/-]+(\w*)/i,/android.+lg(\-?[\d\w]+)\s+build/i],[s,[l,"LG"],[c,p]],[/android.+(ideatab[a-z0-9\-\s]+)/i],[s,[l,"Lenovo"],[c,h]],[/linux;.+((jolla));/i],[l,s,[c,p]],[/((pebble))app\/[\d\.]+\s/i],[l,s,[c,"wearable"]],[/android.+;\s(oppo)\s?([\w\s]+)\sbuild/i],[l,s,[c,p]],[/crkey/i],[[s,"Chromecast"],[l,"Google"]],[/android.+;\s(glass)\s\d/i],[s,[l,"Google"],[c,"wearable"]],[/android.+;\s(pixel c)[\s)]/i],[s,[l,"Google"],[c,h]],[/android.+;\s(pixel( [23])?( xl)?)\s/i],[s,[l,"Google"],[c,p]],[/android.+;\s(\w+)\s+build\/hm\1/i,/android.+(hm[\s\-_]*note?[\s_]*(?:\d\w)?)\s+build/i,/android.+(mi[\s\-_]*(?:one|one[\s_]plus|note lte)?[\s_]*(?:\d?\w?)[\s_]*(?:plus)?)\s+build/i,/android.+(redmi[\s\-_]*(?:note)?(?:[\s_]*[\w\s]+))\s+build/i],[[s,/_/g," "],[l,"Xiaomi"],[c,p]],[/android.+(mi[\s\-_]*(?:pad)(?:[\s_]*[\w\s]+))\s+build/i],[[s,/_/g," "],[l,"Xiaomi"],[c,h]],[/android.+;\s(m[1-5]\snote)\sbuild/i],[s,[l,"Meizu"],[c,h]],[/(mz)-([\w-]{2,})/i],[[l,"Meizu"],s,[c,p]],[/android.+a000(1)\s+build/i,/android.+oneplus\s(a\d{4})\s+build/i],[s,[l,"OnePlus"],[c,p]],[/android.+[;\/]\s*(RCT[\d\w]+)\s+build/i],[s,[l,"RCA"],[c,h]],[/android.+[;\/\s]+(Venue[\d\s]{2,7})\s+build/i],[s,[l,"Dell"],[c,h]],[/android.+[;\/]\s*(Q[T|M][\d\w]+)\s+build/i],[s,[l,"Verizon"],[c,h]],[/android.+[;\/]\s+(Barnes[&\s]+Noble\s+|BN[RT])(V?.*)\s+build/i],[[l,"Barnes & Noble"],s,[c,h]],[/android.+[;\/]\s+(TM\d{3}.*\b)\s+build/i],[s,[l,"NuVision"],[c,h]],[/android.+;\s(k88)\sbuild/i],[s,[l,"ZTE"],[c,h]],[/android.+[;\/]\s*(gen\d{3})\s+build.*49h/i],[s,[l,"Swiss"],[c,p]],[/android.+[;\/]\s*(zur\d{3})\s+build/i],[s,[l,"Swiss"],[c,h]],[/android.+[;\/]\s*((Zeki)?TB.*\b)\s+build/i],[s,[l,"Zeki"],[c,h]],[/(android).+[;\/]\s+([YR]\d{2})\s+build/i,/android.+[;\/]\s+(Dragon[\-\s]+Touch\s+|DT)(\w{5})\sbuild/i],[[l,"Dragon Touch"],s,[c,h]],[/android.+[;\/]\s*(NS-?\w{0,9})\sbuild/i],[s,[l,"Insignia"],[c,h]],[/android.+[;\/]\s*((NX|Next)-?\w{0,9})\s+build/i],[s,[l,"NextBook"],[c,h]],[/android.+[;\/]\s*(Xtreme\_)?(V(1[045]|2[015]|30|40|60|7[05]|90))\s+build/i],[[l,"Voice"],s,[c,p]],[/android.+[;\/]\s*(LVTEL\-)?(V1[12])\s+build/i],[[l,"LvTel"],s,[c,p]],[/android.+;\s(PH-1)\s/i],[s,[l,"Essential"],[c,p]],[/android.+[;\/]\s*(V(100MD|700NA|7011|917G).*\b)\s+build/i],[s,[l,"Envizen"],[c,h]],[/android.+[;\/]\s*(Le[\s\-]+Pan)[\s\-]+(\w{1,9})\s+build/i],[l,s,[c,h]],[/android.+[;\/]\s*(Trio[\s\-]*.*)\s+build/i],[s,[l,"MachSpeed"],[c,h]],[/android.+[;\/]\s*(Trinity)[\-\s]*(T\d{3})\s+build/i],[l,s,[c,h]],[/android.+[;\/]\s*TU_(1491)\s+build/i],[s,[l,"Rotor"],[c,h]],[/android.+(KS(.+))\s+build/i],[s,[l,"Amazon"],[c,h]],[/android.+(Gigaset)[\s\-]+(Q\w{1,9})\s+build/i],[l,s,[c,h]],[/\s(tablet|tab)[;\/]/i,/\s(mobile)(?:[;\/]|\ssafari)/i],[[c,f.lowerize],l,s],[/(android[\w\.\s\-]{0,9});.+build/i],[s,[l,"Generic"]]],engine:[[/windows.+\sedge\/([\w\.]+)/i],[u,[a,"EdgeHTML"]],[/(presto)\/([\w\.]+)/i,/(webkit|trident|netfront|netsurf|amaya|lynx|w3m)\/([\w\.]+)/i,/(khtml|tasman|links)[\/\s]\(?([\w\.]+)/i,/(icab)[\/\s]([23]\.[\d\.]+)/i],[a,u],[/rv\:([\w\.]{1,9}).+(gecko)/i],[u,a]],os:[[/microsoft\s(windows)\s(vista|xp)/i],[a,u],[/(windows)\snt\s6\.2;\s(arm)/i,/(windows\sphone(?:\sos)*)[\s\/]?([\d\.\s\w]*)/i,/(windows\smobile|windows)[\s\/]?([ntce\d\.\s]+\w)/i],[a,[u,d.str,b.os.windows.version]],[/(win(?=3|9|n)|win\s9x\s)([nt\d\.]+)/i],[[a,"Windows"],[u,d.str,b.os.windows.version]],[/\((bb)(10);/i],[[a,"BlackBerry"],u],[/(blackberry)\w*\/?([\w\.]*)/i,/(tizen)[\/\s]([\w\.]+)/i,/(android|webos|palm\sos|qnx|bada|rim\stablet\sos|meego|contiki)[\/\s-]?([\w\.]*)/i,/linux;.+(sailfish);/i],[a,u],[/(symbian\s?os|symbos|s60(?=;))[\/\s-]?([\w\.]*)/i],[[a,"Symbian"],u],[/\((series40);/i],[a],[/mozilla.+\(mobile;.+gecko.+firefox/i],[[a,"Firefox OS"],u],[/(nintendo|playstation)\s([wids34portablevu]+)/i,/(mint)[\/\s\(]?(\w*)/i,/(mageia|vectorlinux)[;\s]/i,/(joli|[kxln]?ubuntu|debian|suse|opensuse|gentoo|(?=\s)arch|slackware|fedora|mandriva|centos|pclinuxos|redhat|zenwalk|linpus)[\/\s-]?(?!chrom)([\w\.-]*)/i,/(hurd|linux)\s?([\w\.]*)/i,/(gnu)\s?([\w\.]*)/i],[a,u],[/(cros)\s[\w]+\s([\w\.]+\w)/i],[[a,"Chromium OS"],u],[/(sunos)\s?([\w\.\d]*)/i],[[a,"Solaris"],u],[/\s([frentopc-]{0,4}bsd|dragonfly)\s?([\w\.]*)/i],[a,u],[/(haiku)\s(\w+)/i],[a,u],[/cfnetwork\/.+darwin/i,/ip[honead]{2,4}(?:.*os\s([\w]+)\slike\smac|;\sopera)/i],[[u,/_/g,"."],[a,"iOS"]],[/(mac\sos\sx)\s?([\w\s\.]*)/i,/(macintosh|mac(?=_powerpc)\s)/i],[[a,"Mac OS"],[u,/_/g,"."]],[/((?:open)?solaris)[\/\s-]?([\w\.]*)/i,/(aix)\s((\d)(?=\.|\)|\s)[\w\.])*/i,/(plan\s9|minix|beos|os\/2|amigaos|morphos|risc\sos|openvms|fuchsia)/i,/(unix)\s?([\w\.]*)/i],[a,u]]},m=function(e,t){if("object"==typeof e&&(t=e,e=void 0),!(this instanceof m))return new m(e,t).getResult();var i=e||(o&&o.navigator&&o.navigator.userAgent?o.navigator.userAgent:""),n=t?f.extend(g,t):g;return this.getBrowser=function(){var e={name:void 0,version:void 0};return d.rgx.call(e,i,n.browser),e.major=f.major(e.version),e},this.getCPU=function(){var e={architecture:void 0};return d.rgx.call(e,i,n.cpu),e},this.getDevice=function(){var e={vendor:void 0,model:void 0,type:void 0};return d.rgx.call(e,i,n.device),e},this.getEngine=function(){var e={name:void 0,version:void 0};return d.rgx.call(e,i,n.engine),e},this.getOS=function(){var e={name:void 0,version:void 0};return d.rgx.call(e,i,n.os),e},this.getResult=function(){return{ua:this.getUA(),browser:this.getBrowser(),engine:this.getEngine(),os:this.getOS(),device:this.getDevice(),cpu:this.getCPU()}},this.getUA=function(){return i},this.setUA=function(e){return i=e,this},this};m.VERSION="0.7.19",m.BROWSER={NAME:a,MAJOR:"major",VERSION:u},m.CPU={ARCHITECTURE:"architecture"},m.DEVICE={MODEL:s,VENDOR:l,TYPE:c,CONSOLE:"console",MOBILE:p,SMARTTV:"smarttv",TABLET:h,WEARABLE:"wearable",EMBEDDED:"embedded"},m.ENGINE={NAME:a,VERSION:u},m.OS={NAME:a,VERSION:u},void 0!==t?(void 0!==e&&e.exports&&(t=e.exports=m),t.UAParser=m):i(58)?void 0===(n=function(){return m}.call(t,i,t,e))||(e.exports=n):o&&(o.UAParser=m);var v=o&&(o.jQuery||o.Zepto);if(void 0!==v&&!v.ua){var _=new m;v.ua=_.getResult(),v.ua.get=function(){return _.getUA()},v.ua.set=function(e){_.setUA(e);var t=_.getResult();for(var i in t)v.ua[i]=t[i]}}}("object"==typeof window?window:this)},function(e,t,i){"use strict";i.d(t,"a",(function(){return p}));var n=i(5),o=i.n(n),r=i(12),s=i.n(r),a=i(9),c=i.n(a),l=i(13),u=i.n(l),p=function(e){function t(){return o()(this,t),s()(this,c()(t).apply(this,arguments))}return u()(t,e),t}(i(4).a)},function(e,t,i){var n=i(32);function o(t,i,r){return"undefined"!=typeof Reflect&&Reflect.get?e.exports=o=Reflect.get:e.exports=o=function(e,t,i){var o=n(e,t);if(o){var r=Object.getOwnPropertyDescriptor(o,t);return r.get?r.get.call(i):r.value}},o(t,i,r||t)}e.exports=o},function(e,t,i){"use strict";var n=i(5),o=i.n(n),r=i(6),s=i.n(r),a=i(0),c=i(25),l=i(2),u=function(){function e(t){o()(this,e),this.config=t;try{if("localStorage"in window&&(localStorage.getItem("push-subscription-status")&&!localStorage.getItem("cleverpush-subscription-status")&&localStorage.setItem("cleverpush-subscription-status",localStorage.getItem("push-subscription-status")),localStorage.getItem("push-subscription-id")&&!localStorage.getItem("cleverpush-subscription-id")&&localStorage.setItem("cleverpush-subscription-id",localStorage.getItem("push-subscription-id")),"allowed"!==localStorage.getItem("cleverpush-subscription-status"))){var i=Date.now();if(void 0===this.config.alertHoursDeny&&(this.config.alertHoursDeny=8760),localStorage.getItem("cleverpush-deny-time")&&void 0!==this.config.alertHoursDeny){var n=parseInt(localStorage.getItem("cleverpush-deny-time"),10),r=parseInt(this.config.alertHoursDeny,10);isNaN(n)||isNaN(r)||n+60*r*60*1e3<i&&(localStorage.removeItem("push-subscription-status"),localStorage.removeItem("cleverpush-deny-time"),"denied"===localStorage.getItem("cleverpush-subscription-status")?localStorage.setItem("cleverpush-subscription-status","was-denied"):localStorage.removeItem("cleverpush-subscription-status"))}if(localStorage.getItem("cleverpush-close-time")&&void 0!==this.config.alertHoursClose){var s=parseInt(localStorage.getItem("cleverpush-close-time"),10),a=parseInt(this.config.alertHoursClose,10);isNaN(s)||isNaN(a)||s+60*a*60*1e3<i&&(localStorage.removeItem("push-subscription-status"),localStorage.removeItem("cleverpush-subscription-status"),localStorage.removeItem("cleverpush-close-time"))}}}catch(e){}}return s()(e,[{key:"dbOpenError",value:function(e){var t=this;e.message&&e.message.toString().indexOf("VersionError")>-1?(a.b.info("deleting db"),window.indexedDB.deleteDatabase("cleverpush").onsuccess=function(){var e=t.db.open();e.onsuccess=function(){return t.dbOpenSuccess(e)},e.onerror=function(e){a.b.warn(e)}}):e.name&&"NoSuchDatabaseError"===e.name||a.b.warn(e)}},{key:"dbOpenSuccess",value:function(e){var t=this;this.db=e.result,this.db.onerror=function(e){a.b.warn("IndexedDB error occured",e)},this.db.onversionchange=function(e){if(null===e.newVersion)e.target.close();else{t.db.close();var i=window.indexedDB.open("cleverpush",40);i.onsuccess=function(){return t.dbOpenSuccess(i)},i.onerror=t.dbOpenError}}}},{key:"initDb",value:function(){var e=this;if(!this.db&&window.indexedDB)try{var t=window.indexedDB.open("cleverpush",40);t.onsuccess=function(){return e.dbOpenSuccess(t)},t.onerror=this.dbOpenError,t.onupgradeneeded=function(e){var t=e.target.result,i=t.createObjectStore("notifications",{keyPath:"id"});i.createIndex("id","id",{unique:!0}),i.createIndex("url","url",{unique:!1}),i.createIndex("clicked","clicked",{unique:!1}),i.createIndex("title","title",{unique:!1}),i.createIndex("text","text",{unique:!1}),i.createIndex("icon","icon",{unique:!1}),i.createIndex("subscriptionId","subscriptionId",{unique:!1}),i.createIndex("channelId","channelId",{unique:!1}),i.createIndex("autoHide","autoHide",{unique:!1}),i.createIndex("markedAsDelivered","markedAsDelivered",{unique:!1}),i.createIndex("markedAsClicked","markedAsClicked",{unique:!1}),i.createIndex("clickedAction","clickedAction",{unique:!1}),i.createIndex("deliveredAt","deliveredAt",{unique:!1});var n=t.createObjectStore("subscription",{keyPath:"id"});n.createIndex("id","id",{unique:!0}),n.createIndex("channelId","channelId",{unique:!1})}}catch(e){a.b.info("initDb err",e)}}},{key:"getNotifications",value:function(e){var t=this;return new Promise((function(i){var n=[];if(t.db){var o=t.db.transaction(["notifications"],"readonly").objectStore("notifications").index("deliveredAt"),r=(IDBKeyRange.lowerBound(0),o.openCursor(null,"prev"));r.onsuccess=function(t){var o=t.target.result;!1==!!o||n.length>=(e||50)?i(n):(n.push(o.value),o.continue())},r.onerror=function(){return i(n)}}else i(n)}))}},{key:"getNotification",value:function(e){var t=this;return new Promise((function(i){if(t.db){var n=t.db.transaction(["notifications"]).objectStore("notifications").get(e);n.onsuccess=function(e){var t=e.target.result;i(t)},n.onerror=function(){return i(null)}}else i(null)}))}},{key:"addNotification",value:function(e){var t=this;return new Promise((function(i,n){if(t.db){var o=t.db.transaction(["notifications"],"readwrite").objectStore("notifications").put(e);o.onsuccess=i,o.onerror=n}else i(null)}))}},{key:"deleteNotification",value:function(e){var t=this;return new Promise((function(i,n){if(t.db){var o=t.db.transaction(["notifications"],"readwrite").objectStore("notifications").delete(e);o.onsuccess=i,o.onerror=n}else i(null)}))}},{key:"canSubscribe",value:function(){try{return new Promise((function(e){try{var t=localStorage.getItem("cleverpush-subscription-status"),i=sessionStorage.getItem("cleverpush-subscription-status");e("denied"!==t&&"unsubscribed"!==t&&"pending"!==t&&"denied"!==i)}catch(t){e(!0)}}))}catch(e){return Promise.resolve(!0)}}},{key:"isSubscribed",value:function(e,t,i){var n=this;try{if(void 0!==t&&t){var o=localStorage.getItem("cleverpush-subscription-status");return!(!o||"denied"===o||"unsubscribed"===o||"pending"===o)&&!!this.getSubscriptionId()}return new Promise((function(t){try{var o=localStorage.getItem("cleverpush-subscription-status");t(o&&"denied"!==o&&"unsubscribed"!==o&&"pending"!==o?!!e||!!n.getSubscriptionId():!(void 0===i||!i)&&!!n.getSubscriptionId())}catch(e){t(!1)}}))}catch(e){return Promise.resolve(!0)}}},{key:"getSubscriptionId",value:function(){var e;try{e=localStorage.getItem("cleverpush-subscription-id")}catch(e){}if(!e&&Object(l.l)()){var t=new URLSearchParams(location.search.slice(1));t&&(e=t.get("subscriptionId"))}return e}},{key:"setClickedNotification",value:function(e){try{localStorage.setItem("cleverpush-notification-clicked",JSON.stringify({id:e,date:Date.now()}))}catch(e){}}},{key:"getClickedNotification",value:function(){try{var e=localStorage.getItem("cleverpush-notification-clicked"),t=JSON.parse(e);if(t&&t.id&&t.date&&parseInt(t.date,10)+36e5>Date.now())return t.id}catch(e){}return null}},{key:"getLastSession",value:function(){var e;try{e=localStorage.getItem("cleverpush-last-session")}catch(e){}var t={};if(e)try{t=JSON.parse(e)}catch(e){}return t}},{key:"setLastSession",value:function(e){try{localStorage.setItem("cleverpush-last-session",JSON.stringify(e))}catch(e){}}},{key:"setSubscribed",value:function(e,t){var i=this;if(e){var n=localStorage.getItem("cleverpush-subscription-id");if(n&&n!==e&&localStorage.setItem("cleverpush-subscription-id-old",n),localStorage.setItem("cleverpush-subscription-id",e),void 0!==t&&t||localStorage.setItem("cleverpush-subscription-status","allowed"),this.db)try{this.db.transaction(["subscription"],"readwrite").objectStore("subscription").clear().onsuccess=function(){i.db.transaction(["subscription"],"readwrite").objectStore("subscription").put({id:e,channelId:i.config.channelId})}}catch(e){a.b.info("setSubscribed db error",e)}}}},{key:"getFacebookUserRef",value:function(){try{return localStorage.getItem("cleverpush-facebook-user-ref")}catch(e){}}},{key:"setFacebookUserRef",value:function(e){e&&localStorage.setItem("cleverpush-facebook-user-ref",e)}},{key:"setAllowed",value:function(){localStorage.setItem("cleverpush-subscription-status","allowed")}},{key:"setPending",value:function(){localStorage.setItem("cleverpush-subscription-status","pending")}},{key:"setDenied",value:function(){localStorage.setItem("cleverpush-subscription-status","denied"),localStorage.setItem("cleverpush-deny-time",Date.now())}},{key:"setUnsubscribed",value:function(e){var t=localStorage.getItem("cleverpush-subscription-id");if(t&&localStorage.setItem("cleverpush-subscription-id-old",t),localStorage.removeItem("push-subscription-id"),localStorage.removeItem("cleverpush-subscription-id"),localStorage.removeItem("cleverpush-last-sync"),localStorage.removeItem("cleverpush-facebook-user-ref"),localStorage.removeItem("cleverpush-topics"),e||(localStorage.setItem("cleverpush-subscription-status","unsubscribed"),localStorage.setItem("cleverpush-deny-time",Date.now())),this.db)try{this.db.transaction(["subscription"],"readwrite").objectStore("subscription").clear()}catch(e){a.b.info("setUnsubscribed db error",e)}}},{key:"checkIfShouldSync",value:function(){var e=this;return new Promise((function(t){try{var i=localStorage.getItem("cleverpush-last-sync");if(e.getSubscriptionId())if(i){var n=parseInt(i,10);isNaN(n)?t(!0):t(n+1728e5<=Date.now())}else t(!0);else t(!0)}catch(e){t(!0)}}))}},{key:"setSynced",value:function(){localStorage.setItem("cleverpush-last-sync",Date.now())}},{key:"checkIfShouldUpdateWorker",value:function(){return new Promise((function(e){try{var t=localStorage.getItem("cleverpush-last-worker-update"),i=localStorage.getItem("cleverpush-last-worker-version");if(t)e("0.4.0"!==i);else e(!0)}catch(t){e(!0)}}))}},{key:"setWorkerUpdated",value:function(){localStorage.setItem("cleverpush-last-worker-update",Date.now()),localStorage.setItem("cleverpush-last-worker-version","0.4.0")}},{key:"getVisits",value:function(){var e;try{e=localStorage.getItem("cleverpush-visits")}catch(e){}var t=0;return e&&(t=parseInt(e,10),isNaN(t)&&(t=0)),t}},{key:"incrementVisits",value:function(){var e=this.getVisits();e+=1,localStorage.setItem("cleverpush-visits",e)}},{key:"setTopics",value:function(e){return a.b.debug("storageManager.setTopics",e),new Promise((function(t){localStorage.setItem("cleverpush-topics",JSON.stringify(e)),t(!0)}))}},{key:"getTopics",value:function(){var e=localStorage.getItem("cleverpush-topics");if(!e)return Promise.resolve([]);try{var t=JSON.parse(e);return Promise.resolve(t||[])}catch(e){return Promise.resolve([])}}},{key:"getTagDates",value:function(){var e={};if(localStorage.getItem("cleverpush-tag-dates"))try{e=JSON.parse(localStorage.getItem("cleverpush-tag-dates"))}catch(e){}return e}},{key:"getTagDate",value:function(e){var t=(this.getTagDates()||{})[e];return t?new Date(t):null}},{key:"setTags",value:function(e){var t=this;return new Promise((function(i){localStorage.setItem("cleverpush-tags",JSON.stringify(e));var n=t.getTagDates()||{};e.forEach((function(e){n[e]=(new Date).toISOString()})),localStorage.setItem("cleverpush-tag-dates",JSON.stringify(n)),i(!0)}))}},{key:"addTag",value:function(e){var t=this;return this.getTags().then((function(i){return i.indexOf(e)<0&&i.push(e),t.setTags(i)}))}},{key:"removeTag",value:function(e){var t=this;return this.getTags().then((function(i){var n=i.indexOf(e);return n>-1?(i.splice(n,1),t.setTags(i)):Promise.resolve()}))}},{key:"getTags",value:function(){var e=localStorage.getItem("cleverpush-tags");if(!e)return Promise.resolve([]);try{var t=JSON.parse(e);return Promise.resolve(t||[])}catch(e){return Promise.resolve([])}}},{key:"hasTag",value:function(e){return this.getTags().then((function(t){return Promise.resolve(t.indexOf(e)>-1)}))}},{key:"setClosed",value:function(){localStorage.setItem("cleverpush-close-time",Date.now()),void 0!==this.config.alertHoursClose?localStorage.setItem("cleverpush-subscription-status","denied"):localStorage.removeItem("cleverpush-subscription-status")}},{key:"setTempBlocked",value:function(){sessionStorage.setItem("cleverpush-subscription-status","denied")}}]),e}(),p=i(3),h=i(4);i.d(t,"a",(function(){return f}));var f=function(){function e(t,i,n){var r=this;o()(this,e),this.config=t,this.api=i,this.triggerEvent=n,this.storageManager=new u(t),this.subscribed=!1,this.initialTags=[];try{this.getTopics().then((function(e){return r.topics=e}))}catch(e){}}return s()(e,[{key:"isSubscribed",value:function(){var e=this;return new Promise((function(t){return"PREVIEW"===e.config.env?t(!1):"granted"===window.Notification.permission&&navigator.serviceWorker&&navigator.serviceWorker.controller?e.getActiveWorkerRegistration().then((function(i){return i.pushManager.getSubscription().then((function(i){if(i)return e.storageManager.isSubscribed().then((function(i){a.b.debug("manager subscribed = "+i+" (2)"),e.subscribed=i,t(i)}));a.b.debug("manager subscribed = false (1)"),e.subscribed=!1,t(!1)}))})).catch((function(i){i&&a.b.error(i),a.b.debug("manager subscribed = false (3)"),e.subscribed=!1,t(!1)})):(a.b.debug("manager subscribed = false (4)"),e.subscribed=!1,void t(!1))}))}},{key:"canSubscribe",value:function(){var e=this;return new Promise((function(t,i){e.storageManager.canSubscribe().then((function(n){n?e.isSubscribed().then((function(e){e?i(new h.a("User is already subscribed","subscribed")):"denied"===Notification.permission?i(new h.a("User denied notifications","denied")):t(!0)})):i(new h.a("User has manually unsubscribed or denied notifications","unsubscribed"))})).catch((function(e){i(e)}))}))}},{key:"subscribe",value:function(){}},{key:"subscribeForce",value:function(){this.subscribe()}},{key:"unsubscribe",value:function(e,t){var i=this,n=function(){return i.storageManager.setUnsubscribed(e),i.topics=[],i.triggerEvent(p.a.UNSUBSCRIBED),navigator.serviceWorker&&navigator.serviceWorker.controller?i.getActiveWorkerRegistration().then((function(e){return e.pushManager})).then((function(e){return e.getSubscription()})).then((function(e){if(e)return e.unsubscribe().then((function(){return Promise.resolve()}))})):Promise.resolve()},o=this.storageManager.getSubscriptionId();return!o||void 0!==t&&t===o?n():this.api.unsubscribe(o).then((function(){return n()}))}},{key:"getWorkerPath",value:function(){return Object(l.k)()?"/cleverpush-worker.js":this.config.serviceWorkerFile||"/worker.js"}},{key:"getWorkerScope",value:function(){var e=this.getWorkerPath();return e.indexOf("?")>-1&&(e=e.split("?")[0]),e.substr(0,e.lastIndexOf("/")+1)||"/"}},{key:"getActiveWorkerRegistration",value:function(){var e=this;return new Promise((function(t,i){if(navigator.serviceWorker)if(navigator.serviceWorker.getRegistration){var n=e.getWorkerScope(),o=e.config.serviceWorkerFile;navigator.serviceWorker.getRegistration(n).then((function(e){e&&e.active&&(!o||!e.active.scriptURL||e.active.scriptURL.indexOf(o)>-1)?t(e):"function"==typeof navigator.serviceWorker.getRegistrations?navigator.serviceWorker.getRegistrations().then((function(e){var n=!1;(e||[]).forEach((function(e){n||e.active&&(!o||!e.active.scriptURL||e.active.scriptURL.indexOf(o)>-1)&&(n=!0,t(e))})),n||i()})).catch(i):navigator.serviceWorker.controller?(a.b.debug("worker: getActiveWorkerRegistration: waiting for worker to be ready"),navigator.serviceWorker.ready.then(t).catch(i)):i()})).catch(i)}else navigator.serviceWorker.controller?(a.b.debug("worker: getActiveWorkerRegistration: waiting for worker to be ready"),navigator.serviceWorker.ready.then(t).catch(i)):i();else a.b.debug("worker: getActiveWorkerRegistration: !navigator.serviceWorker"),i()}))}},{key:"registerWorker",value:function(){var e=this;return new Promise((function(t,i){a.b.debug("registering worker");var n=function(){var n=e.getWorkerPath(),o=e.getWorkerScope();navigator.serviceWorker.register(n,{scope:o,updateViaCache:"none"}).then((function(n){a.b.debug("worker registered",n),n.active?(a.b.debug("worker is active"),t(n)):n.installing?(a.b.debug("worker is installing"),n.installing.addEventListener("statechange",(function(e){a.b.debug("worker: onstatechange",e.target.state),"activated"===e.target.state&&t(n)}))):n.waiting?(a.b.debug("worker is waiting"),n.installing.addEventListener("statechange",(function(e){a.b.debug("worker: onstatechange",e.target.state),"activated"===e.target.state&&t(n)}))):(a.b.debug("worker: getActiveWorkerRegistration"),e.getActiveWorkerRegistration().then(t).catch(i))})).catch((function(e){a.b.error("error registering worker",e),i(e)}))};e.getActiveWorkerRegistration().then((function(e){e&&e.active?(a.b.debug("worker was already registered",e),t(e)):n()})).catch(n)}))}},{key:"unregisterOtherPushSubscriptions",value:function(e){var t=this;Object(a.c)("unregisterOtherPushSubscriptions",e),this.config.importedSubscriptionsProvider&&"function"==typeof navigator.serviceWorker.getRegistrations&&navigator.serviceWorker.getRegistrations().then((function(i){(i||[]).forEach((function(i){i.active&&i.active.scriptURL!==e.scriptURL&&i.active.scriptURL&&i.active.scriptURL.indexOf(t.config.serviceWorkerFile)<0&&i.active.scriptURL.indexOf("cleverpush")<0&&i.pushManager.getSubscription().then((function(e){a.b.debug("unsubscribing:",e),e&&(e.unsubscribe(),t.migratedSubscription=!0)}))}))}))}},{key:"tryWorkerUpdate",value:function(e){var t=this;Object(a.c)("tryWorkerUpdate",e),this.storageManager.checkIfShouldUpdateWorker().then((function(i){e&&i&&(a.b.debug("updating worker now"),e.update(),t.storageManager.setWorkerUpdated())})),this.unregisterOtherPushSubscriptionsCalled||(this.unregisterOtherPushSubscriptionsCalled=!0,this.unregisterOtherPushSubscriptions(e))}},{key:"sync",value:function(e,t){var i=this,n=void 0!==t?t:this.topics;return new Promise((function(t){var o=e;i.getSubscriptionId().then((function(e){var r=function(){var r={};e&&(r.subscriptionId=e),i.existingPermission&&(r.existingPermission=!0),i.migratedSubscription&&(r.migratedSubscription=!0),i.api.syncSubscription(o,n,i.initialTags,r).then((function(e){var n=e.id;if(i.initialTags=[],i.storageManager.setSubscribed(n),i.iframeMessenger&&i.iframeMessenger.setSubscribed(n),i.storageManager.setSynced(),(e.topics||[]).length&&(i.storageManager.setTopics(e.topics),i.triggerEvent(p.a.TOPICS_SET)),e.topicsVersion)try{localStorage.setItem("cleverpush-topics-version",e.topicsVersion+"")}catch(e){}i.config.channelTags&&i.config.channelTags.length&&i.config.channelTags.forEach((function(e){e.autoAssignOptInPath&&new RegExp(e.autoAssignOptInPath).test(location.pathname)&&CleverPush.tagSubscription(e._id)})),t()})).catch((function(e){void 0!==e?404===e?(i.storageManager.setUnsubscribed(!0),i.iframeMessenger&&i.iframeMessenger.setUnsubscribed(!0),i.subscribe()):a.b.error(e):a.b.error("Unknown Error occured while syncing"),t()}))};void 0!==o&&o?r():(o=e)?r():t()}))}))}},{key:"getSubscriptionId",value:function(){var e=this.storageManager.getSubscriptionId();return e?a.b.debug("subscriptionId",e):a.b.debug("subscriptionId not found"),Promise.resolve(e)}},{key:"hasNotificationPermission",value:function(){return"PREVIEW"===this.config.env?Promise.resolve(!1):Promise.resolve("granted"===window.Notification.permission)}},{key:"getNotificationPermission",value:function(e){try{if("Firefox"===l.a.name&&"denied"===sessionStorage.getItem("cleverpush-subscription-status")&&void 0===e)return"denied"}catch(e){}return window.Notification.permission}},{key:"setConfirm",value:function(e){this.confirm=e}},{key:"setTopics",value:function(e){return a.b.debug("setTopics",e),this.topics=e,this.storageManager.setTopics(e)}},{key:"getTopics",value:function(){return this.storageManager.getTopics()}},{key:"getStoredNotifications",value:function(){var e=this,t="/channel/"+this.api.channelId+"/received-notifications";return this.getTopics().then((function(i){return i&&i.length&&(t+="?"+i.map((function(e){return"topics[]="+e})).join("&")),e.api.request("GET",t).then((function(e){return new Promise((function(t){e&&e.notifications?t(e.notifications.filter((function(e){return e.createdAt})).sort((function(e,t){return new Date(t.createdAt)-new Date(e.createdAt)}))):t([])}))}))}))}},{key:"deleteStoredNotification",value:function(e){var t=this;return new Promise((function(i,n){t.storageManager.db?t.storageManager.deleteNotification(e).then((function(){i()})).catch((function(e){n(e)})):i()}))}},{key:"getPushManagerSubscribeOptions",value:function(){var e={userVisibleOnly:!0};if(this.config.vapidPublicKey&&this.config.vapidPublicKey.length){var t=Object(c.b)(this.config.vapidPublicKey);t&&(e.applicationServerKey=t)}return e}},{key:"setClickedNotification",value:function(e){return this.storageManager.setClickedNotification(e),Promise.resolve()}},{key:"getClickedNotification",value:function(){var e=this;return new Promise((function(t){t(e.storageManager.getClickedNotification())}))}}]),e}()},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.ERR_IFRAME_ALREADY_ATTACHED_TO_DOM=t.ERR_NOT_IN_IFRAME=t.ERR_CONNECTION_TIMEOUT=t.ERR_CONNECTION_DESTROYED=void 0;var n="message";t.ERR_CONNECTION_DESTROYED="ConnectionDestroyed";t.ERR_CONNECTION_TIMEOUT="ConnectionTimeout";t.ERR_NOT_IN_IFRAME="NotInIframe";t.ERR_IFRAME_ALREADY_ATTACHED_TO_DOM="IframeAlreadyAttachedToDom";var o,r={"http:":"80","https:":"443"},s=/^(https?:|file:)?\/\/([^/:]+)?(:(\d+))?/,a={ERR_CONNECTION_DESTROYED:"ConnectionDestroyed",ERR_CONNECTION_TIMEOUT:"ConnectionTimeout",ERR_NOT_IN_IFRAME:"NotInIframe",ERR_IFRAME_ALREADY_ATTACHED_TO_DOM:"IframeAlreadyAttachedToDom",Promise:function(){try{return window?window.Promise:null}catch(e){return null}}(),debug:!1},c=(o=0,function(){return++o}),l=function(){if(a.debug){for(var e,t=arguments.length,i=new Array(t),n=0;n<t;n++)i[n]=arguments[n];(e=console).log.apply(e,["[Penpal]"].concat(i))}},u=function(e){var t=[];return e((function(){t.forEach((function(e){e()}))})),{then:function(e){t.push(e)}}},p=function(e){return{name:e.name,message:e.message,stack:e.stack}},h=function(e){var t=new Error;return Object.keys(e).forEach((function(i){return t[i]=e[i]})),t},f=function(e,t,i,o,r){var s=t.localName,u=t.local,p=t.remote,f=t.remoteOrigin,d=!1;l("".concat(s,": Connecting call sender"));r.then((function(){d=!0})),i.reduce((function(e,t){return e[t]=function(e){return function(){for(var t=arguments.length,i=new Array(t),r=0;r<t;r++)i[r]=arguments[r];if(l("".concat(s,": Sending ").concat(e,"() call")),p.closed&&o(),d){var b=new Error("Unable to send ".concat(e,"() call due ")+"to destroyed connection");throw b.code="ConnectionDestroyed",b}return new a.Promise((function(t,o){var r=c();u.addEventListener(n,(function i(a){if(a.source===p&&a.origin===f&&"reply"===a.data.penpal&&a.data.id===r){l("".concat(s,": Received ").concat(e,"() reply")),u.removeEventListener(n,i);var c=a.data.returnValue;a.data.returnValueIsError&&(c=h(c)),("fulfilled"===a.data.resolution?t:o)(c)}})),p.postMessage({penpal:"call",id:r,methodName:e,args:i},f)}))}}(t),e}),e)},d=function(e,t,i){var o=e.localName,r=e.local,s=e.remote,c=e.remoteOrigin,u=!1;l("".concat(o,": Connecting call receiver"));var h=function(e){if(e.source===s&&e.origin===c&&"call"===e.data.penpal){var i=e.data,n=i.methodName,r=i.args,h=i.id;if(l("".concat(o,": Received ").concat(n,"() call")),n in t){var f=function(e){return function(t){if(l("".concat(o,": Sending ").concat(n,"() reply")),u)l("".concat(o,": Unable to send ").concat(n,"() reply due to destroyed connection"));else{var i={penpal:"reply",id:h,resolution:e,returnValue:t};"rejected"===e&&t instanceof Error&&(i.returnValue=p(t),i.returnValueIsError=!0);try{s.postMessage(i,c)}catch(e){throw"DataCloneError"===e.name&&s.postMessage({penpal:"reply",id:h,resolution:"rejected",returnValue:p(e),returnValueIsError:!0},c),e}}}};new a.Promise((function(e){return e(t[n].apply(t,r))})).then(f("fulfilled"),f("rejected"))}}};r.addEventListener(n,h),i.then((function(){u=!0,r.removeEventListener(n,h)}))};a.connectToChild=function(e){var t,i=e.url,o=e.appendTo,c=e.iframe,p=e.methods,h=void 0===p?{}:p,b=e.timeout;if(c&&c.parentNode){var g=new Error("connectToChild() must not be called with an iframe already attached to DOM");throw g.code="IframeAlreadyAttachedToDom",g}var m=new u((function(e){t=e})),v=window;(c=c||document.createElement("iframe")).src=i;var _=function(e){var t,i,n,o=document.location,a=s.exec(e);if(a?(t=a[1]?a[1]:o.protocol,i=a[2],n=a[4]):(t=o.protocol,i=o.hostname,n=o.port),"file:"===t)return"null";var c=n&&n!==r[t]?":".concat(n):"";return"".concat(t,"//").concat(i).concat(c)}(i);return{promise:new a.Promise((function(e,i){var r;void 0!==b&&(r=setTimeout((function(){var e=new Error("Connection to child timed out after ".concat(b,"ms"));e.code="ConnectionTimeout",i(e),t()}),b));var s,a,p={},g=function(i){var n=c.contentWindow;if(i.source===n&&i.origin===_&&"handshake"===i.data.penpal){l("Parent: Received handshake, sending reply");var o="null"===i.origin?"*":i.origin;i.source.postMessage({penpal:"handshake-reply",methodNames:Object.keys(h)},o);var b={localName:"Parent",local:v,remote:n,remoteOrigin:o};a&&a();var g=new u((function(e){m.then(e),a=e}));d(b,h,g),s&&s.forEach((function(e){delete p[e]})),s=i.data.methodNames,f(p,b,s,t,m),clearTimeout(r),e(p)}};v.addEventListener(n,g),l("Parent: Loading iframe"),(o||document.body).appendChild(c);var w=setInterval((function(){document.contains(c)||(clearInterval(w),t())}),6e4);m.then((function(){c.parentNode&&c.parentNode.removeChild(c),v.removeEventListener(n,g),clearInterval(w);var e=new Error("Connection destroyed");e.code="ConnectionDestroyed",i(e)}))})),iframe:c,destroy:t}},a.connectToParent=function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=t.parentOrigin,o=void 0===i?"*":i,r=t.methods,s=void 0===r?{}:r,c=t.timeout;if(window===window.top){var p=new Error("connectToParent() must be called within an iframe");throw p.code="NotInIframe",p}var h=new u((function(t){e=t})),b=window,g=b.parent,m=new a.Promise((function(t,i){var r;void 0!==c&&(r=setTimeout((function(){var t=new Error("Connection to parent timed out after ".concat(c,"ms"));t.code="ConnectionTimeout",i(t),e()}),c));var a=function i(a){if(("*"===o||o===a.origin)&&a.source===g&&"handshake-reply"===a.data.penpal){l("Child: Received handshake reply"),b.removeEventListener(n,i);var c={localName:"Child",local:b,remote:g,remoteOrigin:a.origin},u={};d(c,s,h),f(u,c,a.data.methodNames,e,h),clearTimeout(r),t(u)}};b.addEventListener(n,a),h.then((function(){b.removeEventListener(n,a);var e=new Error("Connection destroyed");e.code="ConnectionDestroyed",i(e)})),l("Child: Sending handshake"),g.postMessage({penpal:"handshake",methodNames:Object.keys(s)},o)}));return{promise:m,destroy:e}};var b=a;t.default=b},function(e,t){e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var i=function(e,t){var i=e[1]||"",n=e[3];if(!n)return i;if(t&&"function"==typeof btoa){var o=(s=n,"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(s))))+" */"),r=n.sources.map((function(e){return"/*# sourceURL="+n.sourceRoot+e+" */"}));return[i].concat(r).concat([o]).join("\n")}var s;return[i].join("\n")}(t,e);return t[2]?"@media "+t[2]+"{"+i+"}":i})).join("")},t.i=function(e,i){"string"==typeof e&&(e=[[null,e,""]]);for(var n={},o=0;o<this.length;o++){var r=this[o][0];"number"==typeof r&&(n[r]=!0)}for(o=0;o<e.length;o++){var s=e[o];"number"==typeof s[0]&&n[s[0]]||(i&&!s[2]?s[2]=i:i&&(s[2]="("+s[2]+") and ("+i+")"),t.push(s))}},t}},function(e,t,i){var n,o,r={},s=(n=function(){return window&&document&&document.all&&!window.atob},function(){return void 0===o&&(o=n.apply(this,arguments)),o}),a=function(e){var t={};return function(i){return void 0===t[i]&&(t[i]=e.call(this,i)),t[i]}}((function(e){return document.querySelector(e)})),c=null,l=0,u=[],p=i(62);function h(e,t){for(var i=0;i<e.length;i++){var n=e[i],o=r[n.id];if(o){o.refs++;for(var s=0;s<o.parts.length;s++)o.parts[s](n.parts[s]);for(;s<n.parts.length;s++)o.parts.push(v(n.parts[s],t))}else{var a=[];for(s=0;s<n.parts.length;s++)a.push(v(n.parts[s],t));r[n.id]={id:n.id,refs:1,parts:a}}}}function f(e){for(var t=[],i={},n=0;n<e.length;n++){var o=e[n],r=o[0],s={css:o[1],media:o[2],sourceMap:o[3]};i[r]?i[r].parts.push(s):t.push(i[r]={id:r,parts:[s]})}return t}function d(e,t){var i=a(e.insertInto);if(!i)throw new Error("Couldn't find a style target. This probably means that the value for the 'insertInto' parameter is invalid.");var n=u[u.length-1];if("top"===e.insertAt)n?n.nextSibling?i.insertBefore(t,n.nextSibling):i.appendChild(t):i.insertBefore(t,i.firstChild),u.push(t);else{if("bottom"!==e.insertAt)throw new Error("Invalid value for parameter 'insertAt'. Must be 'top' or 'bottom'.");i.appendChild(t)}}function b(e){e.parentNode.removeChild(e);var t=u.indexOf(e);t>=0&&u.splice(t,1)}function g(e){var t=document.createElement("style");return e.attrs.type="text/css",m(t,e.attrs),d(e,t),t}function m(e,t){Object.keys(t).forEach((function(i){e.setAttribute(i,t[i])}))}function v(e,t){var i,n,o;if(t.singleton){var r=l++;i=c||(c=g(t)),n=y.bind(null,i,r,!1),o=y.bind(null,i,r,!0)}else e.sourceMap&&"function"==typeof URL&&"function"==typeof URL.createObjectURL&&"function"==typeof URL.revokeObjectURL&&"function"==typeof Blob&&"function"==typeof btoa?(i=function(e){var t=document.createElement("link");return e.attrs.type="text/css",e.attrs.rel="stylesheet",m(t,e.attrs),d(e,t),t}(t),n=k.bind(null,i,t),o=function(){b(i),i.href&&URL.revokeObjectURL(i.href)}):(i=g(t),n=M.bind(null,i),o=function(){b(i)});return n(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap)return;n(e=t)}else o()}}e.exports=function(e,t){if("undefined"!=typeof DEBUG&&DEBUG&&"object"!=typeof document)throw new Error("The style-loader cannot be used in a non-browser environment");(t=t||{}).attrs="object"==typeof t.attrs?t.attrs:{},void 0===t.singleton&&(t.singleton=s()),void 0===t.insertInto&&(t.insertInto="head"),void 0===t.insertAt&&(t.insertAt="bottom");var i=f(e);return h(i,t),function(e){for(var n=[],o=0;o<i.length;o++){var s=i[o];(a=r[s.id]).refs--,n.push(a)}e&&h(f(e),t);for(o=0;o<n.length;o++){var a;if(0===(a=n[o]).refs){for(var c=0;c<a.parts.length;c++)a.parts[c]();delete r[a.id]}}}};var _,w=(_=[],function(e,t){return _[e]=t,_.filter(Boolean).join("\n")});function y(e,t,i,n){var o=i?"":n.css;if(e.styleSheet)e.styleSheet.cssText=w(t,o);else{var r=document.createTextNode(o),s=e.childNodes;s[t]&&e.removeChild(s[t]),s.length?e.insertBefore(r,s[t]):e.appendChild(r)}}function M(e,t){var i=t.css,n=t.media;if(n&&e.setAttribute("media",n),e.styleSheet)e.styleSheet.cssText=i;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(i))}}function k(e,t,i){var n=i.css,o=i.sourceMap,r=void 0===t.convertToAbsoluteUrls&&o;(t.convertToAbsoluteUrls||r)&&(n=p(n)),o&&(n+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(o))))+" */");var s=new Blob([n],{type:"text/css"}),a=e.href;e.href=URL.createObjectURL(s),a&&URL.revokeObjectURL(a)}},function(e,t,i){"use strict";i.d(t,"a",(function(){return v}));var n=i(5),o=i.n(n),r=i(6),s=i.n(r),a=i(12),c=i.n(a),l=i(9),u=i.n(l),p=i(13),h=i.n(p),f=i(17),d=i(3),b=i(15),g=i(0),m=i(4),v=function(e){function t(e,i,n){var r;return o()(this,t),r=c()(this,u()(t).call(this,e,i,n)),e.multiChannels&&e.multiChannels.facebookChannel&&e.multiChannels.facebookChannel._id!==e.channelId&&(e.channelId=e.multiChannels.facebookChannel._id,i.channelId=e.channelId),r.triggerEvent(d.a.INITIALIZED),r}return h()(t,e),s()(t,[{key:"isSubscribed",value:function(){var e=this;return new Promise((function(t){t(!!e.storageManager.getFacebookUserRef())}))}},{key:"canSubscribe",value:function(){var e=this;return new Promise((function(t,i){"true"!==new URLSearchParams(location.search.slice(1)).get("cleverPushFacebookClick")?"denied"!==localStorage.getItem("cleverpush-subscription-status")?e.isSubscribed().then((function(e){e?i(new m.a("User is already subscribed","subscribed")):t(!0)})).catch(i):i(new m.a("User has manually unsubscribed or denied notifications","unsubscribed")):i(new m.a("User is already subscribed","subscribed"))}))}},{key:"subscribeForce",value:function(){return this.subscribe()}},{key:"setFacebookUserRef",value:function(e){var t=this;this.storageManager.setFacebookUserRef(e),this.sync({facebookUserRef:e}).then((function(){t.isSubscribing=!1,t.triggerEvent(d.a.SUBSCRIBED,t.storageManager.getSubscriptionId()),t.resolveSubscribe&&t.resolveSubscribe("granted")}))}},{key:"subscribe",value:function(){var e=this;return new Promise((function(t,i){e.isSubscribed().then((function(n){n?(e.confirm&&e.confirm.hideBackdrop(),e.resolveSubscribe=t):e.isSubscribing?i(new b.a("A subscription process is already in progress.")):e.config.facebookAppId&&e.config.facebookPageId?t():(g.b.warn("Facebook App ID or Page ID missing"),i())}))}))}},{key:"unsubscribe",value:function(e){var t=this,i=this.storageManager.getSubscriptionId();return i?this.api.unsubscribe(i).then((function(){t.storageManager.setUnsubscribed(e),t.triggerEvent(d.a.UNSUBSCRIBED)})):Promise.resolve()}},{key:"hasNotificationPermission",value:function(){return Promise.resolve(!!this.storageManager.getFacebookUserRef())}},{key:"getNotificationPermission",value:function(){return Promise.resolve(this.storageManager.getFacebookUserRef()?"granted":"default")}}],[{key:"initFacebook",value:function(e){if(t.facebookInitialized)e();else{window.fbAsyncInit=function(){g.b.debug("window.fbAsyncInit"),FB.init({appId:CleverPush.config.facebookAppId,version:"v2.9"}),t.facebookInitialized=!0,e()};var i="en_US",n=(navigator.language||navigator.userLanguage||"").replace("-","_").substr(0,5);n&&n!==i&&["en_US","ca_ES","cs_CZ","cx_PH","cy_GB","da_DK","de_DE","eu_ES","en_UD","es_LA","es_ES","gn_PY","fi_FI","fr_FR","gl_ES","hu_HU","it_IT","ja_JP","ko_KR","nb_NO","nn_NO","nl_NL","fy_NL","pl_PL","pt_BR","pt_PT","ro_RO","ru_RU","sk_SK","sl_SI","sv_SE","th_TH","tr_TR","ku_TR","zh_CN","zh_HK","zh_TW","af_ZA","sq_AL","hy_AM","az_AZ","be_BY","bn_IN","bs_BA","bg_BG","hr_HR","nl_BE","en_GB","et_EE","fo_FO","fr_CA","ka_GE","el_GR","gu_IN","hi_IN","is_IS","id_ID","ga_IE","jv_ID","kn_IN","kk_KZ","lv_LV","lt_LT","mk_MK","mg_MG","ms_MY","mt_MT","mr_IN","mn_MN","ne_NP","pa_IN","sr_RS","so_SO","sw_KE","tl_PH","ta_IN","te_IN","ml_IN","uk_UA","uz_UZ","vi_VN","km_KH","tg_TJ","ar_AR","he_IL","ur_PK","fa_IR","ps_AF","my_MM","qz_MM","or_IN","si_LK","rw_RW","cb_IQ","ha_NG","ja_KS","br_FR","tz_MA","co_FR","as_IN","ff_NG","sc_IT","sz_PL"].forEach((function(e){e!==n&&e.substr(0,2)!==n.substr(0,2)||(i=e)})),o=document,r="script",s="facebook-jssdk",c=o.getElementsByTagName(r)[0],o.getElementById(s)||((a=o.createElement(r)).id=s,a.src="//connect.facebook.net/"+i+"/sdk.js",c.parentNode.insertBefore(a,c))}var o,r,s,a,c}}]),t}(f.a)},function(e,t,i){var n=i(55),o=i(56),r=i(57);e.exports=function(e){return n(e)||o(e)||r()}},function(e,t,i){"use strict";i.d(t,"a",(function(){return r}));var n=i(4);function o(e){return new Promise((function(t){return e.json().then((function(i){return t({status:e.status,ok:e.ok,json:i})})).catch((function(){return t({status:e.status,ok:e.ok,json:null})}))}))}function r(e,t){return new Promise((function(i,r){(function(e,t){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e4;return Promise.race([fetch(e,t),new Promise((function(e,t){return setTimeout((function(){return t(new Error("request timeout"))}),i)}))])})(e,t,t.timeout||1e4).then(o).then((function(e){return e.ok?i(e.json):r(new n.a(e.json?e.json.error:"HTTP Error",e.status))})).catch((function(e){return r(e)}))}))}},function(e,t,i){"use strict";function n(e){return!e.defaultUnchecked||e.matchPathChecked&&e.matchPathChecked&&location.pathname&&new RegExp(e.matchPathChecked).test(location.pathname)}i.d(t,"a",(function(){return n}))},function(e,t,i){"use strict";i.d(t,"a",(function(){return o})),i.d(t,"b",(function(){return r}));var n=i(0);function o(e){Object(n.c)("appendGcmManifest");var t=void 0!==e?e:"/cleverpush-manifest.json";if("DISABLED"!==t){var i=document.createElement("link");i.rel="manifest",i.href=t,document.getElementsByTagName("head")[0].appendChild(i);var o=document.querySelectorAll("link[rel=manifest]");if(o&&o.length>1)for(var r=0;r<o.length;r+=1){var s=o[r];s.href.indexOf(t)>-1&&(document.querySelector("head").insertBefore(s,document.querySelector("head").children[0]),n.b.debug("Moved GCM manifest before other manifests."))}}}function r(e){for(var t=(e+"=".repeat((4-e.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),i=atob(t),n=new Uint8Array(i.length),o=0;o<i.length;++o)n[o]=i.charCodeAt(o);return n}},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return Panel}));var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(5),_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__),_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(6),_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__),_utils_dom__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(11),_utils_translate__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(1),_utils_debug__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(0),_const_event__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(3),Panel=function(){function Panel(e,t,i,n){_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0___default()(this,Panel),this.config=e,this.subscriptionManager=t,this.triggerEvent=i,this.api=n,__webpack_require__(67),this.tab=e.hidePanelNotifications?"settings":"notifications"}return _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1___default()(Panel,[{key:"show",value:function(){if(!this.panel){var e="cleverpush-panel";e+=" cleverpush-panel-position-"+(this.config.notificationBellPosition||"left"),document.querySelector("body").appendChild(Object(_utils_dom__WEBPACK_IMPORTED_MODULE_2__.a)('<div class="'+e+'"><button class="cleverpush-panel-close" type="button">&times;</button><div class="cleverpush-panel-content"></div></div>'))}this.panel=document.querySelector(".cleverpush-panel"),this.closeButton=this.panel.querySelector(".cleverpush-panel-close"),this.closeButton&&this.closeButton.addEventListener("click",this.onCloseClick.bind(this)),this.showPanelContent(),this.triggerEvent(_const_event__WEBPACK_IMPORTED_MODULE_5__.a.PANEL_SHOWN)}},{key:"hide",value:function(){this.panel&&this.panel.parentNode&&this.panel.parentNode.removeChild(this.panel),this.panel=null,this.closeButton=null,this.footerCloseButton=null,this.tabButtons=null,this.triggerEvent(_const_event__WEBPACK_IMPORTED_MODULE_5__.a.PANEL_HIDDEN)}},{key:"onCloseClick",value:function(e){e.preventDefault(),this.hide()}},{key:"onUnsubscribeClick",value:function(e){confirm(Object(_utils_translate__WEBPACK_IMPORTED_MODULE_3__.a)("unsubscribe.confirm"))&&(this.onCloseClick(e),this.subscriptionManager.unsubscribe())}},{key:"setTab",value:function(e){this.tab=e,this.showPanelContent()}},{key:"onTabButtonClick",value:function(e){Object(_utils_debug__WEBPACK_IMPORTED_MODULE_4__.c)("onTabButtonClick",e.currentTarget.dataset.tab),e.preventDefault(),this.setTab(e.currentTarget.dataset.tab||"notifications")}},{key:"openNotification",value:function(e){e.preventDefault(),window.open(e.currentTarget.dataset.url,"_blank"),this.api&&this.api.trackPanelNotificationClicked(e.currentTarget.dataset.id)}},{key:"timeString",value:function(e){var t=e.toISOString().substring(0,10);t+=" ";var i=e.getHours();i<10&&(i="0"+i);var n=e.getMinutes();return n<10&&(n="0"+n),t+=i+":"+n}},{key:"showPanelContent",value:function showPanelContent(){var _this=this,panelContent=this.panel.querySelector(".cleverpush-panel-content"),content=this.config.hidePanelNotifications?"":'<div class="cleverpush-panel-buttons">\n<button type="button" class="cleverpush-panel-button'.concat("notifications"===this.tab?" active":"",'" data-tab="notifications">').concat(Object(_utils_translate__WEBPACK_IMPORTED_MODULE_3__.a)("panel.notifications"),"</button>")+'<button type="button" class="cleverpush-panel-button'.concat("settings"===this.tab?" active":"",'" data-tab="settings">').concat(Object(_utils_translate__WEBPACK_IMPORTED_MODULE_3__.a)("panel.settings"),"</button>")+"</div>";this.config.notificationBellColor&&(content+="<style>.cleverpush-panel-button.active, .cleverpush-panel-button:hover, .cleverpush-panel-settings button, .cleverpush-panel-settings button:hover, .cleverpush-panel-footer button, .cleverpush-panel-footer button:hover { background-color: "+this.config.notificationBellColor+"; }</style>"),content+='\n    <div class="cleverpush-panel-header" style="border-bottom-color: '.concat(this.config.notificationBellColor||"",'"><img src="').concat(this.config.channelIcon,'"></div>\n    ');var setPanelContent=function(e){panelContent.innerHTML=e+'<div class="cleverpush-panel-footer"><button type="button" class="cleverpush-panel-footer-close">'.concat(Object(_utils_translate__WEBPACK_IMPORTED_MODULE_3__.a)("panel.close"),'</button><div class="cleverpush-panel-branding">').concat(_this.getBrandingLinks(),"</div></div>"),_this.footerCloseButton=_this.panel.querySelector(".cleverpush-panel-footer-close"),_this.footerCloseButton&&_this.footerCloseButton.addEventListener("click",_this.onCloseClick.bind(_this)),_this.tabButtons=_this.panel.querySelectorAll(".cleverpush-panel-button");for(var t=0;t<_this.tabButtons.length;t+=1){_this.tabButtons[t].addEventListener("click",_this.onTabButtonClick.bind(_this))}_this.notificationItems=_this.panel.querySelectorAll(".cleverpush-panel-notification");for(var i=0;i<_this.notificationItems.length;i+=1){_this.notificationItems[i].addEventListener("click",_this.openNotification.bind(_this))}};if("notifications"===this.tab)content+='<div class="cleverpush-panel-spinner"><div class="spinner">\n                <div class="double-bounce1"></div>\n                <div class="double-bounce2"></div>\n            </div></div>',setPanelContent(content),this.subscriptionManager.getStoredNotifications().then((function(e){e.length?(content+='<div class="cleverpush-panel-notifications" style="display: none;">',e.slice(0,50).forEach((function(e){content+='<div class="cleverpush-panel-notification" data-url="'.concat(e.url,'" data-id="').concat(e._id,'">'),content+='<div class="cleverpush-panel-notification-image" style="background-image: url(\''.concat(e.mediaUrl||e.iconUrl||_this.config.channelIcon,"');\"></div>"),content+='<div class="cleverpush-panel-notification-title">'.concat(e.title,"</div>"),e.text&&(e.text.length>100&&(e.text=e.text.substr(0,100)+"…"),content+='<div class="cleverpush-panel-notification-text">'.concat(e.text,"</div>")),e.createdAt&&(content+='<div class="cleverpush-panel-notification-time">'.concat(_this.timeString(new Date(e.queuedAt||e.scheduledAt||e.createdAt)),"</div>")),content+="</div>"})),content+="</div>"):content+='<div class="cleverpush-panel-notifications-empty">'.concat(Object(_utils_translate__WEBPACK_IMPORTED_MODULE_3__.a)("panel.notificationsEmpty"),"</div>"),setPanelContent(content);var t=panelContent.querySelector(".cleverpush-panel-spinner"),i=panelContent.querySelector(e.length?".cleverpush-panel-notifications":".cleverpush-panel-notifications-empty");t&&i&&Object(_utils_dom__WEBPACK_IMPORTED_MODULE_2__.e)(t,150,(function(){t.style.display="none",i.style.opacity=0,i.style.display="block",Object(_utils_dom__WEBPACK_IMPORTED_MODULE_2__.d)(i,150)}))}));else if("settings"===this.tab){var topicsContent,setSettingsContent=function setSettingsContent(){if(content+='<div class="cleverpush-panel-settings">'.concat(topicsContent||"",'<div class="cleverpush-panel-unsubscribe">')+'<button type="button" class="cleverpush-panel-unsubscribe-button">'+Object(_utils_translate__WEBPACK_IMPORTED_MODULE_3__.a)("unsubscribe.title")+"</button></div></div>",setPanelContent(content),_this.unsubscribeButton=_this.panel.querySelector(".cleverpush-panel-unsubscribe-button"),_this.unsubscribeButton&&_this.unsubscribeButton.addEventListener("click",_this.onUnsubscribeClick.bind(_this)),topicsContent){if(_this.config.topicsTemplateFunction&&topicsContent){var topicsDiv=panelContent.querySelector(".cleverpush-topics");if(topicsDiv)try{var templateFunc=eval("("+_this.config.topicsTemplateFunction+")");"function"==typeof templateFunc&&_this.subscriptionManager.getTopics().then((function(e){templateFunc(topicsDiv,_this.config,e,"panel"),_this.topicCheckboxes=_this.panel.querySelectorAll('.cleverpush-panel-topics input[type="'+(_this.config.confirmAlertRadioButtonTopics?"radio":"checkbox")+'"]')}))}catch(e){_utils_debug__WEBPACK_IMPORTED_MODULE_4__.b.error(e)}}else _this.topicCheckboxes=_this.panel.querySelectorAll('.cleverpush-panel-topic-selection input[type="'+(_this.config.confirmAlertRadioButtonTopics?"radio":"checkbox")+'"]');_this.saveTopicsButton=_this.panel.querySelector(".cleverpush-panel-save-topics-button"),_this.saveTopicsButton&&_this.saveTopicsButton.addEventListener("click",_this.saveTopics.bind(_this))}};this.config.channelTopics&&this.config.channelTopics.length?this.config.topicsTemplateFunction?(topicsContent="<div><h3>".concat(Object(_utils_translate__WEBPACK_IMPORTED_MODULE_3__.a)("panel.editTopics"),'</h3><div class="cleverpush-topics cleverpush-panel-topics"></div><div class="cleverpush-panel-save-topics"><button type="button" class="cleverpush-panel-save-topics-button">').concat(Object(_utils_translate__WEBPACK_IMPORTED_MODULE_3__.a)("panel.save"),"</div></button>"),setSettingsContent()):this.subscriptionManager.getTopics().then((function(e){var t=_this.config.channelTopics.filter((function(e){return!e.parentTopic}));topicsContent="".concat('<div class="cleverpush-topics cleverpush-panel-topics"><h3>'+Object(_utils_translate__WEBPACK_IMPORTED_MODULE_3__.a)("panel.editTopics")+'</h3><div class="cleverpush-panel-topic-selection">').concat(t.sort((function(e,t){return e.sort-t.sort})).map((function(t){var i=t.name;"windows-1252"!==document.characterSet&&"iso-8859-1"!==document.characterSet||(i=decodeURIComponent(escape(t.name)));var n=_this.config.channelTopics.filter((function(e){return e.parentTopic===t._id})),o='<div class="cleverpush-panel-topic"><label><input type="'.concat(_this.config.confirmAlertRadioButtonTopics?"radio":"checkbox",'" name="topics[]" value="').concat(t._id,'"').concat(e&&e.indexOf(t._id)>-1?' checked="checked"':"","> ").concat(i,"</label></div>");return n.length&&n.forEach((function(i){var n=i.name;if("windows-1252"===document.characterSet||"iso-8859-1"===document.characterSet)try{n=decodeURIComponent(escape(i.name))}catch(e){_utils_debug__WEBPACK_IMPORTED_MODULE_4__.b.debug(e)}var r=_this.config.confirmAlertRadioButtonTopics||t.childTopicsRadioButtons?"radio":"checkbox";o+='<div class="topic-child" data-parent-topic="'.concat(t._id,'" style="margin-left: 20px; font-size: 90%; ').concat("",'"><label><input type="').concat(r,'" name="topics[]" value="').concat(i._id,'" ').concat(e&&e.indexOf(i._id)>-1?' checked="checked"':"","> ").concat(n,"</label></div>")})),o})).join(""),'</div><button type="button" class="cleverpush-panel-save-topics-button">').concat(Object(_utils_translate__WEBPACK_IMPORTED_MODULE_3__.a)("panel.save"),"</button>")+"</div>",setSettingsContent()})):setSettingsContent()}}},{key:"getBrandingLinks",value:function(){var e=[];return this.config.hideBranding||e.push('<a href="https://cleverpush.com/" target="_blank" style="'.concat(this.config.confirmAlertThemeLinkColor?"color: "+this.config.confirmAlertThemeLinkColor+" !important":"",'">Powered by CleverPush</a>')),this.config.privacyPolicyUrl&&e.push('<a href="'.concat(this.config.privacyPolicyUrl,'" target="_blank" style="').concat(this.config.confirmAlertThemeLinkColor?"color: "+this.config.confirmAlertThemeLinkColor+" !important":"",'">').concat(this.config.privacyPolicyText||Object(_utils_translate__WEBPACK_IMPORTED_MODULE_3__.a)("privacy"),"</a>")),this.config.faqText&&this.config.faqUrl&&e.push('<a href="'.concat(this.config.faqUrl,'" target="_blank" style="').concat(this.config.confirmAlertThemeLinkColor?"color: "+this.config.confirmAlertThemeLinkColor+" !important":"",'">').concat(this.config.faqText||"FAQ","</a>")),e.join(" &nbsp;/&nbsp; ")}},{key:"saveTopics",value:function(e){var t=this;if(e.preventDefault(),!this.savingTopics){this.savingTopics=!0,this.saveTopicsButton.innerHTML+="...",this.saveTopicsButton.disabled=!0;var i=[];if(this.topicCheckboxes=this.panel.querySelectorAll('.cleverpush-panel-topics input[type="'+(this.config.confirmAlertRadioButtonTopics?"radio":"checkbox")+'"]'),this.topicCheckboxes&&this.topicCheckboxes.length)for(var n=0;n<this.topicCheckboxes.length;n+=1){var o=this.topicCheckboxes[n];o.checked&&i.push(o.value)}var r=function(e){t.saveTopicsButton.disabled=!1,e?(t.saveTopicsButton.innerHTML="<span>".concat(Object(_utils_translate__WEBPACK_IMPORTED_MODULE_3__.a)("panel.successfullySaved"),"</span>"),setTimeout((function(){t.saveTopicsButton.innerHTML=Object(_utils_translate__WEBPACK_IMPORTED_MODULE_3__.a)("panel.save"),t.savingTopics=!1}),2e3)):(t.saveTopicsButton.innerHTML=Object(_utils_translate__WEBPACK_IMPORTED_MODULE_3__.a)("panel.save"),t.savingTopics=!1)};this.subscriptionManager.setTopics(i).then((function(){t.subscriptionManager.sync().then((function(){r(!0)})).catch((function(){r(!1)}))})).catch((function(){r(!1)}))}}}]),Panel}()},function(e,t){function i(t,n){return e.exports=i=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},i(t,n)}e.exports=i},function(e,t,i){var n,o;!function(r,s){"use strict";void 0===(o="function"==typeof(n=function(){var e=function(){},t="undefined",i=["trace","debug","info","warn","error"];function n(e,t){var i=e[t];if("function"==typeof i.bind)return i.bind(e);try{return Function.prototype.bind.call(i,e)}catch(t){return function(){return Function.prototype.apply.apply(i,[e,arguments])}}}function o(t,n){for(var o=0;o<i.length;o++){var r=i[o];this[r]=o<t?e:this.methodFactory(r,t,n)}this.log=this.debug}function r(e,i,n){return function(){typeof console!==t&&(o.call(this,i,n),this[e].apply(this,arguments))}}function s(i,o,s){return function(i){return"debug"===i&&(i="log"),typeof console!==t&&(void 0!==console[i]?n(console,i):void 0!==console.log?n(console,"log"):e)}(i)||r.apply(this,arguments)}function a(e,n,r){var a,c=this,l="loglevel";function u(){var e;if(typeof window!==t){try{e=window.localStorage[l]}catch(e){}if(typeof e===t)try{var i=window.document.cookie,n=i.indexOf(encodeURIComponent(l)+"=");-1!==n&&(e=/^([^;]+)/.exec(i.slice(n))[1])}catch(e){}return void 0===c.levels[e]&&(e=void 0),e}}e&&(l+=":"+e),c.name=e,c.levels={TRACE:0,DEBUG:1,INFO:2,WARN:3,ERROR:4,SILENT:5},c.methodFactory=r||s,c.getLevel=function(){return a},c.setLevel=function(n,r){if("string"==typeof n&&void 0!==c.levels[n.toUpperCase()]&&(n=c.levels[n.toUpperCase()]),!("number"==typeof n&&n>=0&&n<=c.levels.SILENT))throw"log.setLevel() called with invalid level: "+n;if(a=n,!1!==r&&function(e){var n=(i[e]||"silent").toUpperCase();if(typeof window!==t){try{return void(window.localStorage[l]=n)}catch(e){}try{window.document.cookie=encodeURIComponent(l)+"="+n+";"}catch(e){}}}(n),o.call(c,n,e),typeof console===t&&n<c.levels.SILENT)return"No console available for logging"},c.setDefaultLevel=function(e){u()||c.setLevel(e,!1)},c.enableAll=function(e){c.setLevel(c.levels.TRACE,e)},c.disableAll=function(e){c.setLevel(c.levels.SILENT,e)};var p=u();null==p&&(p=null==n?"WARN":n),c.setLevel(p,!1)}var c=new a,l={};c.getLogger=function(e){if("string"!=typeof e||""===e)throw new TypeError("You must supply a name when creating a logger.");var t=l[e];return t||(t=l[e]=new a(e,c.getLevel(),c.methodFactory)),t};var u=typeof window!==t?window.log:void 0;return c.noConflict=function(){return typeof window!==t&&window.log===c&&(window.log=u),c},c.getLoggers=function(){return l},c})?n.call(t,i,t,e):n)||(e.exports=o)}()},function(e,t,i){"use strict";i.d(t,"a",(function(){return _}));var n=i(5),o=i.n(n),r=i(6),s=i.n(r),a=i(12),c=i.n(a),l=i(9),u=i.n(l),p=i(13),h=i.n(p),f=i(17),d=i(3),b=i(15),g=i(0),m=i(4),v=i(1),_=function(e){function t(e,i,n){var r;return o()(this,t),(r=c()(this,u()(t).call(this,e,i,n))).storageManager.initDb(),r.triggerEvent(d.a.INITIALIZED),r}return h()(t,e),s()(t,[{key:"isSubscribed",value:function(e){var t=this;if(void 0!==e&&e){if(!this.config.safariWebsitePushId)return!1;var i=window.safari.pushNotification.permission(this.config.safariWebsitePushId),n=i.permission,o=i.deviceToken;return!("granted"!==n||!o)&&this.storageManager.isSubscribed(!1,!0)}return new Promise((function(e){if(t.config.safariWebsitePushId){var i=window.safari.pushNotification.permission(t.config.safariWebsitePushId),n=i.permission,o=i.deviceToken;if("granted"===n&&o)return t.storageManager.isSubscribed().then((function(i){i?t.storageManager.checkIfShouldSync().then((function(i){i?t.sync().then((function(){e(!0)})).catch((function(t){g.b.warn("error while syncing",t),e(!0)})):e(!0)})):e(!1)}));e(!1)}else e(!1)}))}},{key:"canSubscribe",value:function(){var e=this;return new Promise((function(t,i){if(e.config.safariWebsitePushId&&e.config.safariWebsitePushId.length)if(e.config.domain||e.config.channelDomain){try{window.safari.pushNotification.requestPermission("https://",e.config.safariWebsitePushId,null)}catch(e){"string"==typeof e&&e.indexOf("user gesture")>-1||i(e)}e.storageManager.canSubscribe().then((function(n){n?e.isSubscribed().then((function(n){n?i(new m.a("User is already subscribed","subscribed")):"denied"===window.safari.pushNotification.permission(e.config.safariWebsitePushId).permission?i(new m.a("User denied notifications","denied")):(e.config.isSafari_12_1&&e.api.getSyncParameters().then((function(t){e.cachedSyncParameters=t})),t(!0))})):i(new m.a("User has manually unsubscribed or denied notifications","unsubscribed"))})).catch((function(e){i(e)}))}else t(!1),g.b.warn("Channel domain is not set but required for safari.");else t(!1),g.b.warn("Safari web push ID not set.")}))}},{key:"subscribeForce",value:function(){return this.subscribe()}},{key:"subscribe",value:function(){var e=this;return new Promise((function(t,i){if(e.isSubscribed(!0))e.confirm&&e.confirm.hideBackdrop(),t();else if(e.isSubscribing)i(new b.a("A subscription process is already in progress."));else if(e.config.safariWebsitePushId){var n;e.isSubscribing=!0;!function o(r){var s=r.permission,a=r.deviceToken;if(n&&"default"!==s&&clearInterval(n),"default"===s){if(g.b.info("calling window.safari.pushNotification.requestPermission"),e.config.isSafari_12_1){e.cachedSyncParameters||(e.cachedSyncParameters=e.api.getSyncParameters(!0));try{window.safari.pushNotification.requestPermission(e.config.safariWebServiceUrl||"".concat(e.config.apiEndpoint,"/channel/").concat(e.config.channelId,"/safari"),e.config.safariWebsitePushId,e.cachedSyncParameters,o.bind(e))}catch(e){g.b.error("Safari error:",e),i(e)}}else e.api.getSyncParameters().then((function(t){try{window.safari.pushNotification.requestPermission(e.config.safariWebServiceUrl||"".concat(e.config.apiEndpoint,"/channel/").concat(e.config.channelId,"/safari"),e.config.safariWebsitePushId,t,o.bind(e))}catch(e){g.b.error("Safari error:",e),i(e)}}));n=setInterval((function(){var t=window.safari.pushNotification.permission(e.config.safariWebsitePushId);"default"!==t.permission&&o(t)}),100),setTimeout((function(){"default"===window.safari.pushNotification.permission(e.config.safariWebsitePushId).permission&&(n&&clearInterval(n),e.confirm&&e.confirm.hideBackdrop(),e.storageManager.setClosed())}),3e4)}else"denied"===s?(e.confirm&&e.confirm.hideBackdrop(),i(new m.a(Object(v.a)("popup.info").formatCleverPush("<strong>"+(Object(v.a)("confirm.allowBrowser")||Object(v.a)("confirm.allow"))+"</strong>"),"denied"))):"granted"===s&&(e.confirm&&(e.confirm.hideBackdrop(),e.config.confirmAlertSelectTopicsLater&&e.confirm.appendConfirmBox(e.config.confirmAlertSelectTopicsLaterTheme||"cleverpush-confirm-default",!0)),e.sync({deviceToken:a}).then((function(){e.isSubscribing=!1,e.triggerEvent(d.a.SUBSCRIBED,e.storageManager.getSubscriptionId()),t(s)})))}(window.safari.pushNotification.permission(e.config.safariWebsitePushId))}else g.b.warn("Safari Website Push ID missing"),i(new m.a("Safari Website Push ID missing","internal"))}))}},{key:"unsubscribe",value:function(e){var t=this,i=this.storageManager.getSubscriptionId();return i?this.api.unsubscribe(i).then((function(){t.storageManager.setUnsubscribed(e),t.triggerEvent(d.a.UNSUBSCRIBED)})):Promise.resolve()}},{key:"hasNotificationPermission",value:function(){return Promise.resolve("granted"===window.safari.pushNotification.permission(this.config.safariWebsitePushId).permission)}},{key:"getNotificationPermission",value:function(){return window.safari.pushNotification.permission(this.config.safariWebsitePushId).permission}}]),t}(f.a)},function(e,t,i){"use strict";i.d(t,"a",(function(){return l}));var n=i(8),o=i.n(n),r=i(5),s=i.n(r),a=i(6),c=i.n(a),l=function(){function e(t,n,o,r){s()(this,e),this.webBanner=t,this.config=n,this.subscriptionManager=o,this.api=r,this.element=null,i(69)}return c()(e,[{key:"show",value:function(){var e=this;this.element=document.createElement("div"),this.element.className="cleverpush-banner",this.element.innerHTML='\n      <div class="banner-content">\n        <button type="button" class="banner-close">&times;</button>\n        <iframe frameborder="0" scrolling="no" allowtransparency></iframe>\n      </div>\n    ';var t=document.body;if(this.webBanner.appendToSelector&&(t=document.querySelector(this.webBanner.appendToSelector)),this.webBanner.customCss){var i=document.createElement("style");i.innerHTML=this.webBanner.customCss,document.head.appendChild(i)}if(t){if(t.appendChild(this.element),this.closeButton=this.element.querySelector(".overlay-close"),this.closeButton&&this.closeButton.addEventListener("click",this.onCloseClick.bind(this)),this.content=this.element.querySelector(".banner-content"),this.content&&(this.iframe=this.content.querySelector("iframe"),this.iframe)){var n=this.webBanner.content||"";n+="\n          <style>\n            body, body > table {\n              background-color: transparent !important;\n            }\n          </style>\n          ",this.iframe.contentWindow.document.write(n),this.iframe.contentWindow.document.close();var r=0;!function t(){window.requestAnimationFrame((function(){e.iframe.style.height=0,e.iframe.style.height=e.iframe.contentWindow.document.body.scrollHeight+"px",++r<10&&setTimeout(t,100)}))}()}if(this.webBanner.darkenBackground?this.element.style.backgroundColor="rgba(0,0,0,.75)":(this.element.style.pointerEvents="none",this.content.style.pointerEvents="initial"),this.content.style.backgroundColor="transparent",this.element.addEventListener("click",(function(t){t.target===t.currentTarget&&(e.element.style.display="none")})),"object"===o()(this.webBanner.style)){for(var s in"top"===this.webBanner.style.align&&(this.content.style.top=0),"bottom"===this.webBanner.style.align&&(this.content.style.bottom=0),"left"===this.webBanner.style.align&&(this.content.style.left=0),"right"===this.webBanner.style.align&&(this.content.style.right=0),"top"===this.webBanner.style.align&&delete this.webBanner.style.bottom,"bottom"===this.webBanner.style.align&&delete this.webBanner.style.top,"left"===this.webBanner.style.align&&delete this.webBanner.style.right,"right"===this.webBanner.style.align&&delete this.webBanner.style.left,this.webBanner.style)if(this.webBanner.style.hasOwnProperty(s)){var a=this.webBanner.style[s];"backgroundImage"===s&&a.indexOf("url(")<0&&(a="url("+a+")"),this.content.style[s]="number"==typeof a?a+"px":a}this.content.style.align&&"center"!==this.content.style.align||(this.content.style.margin="50px auto 0",this.content.style.maxHeight="calc(100% - 100px)"),this.content.style.fullWidth?this.content.style.width="100%":this.webBanner.style.align&&"center"!==this.webBanner.style.align?this.content.style.width=(this.webBanner.style.width||600)+"px":(this.content.style.left="50%",this.content.style.width=(this.webBanner.style.width||600)+"px",this.content.style.marginLeft=-1*(this.webBanner.style.width||600)/2+"px")}this.closeButton=this.element.querySelector(".banner-close"),this.closeButton&&(this.closeButton.addEventListener("click",(function(){return e.element.style.display="none"})),this.webBanner.style&&this.webBanner.style.color&&(this.closeButton.style.color=this.webBanner.style.color))}}},{key:"onClick",value:function(e){if(e.preventDefault(),"function"==typeof this.onClickCallback&&this.onClickCallback(),this.element.style.display="none",this.webBanner.buttonUrl)try{window.open(this.webBanner.buttonUrl,"_blank")||(location.href=this.webBanner.buttonUrl)}catch(e){location.href=this.webBanner.buttonUrl}}},{key:"onCloseClick",value:function(e){e.preventDefault(),e.stopPropagation(),"function"==typeof this.onClickCallback&&this.onClickCallback(),this.element.style.display="none"}}]),e}()},function(e,t,i){"use strict";i.d(t,"a",(function(){return a}));var n=i(5),o=i.n(n),r=i(6),s=i.n(r),a=function(){function e(t,n,r,s){o()(this,e),this.notification=t,this.config=n,this.subscriptionManager=r,this.api=s,this.element=null,i(75)}return s()(e,[{key:"show",value:function(){this.element=document.createElement("div"),this.element.className="cleverpush-page-banner-notification",this.notification.pageBannerPosition&&(this.element.className+=" "+this.element.className+"-"+this.notification.pageBannerPosition),this.notification.pageBannerTimeout&&(this.element.style.animationDelay=this.notification.pageBannerTimeout+"s"),this.element.innerHTML='\n      <div class="pull-right text-muted notification-preview-windows-icons close-btn"><span>&times;</span></div>\n      <div class="notification-icon" style="background-image: url(\''.concat(this.notification.iconUrl||this.config.channelIcon,'\');"></div>\n      <div class="notification-content">\n      <p class="notification-title">').concat(this.notification.title,"</p>\n      ").concat(this.notification.text?'<p class="notification-text">'.concat(this.notification.text,"</p>"):"","\n      ").concat(this.notification.mediaUrl?'<p class="notification-media"><img src="'.concat(this.notification.mediaUrl,'"></p>'):"",'\n      <p class="notification-origin text-muted">').concat(location.hostname,'</p>\n      </div>\n      <div class="cleverpush-clearfix"></div>\n    '),this.element.addEventListener("click",this.onClick.bind(this)),this.element.addEventListener("touchstart",this.onClick.bind(this)),document.body&&(document.body.appendChild(this.element),this.closeButton=this.element.querySelector(".close-btn"),this.closeButton&&(this.closeButton.addEventListener("click",this.onCloseClick.bind(this)),this.closeButton.addEventListener("touchstart",this.onCloseClick.bind(this)))),this.notification._id&&this.api.request("POST","/notification/page-banner-delivered",{notificationId:this.notification._id})}},{key:"onClick",value:function(e){if(e.preventDefault(),"function"==typeof this.onClickCallback&&this.onClickCallback(),this.notification._id&&this.api.request("POST","/notification/page-banner-clicked",{notificationId:this.notification._id}),this.element.style.display="none",this.notification.url)try{window.open(this.notification.url,"_blank")||(location.href=this.notification.url)}catch(e){location.href=this.notification.url}}},{key:"onCloseClick",value:function(e){e.preventDefault(),e.stopPropagation(),"function"==typeof this.onClickCallback&&this.onClickCallback(),this.element.style.display="none"}}]),e}()},function(e,t,i){var n=i(9);e.exports=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=n(e)););return e}},function(e,t,i){var n=i(61);"string"==typeof n&&(n=[[e.i,n,""]]);i(20)(n,{});n.locals&&(e.exports=n.locals)},function(e,t,i){"use strict";i.r(t);var n=i(8),o=i.n(n),r=i(5),s=i.n(r),a=i(6),c=i.n(a),l=i(14),u=i.n(l);function p(){var e=new Date;return e.setHours(0,0,0,0),e}function h(e,t){return(e&&e.toDateString())===(t&&t.toDateString())}function f(e,t,i){var n=(e=new Date(e)).getDate(),o=e.getMonth()+t;return e.setDate(1),e.setMonth(i?(12+o)%12:o),e.setDate(n),e.getDate()<n&&e.setDate(0),e}function d(e,t){return(e=new Date(e)).setFullYear(e.getFullYear()+t),e}function b(e){return function(t){return function(e){return(e=new Date(e)).setHours(0,0,0,0),e}("string"==typeof t?e(t):t)}}function g(e,t,i){return e<t?t:e>i?i:e}function m(e,t){var i=void 0;return function(){clearTimeout(i),i=setTimeout(t,e)}}function v(){}function _(){for(var e=arguments,t=e[0],i=1;i<e.length;++i){var n=e[i]||{};for(var o in n)t[o]=n[o]}return t}var w={days:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],today:"Today",clear:"Clear",close:"Close"};function y(e){e=e||{};var t=b((e=_({lang:w,mode:"dp-modal",hilightedDate:p(),format:function(e){return e.getMonth()+1+"/"+e.getDate()+"/"+e.getFullYear()},parse:function(e){var t=new Date(e);return isNaN(t)?p():t},dateClass:function(){},inRange:function(){return!0},appendTo:document.body},e)).parse);return e.lang=_(w,e.lang),e.parse=t,e.inRange=function(e){var t=e.inRange;return function(i,n){return t(i,n)&&e.min<=i&&e.max>=i}}(e),e.min=t(e.min||d(p(),-100)),e.max=t(e.max||d(p(),100)),e.hilightedDate=e.parse(e.hilightedDate),e}var M={left:37,up:38,right:39,down:40,enter:13,esc:27};function k(e,t,i){return t.addEventListener(e,i,!0),function(){t.removeEventListener(e,i,!0)}}var E=function(){var e=window.CustomEvent;"function"!=typeof e&&((e=function(e,t){t=t||{bubbles:!1,cancelable:!1,detail:void 0};var i=document.createEvent("CustomEvent");return i.initCustomEvent(e,t.bubbles,t.cancelable,t.detail),i}).prototype=window.Event.prototype);return e}();var x={day:{onKeyDown:function(e,t){var i=e.keyCode,n=i===M.left?-1:i===M.right?1:i===M.up?-7:i===M.down?7:0;i===M.esc?t.close():n&&(e.preventDefault(),t.setState({hilightedDate:(o=t.state.hilightedDate,r=n,(o=new Date(o)).setDate(o.getDate()+r),o)}));var o,r},onClick:{"dp-day":function(e,t){t.setState({selectedDate:new Date(parseInt(e.target.getAttribute("data-date")))})},"dp-next":function(e,t){var i=t.state.hilightedDate;t.setState({hilightedDate:f(i,1)})},"dp-prev":function(e,t){var i=t.state.hilightedDate;t.setState({hilightedDate:f(i,-1)})},"dp-today":function(e,t){t.setState({selectedDate:p()})},"dp-clear":function(e,t){t.setState({selectedDate:null})},"dp-close":function(e,t){t.close()},"dp-cal-month":function(e,t){t.setState({view:"month"})},"dp-cal-year":function(e,t){t.setState({view:"year"})}},render:function(e){var t=e.opts,i=t.lang,n=e.state,o=i.days,r=t.dayOffset||0,s=n.selectedDate,a=n.hilightedDate,c=a.getMonth(),l=p().getTime();return'<div class="dp-cal"><header class="dp-cal-header"><button tabindex="-1" type="button" class="dp-prev">Prev</button><button tabindex="-1" type="button" class="dp-cal-month">'+i.months[c]+'</button><button tabindex="-1" type="button" class="dp-cal-year">'+a.getFullYear()+'</button><button tabindex="-1" type="button" class="dp-next">Next</button></header><div class="dp-days">'+o.map((function(e,t){return'<span class="dp-col-header">'+o[(t+r)%o.length]+"</span>"})).join("")+function(e,t,i){var n="",o=new Date(e);o.setDate(1),o.setDate(1-o.getDay()+t),t&&o.getDate()===t+1&&o.setDate(t-6);for(var r=0;r<42;++r)n+=i(o),o.setDate(o.getDate()+1);return n}(a,r,(function(i){var n=i.getMonth()!==c,o=!t.inRange(i),r=i.getTime()===l,u="dp-day";return u+=n?" dp-edge-day":"",u+=h(i,a)?" dp-current":"",u+=h(i,s)?" dp-selected":"",u+=o?" dp-day-disabled":"",u+=r?" dp-day-today":"",'<button tabindex="-1" type="button" class="'+(u+=" "+t.dateClass(i,e))+'" data-date="'+i.getTime()+'">'+i.getDate()+"</button>"}))+'</div><footer class="dp-cal-footer"><button tabindex="-1" type="button" class="dp-today">'+i.today+'</button><button tabindex="-1" type="button" class="dp-clear">'+i.clear+'</button><button tabindex="-1" type="button" class="dp-close">'+i.close+"</button></footer></div>"}},year:{render:function(e){var t=e.state,i=t.hilightedDate.getFullYear(),n=t.selectedDate.getFullYear();return'<div class="dp-years">'+function(e,t){for(var i="",n=e.opts.max.getFullYear();n>=e.opts.min.getFullYear();--n)i+=t(n);return i}(e,(function(e){var t="dp-year";return t+=e===i?" dp-current":"",'<button tabindex="-1" type="button" class="'+(t+=e===n?" dp-selected":"")+'" data-year="'+e+'">'+e+"</button>"}))+"</div>"},onKeyDown:function(e,t){var i=e.keyCode,n=t.opts,o=i===M.left||i===M.up?1:i===M.right||i===M.down?-1:0;if(i===M.esc)t.setState({view:"day"});else if(o){e.preventDefault();var r=d(t.state.hilightedDate,o);t.setState({hilightedDate:g(r,n.min,n.max)})}},onClick:{"dp-year":function(e,t){t.setState({hilightedDate:(i=t.state.hilightedDate,n=parseInt(e.target.getAttribute("data-year")),(i=new Date(i)).setFullYear(n),i),view:"day"});var i,n}}},month:{onKeyDown:function(e,t){var i=e.keyCode,n=i===M.left?-1:i===M.right?1:i===M.up?-3:i===M.down?3:0;i===M.esc?t.setState({view:"day"}):n&&(e.preventDefault(),t.setState({hilightedDate:f(t.state.hilightedDate,n,!0)}))},onClick:{"dp-month":function(e,t){t.setState({hilightedDate:(i=t.state.hilightedDate,n=parseInt(e.target.getAttribute("data-month")),f(i,n-i.getMonth())),view:"day"});var i,n}},render:function(e){var t=e.opts.lang.months,i=e.state.hilightedDate.getMonth();return'<div class="dp-months">'+t.map((function(e,t){var n="dp-month";return'<button tabindex="-1" type="button" class="'+(n+=i===t?" dp-current":"")+'" data-month="'+t+'">'+e+"</button>"})).join("")+"</div>"}}};function T(e,t,i){var n,o,r=!1,s={el:void 0,opts:i,shouldFocusOnBlur:!0,shouldFocusOnRender:!0,state:{get selectedDate(){return o},set selectedDate(e){e&&!i.inRange(e)||(e?(o=new Date(e),s.state.hilightedDate=o):o=e,s.updateInput(o),t("select"),s.close())},view:"day"},adjustPosition:v,containerHTML:'<div class="dp"></div>',attachToDom:function(){i.appendTo.appendChild(s.el)},updateInput:function(t){var n=new E("change",{bubbles:!0});n.simulated=!0,e.value=t?i.format(t):"",e.dispatchEvent(n)},computeSelectedDate:function(){return i.parse(e.value)},currentView:function(){return x[s.state.view]},open:function(){r||(s.el||(s.el=function(e,t){var i=document.createElement("div");return i.className=e.mode,i.innerHTML=t,i}(i,s.containerHTML),function(e){var t=e.el,i=t.querySelector(".dp");function n(t){t.target.className.split(" ").forEach((function(i){var n=e.currentView().onClick[i];n&&n(t,e)}))}t.ontouchstart=v,k("blur",i,m(150,(function(){e.hasFocus()||e.close(!0)}))),k("keydown",t,(function(t){t.keyCode===M.enter?n(t):e.currentView().onKeyDown(t,e)})),k("mousedown",i,(function(t){t.target.focus&&t.target.focus(),document.activeElement!==t.target&&(t.preventDefault(),I(e))})),k("click",t,n)}(s)),o=g(s.computeSelectedDate(),i.min,i.max),s.state.hilightedDate=o||i.hilightedDate,s.state.view="day",s.attachToDom(),s.render(),t("open"))},isVisible:function(){return!!s.el&&!!s.el.parentNode},hasFocus:function(){var e=document.activeElement;return s.el&&s.el.contains(e)&&e.className.indexOf("dp-focuser")<0},shouldHide:function(){return s.isVisible()},close:function(i){var n=s.el;if(s.isVisible()){if(n){var o=n.parentNode;o&&o.removeChild(n)}r=!0,i&&s.shouldFocusOnBlur&&function(e){e.focus(),/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream&&e.blur()}(e),setTimeout((function(){r=!1}),100),t("close")}},destroy:function(){s.close(),n()},render:function(){if(s.el){var e=s.hasFocus(),t=s.currentView().render(s);t&&(s.el.firstChild.innerHTML=t),s.adjustPosition(),(e||s.shouldFocusOnRender)&&I(s)}},setState:function(e){for(var i in e)s.state[i]=e[i];t("statechange"),s.render()}};return n=function(e,t){var i=m(5,(function(){t.shouldHide()?t.close():t.open()})),n=[k("blur",e,m(150,(function(){t.hasFocus()||t.close(!0)}))),k("mousedown",e,(function(){e===document.activeElement&&i()})),k("focus",e,i),k("input",e,(function(e){var i=t.opts.parse(e.target.value);isNaN(i)||t.setState({hilightedDate:i})}))];return function(){n.forEach((function(e){e()}))}}(e,s),s}function I(e){var t=e.el.querySelector(".dp-current");return t&&t.focus()}function C(e,t,i){var n=T(e,t,i);return n.shouldFocusOnBlur=!1,Object.defineProperty(n,"shouldFocusOnRender",{get:function(){return e!==document.activeElement}}),n.adjustPosition=function(){!function(e,t){var i=e.getBoundingClientRect(),n=window;(function(e,t,i){var n=e.el,o=i.pageYOffset,r=o+t.top,s=n.offsetHeight,a=r+t.height+8,c=r-s-8,l=c>0&&a+s>o+i.innerHeight,u=l?c:a;n.classList&&(n.classList.toggle("dp-is-above",l),n.classList.toggle("dp-is-below",!l));n.style.top=u+"px"})(t,i,n),function(e,t,i){var n=e.el,o=i.pageXOffset,r=t.left+o,s=i.innerWidth+o,a=n.offsetWidth,c=s-a,l=r+a>s&&c>0?c:r;n.style.left=l+"px"}(t,i,n),t.el.style.visibility=""}(e,n)},n}function O(e,t,i){return e=e&&e.tagName?e:document.querySelector(e),"dp-modal"===i.mode?function(e,t,i){var n=T(e,t,i);return e.readonly=!0,n.containerHTML+='<a href="#" class="dp-focuser">.</a>',n}(e,t,i):"dp-below"===i.mode?C(e,t,i):"dp-permanent"===i.mode?function(e,t,i){var n=T(e,t,i);return n.close=v,n.shouldFocusOnRender=i.shouldFocusOnRender,n.computeSelectedDate=function(){return i.hilightedDate},n.attachToDom=function(){i.appendTo.appendChild(n.el)},n.open(),n}(e,t,i):void 0}function S(){var e={};function t(t,i){(e[t]=e[t]||[]).push(i)}return{on:function(e,i){return i?t(e,i):function(e){for(var i in e)t(i,e[i])}(e),this},emit:function(t,i){(e[t]||[]).forEach((function(e){e(t,i)}))},off:function(t,i){return t?e[t]=i?(e[t]||[]).filter((function(e){return e!==i})):[]:e={},this}}}var P=i(0),D=i(11),A=i(1);i.d(t,"default",(function(){return B}));var L=/^\s*(3[01]|[12][0-9]|0?[1-9])\.(1[012]|0?[1-9])\.((?:19|20)\d{2})\s*$/g,B=function(){function e(t,n){s()(this,e),this.autoHideBackdrop=!0,this.config=t,this.subscriptionManager=n,this.id=document.querySelectorAll(".cleverpush-confirm").length+1,this.visible=!1,i(33),i(63)}return c()(e,[{key:"removeConfirmBox",value:function(){Object(P.c)("removeConfirmBox"),this.visible=!1;var e=document.getElementsByClassName("cleverpush-attributes-box");if(e.length){var t=e[e.length-1];t.parentNode.removeChild(t)}this.confirmBox=null}},{key:"hide",value:function(){Object(P.c)("hide"),this.autoHideBackdrop&&this.hideBackdrop(),this.removeConfirmBox()}},{key:"onCloseClick",value:function(e){Object(P.c)("closeConfirmBox"),e.preventDefault(),this.hide(),this.hideBackdrop()}},{key:"onAllowClick",value:function(e){Object(P.c)("allowPush"),e.preventDefault();for(var t=document.querySelectorAll(".cleverpush-attributes input"),i=0;i<t.length;i+=1){var n=t[i];if("radio"!==n.type&&"checkbox"!==n.type||!n.checked)if("birthdate"===n.name){var o=L.exec(n.value);if(!o)return void alert("Bitte wähle ein Datum aus.");var r=new Date(o[3]+"-"+o[2]+"-"+o[1]+"T12:00:00");CleverPush.setAttribute(n.name,r.toISOString())}else CleverPush.setAttribute(n.name,n.value);else CleverPush.setAttribute(n.name,n.value)}this.hide()}},{key:"showBackdrop",value:function(e,t,i){var n=this;if(Object(P.c)("showBackdrop"),"denied"===(void 0!==t&&"denied"===t?"denied":"grant")||this.config.hideNativeConfirmAlert||this.config.showConfirmAlert||!this.config.confirmAlertNativeTheme||"cleverpush-confirm-default"===this.config.confirmAlertNativeTheme||"cleverpush-confirm-backdrop-text"===this.config.confirmAlertNativeTheme||!this.config.ownDomain||"https:"!==window.top.location.protocol&&"localhost"!==window.top.location.hostname||this.appendConfirmBox("".concat(this.config.confirmAlertNativeTheme," ").concat(this.config.confirmAlertNativeTheme,"-native")),void 0===this.config.confirmAlertBackdrop||this.config.confirmAlertBackdrop){var o=document.getElementsByClassName("cleverpush-backdrop");if(o&&o.length)for(var r=0;r<o.length;r+=1){var s=o[r];s&&s.parentNode&&s.parentNode.removeChild(s)}var a=document.createElement("div");a.className="cleverpush-backdrop",a.style.display="none",a.innerHTML=backdropText,this.config.confirmAlertBackdropOpacity&&(a.style.backgroundColor="rgba(0, 0, 0, ".concat(this.config.confirmAlertBackdropOpacity,")")),this.config.confirmAlertBackdropBlur&&(a.className+=" cleverpush-backdrop-blur"),a.addEventListener("click",(function(e){e.preventDefault(),n.hideBackdrop()})),document.body&&(document.body.appendChild(a),document.body.classList?(document.body.classList.add("has-cleverpush-backdrop"),this.config.confirmAlertBackdropBlur&&document.body.classList.add("has-cleverpush-backdrop-blur")):(document.body.className+=" has-cleverpush-backdrop",this.config.confirmAlertBackdropBlur&&(document.body.className+=" has-cleverpush-backdrop-blur"))),Object(D.d)(a,200,void 0!==e?e:function(){})}else"function"==typeof e&&e()}},{key:"hideBackdrop",value:function(){if(Object(P.c)("hideBackdrop"),document.body&&(document.body.classList?(this.config.confirmAlertBackdropBlur&&document.body.classList.remove("has-cleverpush-backdrop-blur"),document.body.classList.remove("has-cleverpush-backdrop")):(this.config.confirmAlertBackdropBlur&&(document.body.className=document.body.className.replace("has-cleverpush-backdrop-blur","")),document.body.className=document.body.className.replace("has-cleverpush-backdrop",""))),!this.config.hideNativeConfirmAlert&&this.config.confirmAlertNativeTheme&&"cleverpush-confirm-default"!==this.config.confirmAlertNativeTheme&&"cleverpush-backdrop-text"!==this.config.confirmAlertNativeTheme)document.getElementsByClassName("cleverpush-confirm")[0];if(void 0===this.config.confirmAlertBackdrop||this.config.confirmAlertBackdrop)for(var e=document.getElementsByClassName("cleverpush-backdrop"),t=0;t<e.length;t+=1){!function(e){Object(D.e)(e,200,(function(){e&&e.parentNode&&e.parentNode.removeChild(e)}))}(e[t])}}},{key:"camelCaseToDash",value:function(e){return e.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}},{key:"appendConfirmBox",value:function(e){var t=this;if(Object(P.c)("appendConfirmBox"),!this.confirmBox){var i=this.config.alertLocalization||{},n=(navigator.language||navigator.userLanguage||"").substr(0,2);this.config.alertLocalizationTranslations&&n&&this.config.alertLocalizationTranslations[n]&&(i=Object.assign({},i,this.config.alertLocalizationTranslations[n]));var r={title:i.title||Object(A.a)("confirm.title").formatCleverPush(this.config.channelName),deny:i.deny||Object(A.a)("confirm.deny"),allow:i.allow||Object(A.a)("confirm.allow"),confirmInfo:i.confirmInfo||Object(A.a)("popup.info").formatCleverPush(Object(A.a)("confirm.allowBrowser"))},s="cleverpush-confirm-default",a="",c=void 0!==e?e:this.config.confirmAlertTheme;c&&(s=c);var l=new u.a;this.config.confirmAlertThemeVariant&&"cleverpush-confirm-auto"!==this.config.confirmAlertThemeVariant?s+=" ".concat(this.config.confirmAlertThemeVariant):"Mac OS"===l.getOS().name?s+=" cleverpush-confirm-mac":"Windows"===l.getOS().name?s+=" cleverpush-confirm-chrome":s+=" cleverpush-confirm-material",this.config.confirmAlertStyle&&this.config.confirmAlertStyle.color&&(this.config.confirmAlertThemeTextColor=this.config.confirmAlertStyle.color),this.config.confirmAlertThemeBackgroundColor?(a+="background-color: "+this.config.confirmAlertThemeBackgroundColor+";",this.config.confirmAlertThemeTextColor&&(a+="color: "+this.config.confirmAlertThemeTextColor+";")):this.config.confirmAlertThemeBackground&&(s+=" ".concat(this.config.confirmAlertThemeBackground)),this.config.confirmAlertHideChannelIcon&&(s+=" cleverpush-confirm-hide-channel-icon"),this.config.confirmAlertHideArrow&&(s+=" cleverpush-confirm-hide-arrow"),"PREVIEW"===this.config.env&&(s+=" cleverpush-confirm-preview"),s+=" cleverpush-confirm-".concat(this.id);var p,h=[],f="";this.config.customAttributes&&this.config.customAttributes.length&&!this.config.confirmAlertHideChannelTopics&&(f+='<div class="cleverpush-attributes">',this.config.customAttributes.filter((function(e){return!!e.askAfterOptIn})).forEach((function(e){f+='<div class="cleverpush-attributes-item">',f+='<div class="cleverpush-attributes-title"><strong>'.concat(e.askAfterOptInTitle||e.name,"</strong></div>"),e.possibleValues&&e.possibleValues.length?e.possibleValues.forEach((function(i){f+='<div><label><input type="'.concat(t.config.askAfterOptInInputType||"radio",'" name="').concat(e.id,'" value="').concat(i,'"> ').concat(i,"</label></div>")})):(f+='<input type="'.concat(t.config.askAfterOptInInputType||"text",'" name="').concat(e.id,'" placeholder="').concat("birthdate"===e.id?"TT.MM.JJJJ":"",'">'),"birthdate"===e.id&&(f+='</div><div class="cleverpush-attributes-item"><div class="'.concat("cleverpush-datepicker-"+e.id,'"></div>'),h.push(e.id))),f+="</div>"})),f+="</div>"),this.config.appendConfirmBoxTo&&(p=document.querySelector(this.config.appendConfirmBoxTo)),p?s+="cleverpush-confirm-static":(this.config.appendConfirmBoxTo&&P.b.error("appendConfirmBoxTo: container not found. Falling back to default."),p=document.body),s+=" cleverpush-topic-box",r.title=this.config.confirmAlertSelectTopicsLaterTitle||Object(A.a)("confirm.selectTopics")||r.title,r.allow=Object(A.a)("panel.save");var d=Object(D.a)('<div class="cleverpush-confirm cleverpush-attributes-box '.concat(s,'" style="').concat(a,'">\n        <div class="cleverpush-confirm-caret cleverpush-confirm-caret-top" style="display: none; border-bottom-color: ').concat(this.config.confirmAlertThemeBackgroundColor,'"></div>\n        <div class="cleverpush-confirm-caret cleverpush-confirm-caret-bottom" style="display: none; border-top-color: ').concat(this.config.confirmAlertThemeBackgroundColor,'"></div>\n        <button type="button" class="cleverpush-confirm-hide">&times;</button>\n        <div class="cleverpush-confirm-wrap">\n            ').concat("cleverpush-confirm-topbar cleverpush-confirm-topbar-native"===e?'<div class="cleverpush-confirm-topbar-arrow"></div>':"",'\n            <div class="').concat("cleverpush-confirm-icon"+(this.config.confirmAlertRoundChannelIcon?" cleverpush-confirm-icon-round":""),'"><img src="').concat(this.config.channelIcon,'"></div>\n          <div class="cleverpush-confirm-text" style="').concat(this.config.confirmAlertThemeTextColor?"color: "+this.config.confirmAlertThemeTextColor+";":"",'">\n            ').concat(f,'\n            </div>\n          <div class="cleverpush-clearfix cleverpush-clearfix-bottom">\n            <div class="cleverpush-confirm-buttons">\n            <button class="cleverpush-confirm-btn cleverpush-confirm-btn-deny">').concat(r.deny,'</button>\n            <button class="cleverpush-confirm-btn cleverpush-confirm-btn-allow" style="').concat(this.config.confirmAlertThemeButtonTextColor?"color: "+this.config.confirmAlertThemeButtonTextColor+";":""," ").concat(this.config.confirmAlertThemeButtonBackgroundColor?"border-color: transparent !important; background: none; background-color: "+this.config.confirmAlertThemeButtonBackgroundColor+";":"",'">').concat(r.allow,'</button></div>\n            <div class="cleverpush-clearfix"></div>\n          </div>\n        </div>\n      </div>'));if(p.appendChild(d),this.confirmBox=document.querySelector(".cleverpush-confirm-".concat(this.id)),this.confirmBox&&"object"===o()(this.config.confirmAlertStyle))for(var b in this.config.confirmAlertStyle)this.config.confirmAlertStyle.hasOwnProperty(b)&&(this.confirmBox.style[b]=this.config.confirmAlertStyle[b]);if(this.confirmBoxTitle=document.querySelector(".cleverpush-confirm-".concat(this.id," .cleverpush-confirm-title")),this.confirmBoxTitle&&"object"===o()(this.config.confirmAlertTitleStyle))for(var g in this.config.confirmAlertTitleStyle)this.config.confirmAlertTitleStyle.hasOwnProperty(g)&&(this.confirmBoxTitle.style[g]=this.config.confirmAlertTitleStyle[g]);if(this.allowButton=this.confirmBox.querySelector(".cleverpush-confirm-btn-allow"),this.allowButton){if(this.allowButton.addEventListener("click",this.onAllowClick.bind(this)),"object"===o()(this.config.confirmAlertButtonStyle))for(var m in this.config.confirmAlertButtonStyle.backgroundColor&&!this.config.confirmAlertButtonStyle.borderColor&&(this.config.confirmAlertButtonStyle.borderColor="transparent"),this.config.confirmAlertButtonStyle)this.config.confirmAlertButtonStyle.hasOwnProperty(m)&&this.allowButton.style.setProperty(this.camelCaseToDash(m),this.config.confirmAlertAllowButtonStyle[m],"important");if("object"===o()(this.config.confirmAlertAllowButtonStyle))for(var v in this.config.confirmAlertAllowButtonStyle)this.config.confirmAlertAllowButtonStyle.backgroundColor&&!this.config.confirmAlertAllowButtonStyle.borderColor&&(this.config.confirmAlertAllowButtonStyle.borderColor="transparent"),this.config.confirmAlertAllowButtonStyle.hasOwnProperty(v)&&this.allowButton.style.setProperty(this.camelCaseToDash(v),this.config.confirmAlertAllowButtonStyle[v],"important")}this.closeButton=this.confirmBox.querySelector(".cleverpush-confirm-hide"),this.closeButton&&(this.closeButton.addEventListener("click",this.onCloseClick.bind(this)),this.confirmBox&&"object"===o()(this.config.confirmAlertStyle)&&this.config.confirmAlertStyle.color&&(this.closeButton.style.color=this.config.confirmAlertStyle.color)),this.confirmBox&&h.length&&h.forEach((function(e){var i,n,o,r,s,a=(i=t.confirmBox.querySelector('input[name="'+e+'"]'),n={appendTo:t.confirmBox.querySelector(".cleverpush-datepicker-"+e),mode:"dp-permanent",lang:{days:["So","Mo","Di","Mi","Do","Fr","Sa"],dayOffset:0,months:["Januar","Februar","März","April","Mai","Juni","Juli","August","September","Oktober","November","Dezember"],today:"Heute",clear:"Löschen",close:"Schließen"},format:function(e){var t=e.getDate();1===t.toString().length&&(t="0"+t);var i=e.getMonth()+1;return 1===i.toString().length&&(i="0"+i),t+"."+i+"."+e.getFullYear()},parse:function(e){var t=L.exec(e);return t?new Date(t[3]+"-"+t[2]+"-"+t[1]+"T12:00:00"):new Date}},o=S(),r=O(i,(function(e){o.emit(e,s)}),y(n)),s={get state(){return r.state},on:o.on,off:o.off,setState:r.setState,open:r.open,close:r.close,destroy:r.destroy});console.log(a)}))}}}]),e}()},function(e,t,i){var n=i(9),o=i(27),r=i(59),s=i(60);function a(t){var i="function"==typeof Map?new Map:void 0;return e.exports=a=function(e){if(null===e||!r(e))return e;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==i){if(i.has(e))return i.get(e);i.set(e,t)}function t(){return s(e,arguments,n(this).constructor)}return t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),o(t,e)},a(t)}e.exports=a},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return CleverPush}));var _babel_runtime_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(22),_babel_runtime_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(_babel_runtime_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_0__),_babel_runtime_helpers_typeof__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(8),_babel_runtime_helpers_typeof__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(_babel_runtime_helpers_typeof__WEBPACK_IMPORTED_MODULE_1__),_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(5),_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_2___default=__webpack_require__.n(_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_2__),_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(6),_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_3___default=__webpack_require__.n(_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_3__),_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(12),_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_4___default=__webpack_require__.n(_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_4__),_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(9),_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5___default=__webpack_require__.n(_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5__),_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(13),_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_6___default=__webpack_require__.n(_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_6__),wolfy87_eventemitter__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(37),wolfy87_eventemitter__WEBPACK_IMPORTED_MODULE_7___default=__webpack_require__.n(wolfy87_eventemitter__WEBPACK_IMPORTED_MODULE_7__),ouibounce__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(38),ouibounce__WEBPACK_IMPORTED_MODULE_8___default=__webpack_require__.n(ouibounce__WEBPACK_IMPORTED_MODULE_8__),_bell__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__(44),_confirm__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__(43),_utils_debug__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__(0),_utils_dom__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__(11),_api__WEBPACK_IMPORTED_MODULE_13__=__webpack_require__(39),_messenger_command__WEBPACK_IMPORTED_MODULE_14__=__webpack_require__(50),_utils_request__WEBPACK_IMPORTED_MODULE_15__=__webpack_require__(23),_utils_env__WEBPACK_IMPORTED_MODULE_16__=__webpack_require__(2),_const_event__WEBPACK_IMPORTED_MODULE_17__=__webpack_require__(3),_subscription_safariManager__WEBPACK_IMPORTED_MODULE_18__=__webpack_require__(29),_subscription_httpsManager__WEBPACK_IMPORTED_MODULE_19__=__webpack_require__(51),_subscription_httpHostManager__WEBPACK_IMPORTED_MODULE_20__=__webpack_require__(52),_subscription_httpIframeManager__WEBPACK_IMPORTED_MODULE_21__=__webpack_require__(41),_subscription_httpPopupManager__WEBPACK_IMPORTED_MODULE_22__=__webpack_require__(40),_subscription_facebookManager__WEBPACK_IMPORTED_MODULE_23__=__webpack_require__(21),_utils_translate__WEBPACK_IMPORTED_MODULE_24__=__webpack_require__(1),_contentButton__WEBPACK_IMPORTED_MODULE_25__=__webpack_require__(45),_multiPlatformWidget__WEBPACK_IMPORTED_MODULE_26__=__webpack_require__(46),_tagButton__WEBPACK_IMPORTED_MODULE_27__=__webpack_require__(47),_topicButton__WEBPACK_IMPORTED_MODULE_28__=__webpack_require__(48),_pageBanner__WEBPACK_IMPORTED_MODULE_29__=__webpack_require__(31),_webBanner__WEBPACK_IMPORTED_MODULE_30__=__webpack_require__(30),_error_CleverPushError__WEBPACK_IMPORTED_MODULE_31__=__webpack_require__(4),_utils_adblock__WEBPACK_IMPORTED_MODULE_32__=__webpack_require__(49),_panel__WEBPACK_IMPORTED_MODULE_33__=__webpack_require__(26),CleverPush=function(_EventEmitter){function CleverPush(){var e;return _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_2___default()(this,CleverPush),(e=_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_4___default()(this,_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5___default()(CleverPush).call(this))).bell=null,e.config={},e.log=_utils_debug__WEBPACK_IMPORTED_MODULE_11__.b,e.initialized=!1,e.initCalled=!1,e.initFailed=!1,e.initError=null,e.api=null,e.subscriptionManager=null,e.version="0.4.0",e}return _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_6___default()(CleverPush,_EventEmitter),_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_3___default()(CleverPush,[{key:"init",value:function init(configParam,callbackParam){var _this2=this;Object(_utils_debug__WEBPACK_IMPORTED_MODULE_11__.c)("init",configParam),_utils_debug__WEBPACK_IMPORTED_MODULE_11__.b.info("Browser:",_utils_env__WEBPACK_IMPORTED_MODULE_16__.a.name,_utils_env__WEBPACK_IMPORTED_MODULE_16__.c);var callback=function(e,t){var i=void 0!==t?t:!e;"function"==typeof callbackParam?callbackParam(e,i):e&&(e.warn||"unsupported-browser"===e.reason||"private-mode"===e.reason||"already-initialized"===e.reason||"init-already-called"===e.reason?_utils_debug__WEBPACK_IMPORTED_MODULE_11__.b.warn(e.message):_utils_debug__WEBPACK_IMPORTED_MODULE_11__.b.error(e)),"function"==typeof window.cleverPushInitCallback&&window.cleverPushInitCallback(e,i),e?("already-initialized"!==e.reason&&"init-already-called"!==e.reason&&(_this2.initFailed=!0,_this2.initError=e),_this2.trigger(_const_event__WEBPACK_IMPORTED_MODULE_17__.a.INITIALIZATION_FAILED),e&&"unsupported-browser"!==e.reason&&"private-mode"!==e.reason&&"already-initialized"!==e.reason&&e.reason):_this2.initFailed=!1};if(this.initCalled)callback(new _error_CleverPushError__WEBPACK_IMPORTED_MODULE_31__.a("Init was already called, please only call init() once.","init-already-called"),!1);else if(this.initCalled=!0,"object"!==_babel_runtime_helpers_typeof__WEBPACK_IMPORTED_MODULE_1___default()(configParam))callback(new _error_CleverPushError__WEBPACK_IMPORTED_MODULE_31__.a("Required parameter `config` not given.","invalid-config"));else if(configParam.channelId)if(this.initialized)callback(new _error_CleverPushError__WEBPACK_IMPORTED_MODULE_31__.a("CleverPush SDK was already initialized.","already-initialized"));else{this.api=new _api__WEBPACK_IMPORTED_MODULE_13__.a(configParam.channelId),configParam.apiEndpoint&&(this.api.endpoint=configParam.apiEndpoint);var initSubscriptionManager=function(){var e;e="safari"===_this2.browserType?_subscription_safariManager__WEBPACK_IMPORTED_MODULE_18__.a:"facebook"===_this2.browserType?_subscription_facebookManager__WEBPACK_IMPORTED_MODULE_23__.a:Object(_utils_env__WEBPACK_IMPORTED_MODULE_16__.k)()?_subscription_httpPopupManager__WEBPACK_IMPORTED_MODULE_22__.a:Object(_utils_env__WEBPACK_IMPORTED_MODULE_16__.j)()?_subscription_httpIframeManager__WEBPACK_IMPORTED_MODULE_21__.a:!_this2.config.ownDomain||"https:"!==window.parent.location.protocol&&"localhost"!==window.parent.location.hostname?_subscription_httpHostManager__WEBPACK_IMPORTED_MODULE_20__.a:_subscription_httpsManager__WEBPACK_IMPORTED_MODULE_19__.a,_this2.subscriptionManager=new e(_this2.config,_this2.api,_this2.trigger.bind(_this2))};if(Object(_utils_env__WEBPACK_IMPORTED_MODULE_16__.i)()||"PREVIEW"===configParam.env||"WIDGET"===configParam.env){var loadConfigPromise=new Promise((function(e,t){var i=configParam.confirmAlertTestsEnabled&&configParam.confirmAlertTests&&configParam.confirmAlertTests.length;"undefined"!=typeof fetch&&(void 0===configParam.loadConfig||configParam.loadConfig||i)?_this2.api.getChannelConfig(configParam.confirmAlertTestsEnabled).then((function(t){e(t)})).catch(t):configParam.loadConfigUrl?Object(_utils_request__WEBPACK_IMPORTED_MODULE_15__.a)(configParam.loadConfigUrl).then((function(t){e(t||{})})).catch(t):e({})}));configParam.apiEndpoint&&(this.api.endpoint=configParam.apiEndpoint),loadConfigPromise.then((function(channelConfig){if(_this2.config=Object.assign({autoRegister:!0,alertTimeout:0,alertMinimumVisits:0,loadIframe:!0,trackSessions:!0},channelConfig,configParam),void 0!==_this2.config.channelId&&void 0!==_this2.config.channelName){if("object"===_babel_runtime_helpers_typeof__WEBPACK_IMPORTED_MODULE_1___default()(self.cleverPushConfig)&&(_this2.config=Object.assign(_this2.config,self.cleverPushConfig)),_utils_debug__WEBPACK_IMPORTED_MODULE_11__.b.debug("Config:",_this2.config),_this2.config.apiEndpoint&&(_this2.api.endpoint=_this2.config.apiEndpoint),_this2.config.regionEnabled&&(_this2.api.regionEnabled=!0),Object(_utils_env__WEBPACK_IMPORTED_MODULE_16__.l)()&&(_this2.config.autoRegister=!1),_this2.config.facebookAppId||(_this2.config.facebookAppId="436333683366106"),"undefined"!=typeof URLSearchParams&&location.search&&location.search.length){var params=new URLSearchParams(location.search.slice(1));params.get("confirmAlertTestId")&&(_this2.config.confirmAlertTestId=params.get("confirmAlertTestId"),_this2.api.setConfirmAlertTestId(_this2.config.confirmAlertTestId))}(_this2.config.trackOptInReferrers||(_this2.config.confirmAlertFilters||[]).find((function(e){return"referrer"===e.type}))||_this2.config.bounceEnabled&&(_this2.config.bounceFilters||[]).find((function(e){return"direct"===e.source})))&&!sessionStorage.getItem("cleverpush-referrer")&&document.referrer&&sessionStorage.setItem("cleverpush-referrer",document.referrer.split("?")[0]),_this2.referrer=sessionStorage.getItem("cleverpush-referrer");var supportsPushOrFbMessenger=function(){return new Promise((function(e,t){var i=function(i){if(_this2.config.facebookAppId&&_this2.config.facebookPageId&&"unsupported-browser"===i.reason){if(_this2.config.multiChannels&&_this2.config.multiChannels.facebookChannel&&_this2.config.multiChannels.facebookChannel._id!==_this2.config.channelId&&(_this2.config.channelId=_this2.config.multiChannels.facebookChannel._id,_this2.config.alertLocalization=Object.assign({},_this2.config.alertLocalization,_this2.config.multiChannels.facebookChannel.alertLocalization),_this2.api.channelId=_this2.config.multiChannels.facebookChannel._id),_utils_debug__WEBPACK_IMPORTED_MODULE_11__.b.debug("UAParser Browser:",_utils_env__WEBPACK_IMPORTED_MODULE_16__.a),!_this2.config.facebookCheckboxEnabled)return void t(i);_this2.config.facebookDoubleOptIn?e("facebook"):_subscription_facebookManager__WEBPACK_IMPORTED_MODULE_23__.a.initFacebook((function(){if("undefined"!=typeof FB){var n=document.createElement("div"),o=!1;FB.Event.subscribe("messenger_checkbox",(function(t){o||(_utils_debug__WEBPACK_IMPORTED_MODULE_11__.b.debug("FB - Mock Checkbox Event",t),"rendered"===t.event?(o=!0,document.body.removeChild(n),e("facebook")):"hidden"===t.event&&(_utils_debug__WEBPACK_IMPORTED_MODULE_11__.b.warn("Facebook Messenger Plugin was hidden. Do you have disabled third-party tracking in your browser settings?"),_this2.config.facebookButtonOptIn=!0,document.body.removeChild(n),o=!0,e("facebook")))})),n.style.display="none",n.innerHTML='<div class="fb-messenger-checkbox" origin="'.concat(location.origin,'" page_id="').concat(_this2.config.facebookPageId,'" messenger_app_id="').concat(_this2.config.facebookAppId,'" user_ref="').concat(Math.random().toString(36).slice(2)+Math.random().toString(36).slice(2),'" prechecked="true" allow_login="false" size="large" style="margin-top: 10px; margin-left: -14px;"></div>'),document.body.appendChild(n),FB.XFBML.parse(),_utils_debug__WEBPACK_IMPORTED_MODULE_11__.b.debug("FB mock checkbox appended")}else _utils_debug__WEBPACK_IMPORTED_MODULE_11__.b.debug("FB undefined"),t(i)})),_this2.config.showConfirmAlert=!0,"cleverpush-confirm-backdrop-text"===_this2.config.confirmAlertNativeTheme&&(_this2.config.confirmAlertNativeTheme="")}else t(i)};_this2.config.multiChannels&&_this2.config.multiChannels.facebookChannel&&_this2.config.multiChannels.facebookChannel.facebookPage&&!_this2.config.facebookPageId&&(_this2.config.facebookPageId=_this2.config.multiChannels.facebookChannel.facebookPage.id||_this2.config.multiChannels.facebookChannel.facebookPageId,_this2.config.facebookCheckboxEnabled=_this2.config.multiChannels.facebookChannel.facebookCheckboxEnabled,_this2.config.facebookCheckboxOnlyUnsupported=_this2.config.multiChannels.facebookChannel.facebookCheckboxOnlyUnsupported),Object(_utils_env__WEBPACK_IMPORTED_MODULE_16__.n)().then((function(t){_this2.config.facebookCheckboxOnlyUnsupported&&_this2.config.facebookPageId&&(_this2.config.facebookPageId=null),"safari"!==t||_this2.config.safariWebsitePushId?e(t):i(new _error_CleverPushError__WEBPACK_IMPORTED_MODULE_31__.a("Safari Web Push not set up","unsupported-browser"))})).catch(i)}))};_this2.initWebBanners(),_this2.initBounces(),Object(_utils_dom__WEBPACK_IMPORTED_MODULE_12__.c)().then((function(){_this2.initMultiPlatformWidgets()})),supportsPushOrFbMessenger().then((function(browserType){if(_this2.browserType=browserType,!_this2.config.desktopOnly||"Android"!==_utils_env__WEBPACK_IMPORTED_MODULE_16__.m.name&&"mobile"!==_utils_env__WEBPACK_IMPORTED_MODULE_16__.d.type){if(_this2.config.confirmAlertTestsEnabled&&_this2.config.confirmAlertTests&&_this2.config.confirmAlertTests.length>0){var availableConfirmAlertTests=_this2.config.confirmAlertTests.filter((function(e){return!e.alertPathname||e.alertPathname&&new RegExp(e.alertPathname).test(window.location.pathname)})),test;if(_this2.config.confirmAlertTestId){var testIndex=availableConfirmAlertTests.findIndex((function(e){return(e||{}).id===_this2.config.confirmAlertTestId}));testIndex>=0&&(test=availableConfirmAlertTests[testIndex])}if(!test){var defaultPercent=100/availableConfirmAlertTests.length,tests=availableConfirmAlertTests.map((function(e){return Object.assign({},e,{percentage:e.percentage||defaultPercent})})),i,randomNr=Math.random(),threshold=0;for(i=0;i<tests.length;i+=1)if(tests[i].percentage){if(threshold+=tests[i].percentage/100,threshold>randomNr){test=tests[i];break}test||(test=tests.filter((function(e){return!e.percentage})))}}test&&test.config&&(_utils_debug__WEBPACK_IMPORTED_MODULE_11__.b.debug("Split-Test:",test),_this2.config=Object.assign({},_this2.config,test.config,{confirmAlertTestId:test.id}),test.alertLocalization||(_this2.config.alertLocalization||(_this2.config.alertLocalization={}),_this2.config.alertLocalization={allow:test.config.alertLocalizationAllow||_this2.config.alertLocalization.allow,deny:test.config.alertLocalizationDeny||_this2.config.alertLocalization.deny,confirmInfo:test.config.alertLocalizationConfirmInfo||_this2.config.alertLocalization.confirmInfo,title:test.config.alertLocalizationTitle||_this2.config.alertLocalization.title,info:test.config.alertLocalizationInfo||_this2.config.alertLocalization.info}),_this2.api.setConfirmAlertTestId(_this2.config.confirmAlertTestId))}var language=(navigator.language||navigator.userLanguage||"").substr(0,2);if(_this2.config.alertLocalizationTranslations&&language&&_this2.config.alertLocalizationTranslations[language]){var translation=_this2.config.alertLocalizationTranslations[language];translation.privacyPolicyUrl&&(_this2.config.privacyPolicyUrl=translation)}_this2.config.channelTopics&&_this2.config.channelTopics.length&&(_this2.config.channelTopics=_this2.config.channelTopics.sort((function(e,t){return e.sort-t.sort})));var initSdk=function initSdk(){initSubscriptionManager(),_this2.waitForInit().then((function(){if(_utils_debug__WEBPACK_IMPORTED_MODULE_11__.b.debug("Init done"),_this2.confirm=new _confirm__WEBPACK_IMPORTED_MODULE_10__.a(_this2.config,_this2.subscriptionManager),_this2.subscriptionManager.setConfirm(_this2.confirm),_this2.config.showNotificationBell){var isMobile="Android"===_utils_env__WEBPACK_IMPORTED_MODULE_16__.m.name||"mobile"===_utils_env__WEBPACK_IMPORTED_MODULE_16__.d.type;isMobile&&_this2.config.hideNotificationBellMobile||(_this2.bell=new _bell__WEBPACK_IMPORTED_MODULE_9__.a(_this2.config,_this2.subscriptionManager,_this2.api,_this2.confirm,_this2.trigger.bind(_this2)))}var fullScreenOptIn="Android"===_utils_env__WEBPACK_IMPORTED_MODULE_16__.m.name&&("Chrome"===_utils_env__WEBPACK_IMPORTED_MODULE_16__.a.name||"Firefox"===_utils_env__WEBPACK_IMPORTED_MODULE_16__.a.name||"Opera"===_utils_env__WEBPACK_IMPORTED_MODULE_16__.a.name);_this2.config.showConfirmAlertMobile&&!_this2.config.confirmAlertSelectTopicsLater&&fullScreenOptIn&&(_this2.config.showConfirmAlert=!0);var isSafariMac="Mac OS"===_utils_env__WEBPACK_IMPORTED_MODULE_16__.m.name&&"Safari"===_utils_env__WEBPACK_IMPORTED_MODULE_16__.a.name;if(isSafariMac&&(_utils_env__WEBPACK_IMPORTED_MODULE_16__.c>12||12===_utils_env__WEBPACK_IMPORTED_MODULE_16__.c&&_utils_env__WEBPACK_IMPORTED_MODULE_16__.b>=1)&&(_this2.config.showConfirmAlert=!0,_this2.config.isSafari_12_1=!0),"Firefox"===_utils_env__WEBPACK_IMPORTED_MODULE_16__.a.name&&_utils_env__WEBPACK_IMPORTED_MODULE_16__.c>=72&&"PREVIEW"!==_this2.config.env&&(_this2.config.showConfirmAlert=!0),_this2.config.confirmAlertHideChannelTopics||!_this2.config.isSafari_12_1&&(_this2.config.channelTopics||[]).length&&(fullScreenOptIn&&!_this2.config.showConfirmAlertMobile||isSafariMac)&&(_this2.config.confirmAlertSelectTopicsLater=!0),_this2.config.customAttributes&&_this2.config.customAttributes.length&&_this2.config.customAttributes.filter((function(e){return!!e.askAfterOptIn})).length&&(_this2.config.confirmAlertSelectAttributesLater=!0),_this2.on(_const_event__WEBPACK_IMPORTED_MODULE_17__.a.SUBSCRIBED,(function(e){_this2.bell&&_this2.bell.reset(!0),_this2.confirm&&_this2.confirm.hide(),_this2.config.googleAnalyticsDimensionIndex&&"function"==typeof ga&&ga("set","dimension".concat(_this2.config.googleAnalyticsDimensionIndex),e)})),_this2.on(_const_event__WEBPACK_IMPORTED_MODULE_17__.a.UNSUBSCRIBED,(function(){_this2.subscriptionManager.subscribed=!1,_this2.bell&&_this2.bell.reset(!1)})),_this2.initContentButtons(),_this2.initTagButtons(),_this2.initTopicButtons(),_this2.initPageBanners(),_this2.initTags(),_this2.initTopics(),_this2.initConversions(),_this2.subscriptionManager.isSubscribed().then((function(e){_this2.bell&&(_this2.bell.show(e),_this2.trigger(_const_event__WEBPACK_IMPORTED_MODULE_17__.a.BELL_READY)),e&&(_utils_debug__WEBPACK_IMPORTED_MODULE_11__.b.debug("main subscribed = true"),_this2.subscriptionManager.subscribed=!0,_this2.subscriptionManager.iframeMessenger&&_this2.subscriptionManager.getSubscriptionId().then((function(e){_this2.subscriptionManager.iframeMessenger.setSubscribed(e)})))})),_this2.config.trackSessions)try{_this2.waitForSubscription().then((function(e){var t=_this2.subscriptionManager.storageManager.getLastSession(),i=function(){if(t&&t.lastInteractionAt&&t.startedAt&&new Date(t.lastInteractionAt)<new Date(Date.now()-108e3)){var i=Math.round((new Date(t.lastInteractionAt).getTime()-new Date(t.startedAt).getTime())/1e3);i>108e3?i=108e3:i<0&&(i=0),_this2.api.endSession(e,{duration:i,visits:t.visits}),t={}}};i(),t.startedAt&&"true"===sessionStorage.getItem("cleverpush-session-counted")||(sessionStorage.setItem("cleverpush-session-counted","true"),_this2.subscriptionManager.storageManager.getNotifications(1).then((function(t){_utils_debug__WEBPACK_IMPORTED_MODULE_11__.b.info("getNotifications res",t);var i={};t&&t.length&&t[0]&&t[0].id&&(i.lastNotificationId=t[0].id),_this2.api.startSession(e,i)})),t.startedAt=new Date,t.visits=0),t.lastInteractionAt=new Date,t.visits+=1,_this2.subscriptionManager.storageManager.setLastSession(t),window.addEventListener("unload",(function(){(t=_this2.subscriptionManager.storageManager.getLastSession())&&t.lastInteractionAt&&t.startedAt&&!(new Date(t.lastInteractionAt)>=new Date(Date.now()-108e3))||(t.lastInteractionAt=new Date),i(),_this2.subscriptionManager.storageManager.setLastSession(t)}),!1)}))}catch(e){_utils_debug__WEBPACK_IMPORTED_MODULE_11__.b.warn(e)}if(_this2.config.confirmAlertFilters&&_this2.config.confirmAlertFilters.length&&"PREVIEW"!==_this2.config.env){var applyFilter=function(e){void 0!==e.autoRegister&&(_this2.config.autoRegister=e.autoRegister),void 0!==e.minimumVisits&&(_this2.config.alertMinimumVisits=e.minimumVisits),void 0!==e.scrollPercentage&&(_this2.config.alertScrollPercentage=e.scrollPercentage),void 0!==e.timeout&&(_this2.config.alertTimeout=1e3*e.timeout),void 0!==e.localizationTitle&&(_this2.config.alertLocalization=Object.assign({},_this2.config.alertLocalization,{title:e.localizationTitle})),void 0!==e.localizationInfo&&(_this2.config.alertLocalization=Object.assign({},_this2.config.alertLocalization,{info:e.localizationInfo})),void 0!==e.radioButtonTopics&&(_this2.config.confirmAlertRadioButtonTopics=e.radioButtonTopics),void 0!==e.requireTopics&&(_this2.config.confirmAlertRequireChannelTopics=e.requireTopics),void 0!==e.nativeTheme&&(_this2.config.confirmAlertNativeTheme=e.nativeTheme),void 0!==e.customCss&&(_this2.config.customCss||(_this2.config.customCss=""),_this2.config.customCss+=e.customCss)};_this2.config.confirmAlertFilters.forEach((function(filter){if("device"===filter.type&&("desktop"===filter.value&&"mobile"!==_utils_env__WEBPACK_IMPORTED_MODULE_16__.d.type||"mobile"===filter.value&&"mobile"===_utils_env__WEBPACK_IMPORTED_MODULE_16__.d.type||"bot"===filter.value&&/bot|google|baidu|bing|msn|duckduckbot|teoma|slurp|yandex/i.test(navigator.userAgent))&&applyFilter(filter),"referrer"===filter.type&&(_this2.referrer&&new RegExp(filter.value).test(_this2.referrer)||document.referrer&&new RegExp(filter.value).test(document.referrer))&&applyFilter(filter),"path"===filter.type&&location.pathname&&new RegExp(filter.value).test(location.pathname)&&applyFilter(filter),"function"===filter.type&&filter.value)try{var matches=!!eval(filter.value);matches&&applyFilter(filter)}catch(e){_utils_debug__WEBPACK_IMPORTED_MODULE_11__.b.trace(e)}"userAgent"===filter.type&&navigator.userAgent&&new RegExp(filter.value).test(navigator.userAgent)&&applyFilter(filter),"host"===filter.type&&location.hostname&&new RegExp(filter.value).test(location.hostname)&&applyFilter(filter),"utmSource"===filter.type&&window.location.search&&window.location.search.indexOf("utm_source="+filter.value)>-1&&applyFilter(filter),"utmMedium"===filter.type&&window.location.search&&window.location.search.indexOf("utm_medium="+filter.value)>-1&&applyFilter(filter),"utmCampaign"===filter.type&&window.location.search&&window.location.search.indexOf("utm_campaign="+filter.value)>-1&&applyFilter(filter)}))}if(_this2.config.customCss){var node=document.createElement("style");node.innerHTML=_this2.config.customCss,document.body.appendChild(node)}var optInTriggered=!1,optIn=function(){if(!optInTriggered){optInTriggered=!0;var e=function(){_this2.subscriptionManager.storageManager.getVisits()>=_this2.config.alertMinimumVisits&&setTimeout((function(){_this2.config.preventDuplicateOptIns&&_this2.config.androidPackageName&&"getInstalledRelatedApps"in navigator?navigator.getInstalledRelatedApps().then((function(e){var t=!1;e&&e.forEach((function(e){e.id===_this2.config.androidPackageName&&(t=!0)})),t||(sessionStorage.setItem("cleverpush-alert-shown","true"),_this2.triggerOptIn())})):(sessionStorage.setItem("cleverpush-alert-shown","true"),_this2.triggerOptIn())}),_this2.config.alertTimeout)};_this2.config.alertOncePerSession?"true"!==sessionStorage.getItem("cleverpush-alert-shown")&&e():e()}};if(_this2.config.autoRegister)if("PREVIEW"===_this2.config.env)_this2.triggerOptIn();else{if(!isNaN(_this2.config.alertScrollPercentage)&&_this2.config.alertScrollPercentage>0){var scrollListener,checkScroll=function(){Object(_utils_env__WEBPACK_IMPORTED_MODULE_16__.f)()>=_this2.config.alertScrollPercentage&&(window.removeEventListener("scroll",scrollListener),optIn())};scrollListener=window.addEventListener("scroll",checkScroll),checkScroll()}else optIn();_this2.subscriptionManager.storageManager.incrementVisits()}if(_this2.config.showConfirmAlert&&_this2.config.disableConfirmAlertSearchTraffic&&_this2.referrer&&/google|bing|yahoo|baidu|duckduckgo|wolframalpha/.test(_this2.referrer)&&(_this2.config.showConfirmAlert=!1),_this2.on(_const_event__WEBPACK_IMPORTED_MODULE_17__.a.PERMISSION_RE_GRANTED,(function(){_this2.config.autoRegister&&optIn()})),_this2.initialized=!0,_this2.initCalled=!1,callback(!1,!0),Object(_utils_env__WEBPACK_IMPORTED_MODULE_16__.i)()&&"undefined"!=typeof URLSearchParams&&location.search&&location.search.length){var _params=new URLSearchParams(location.search.slice(1));"true"===_params.get("cleverPushBypassInactiveFollowUps")&&(_this2.config.bypassInactiveFollowUps=!0);var importedSubscriptionId=_params.get("cleverPushOnesignalSubscriptionId")||_params.get("cleverPushAccengageSubscriptionId")||_params.get("cleverPushImportedSubscriptionId")||localStorage.getItem("cleverpush-onesignal-subscription-id")||localStorage.getItem("cleverpush-imported-subscription-id");if("true"===_params.get("cleverPushDebugRedirect")){var subdomain=_this2.config.subdomain||_this2.config.channelSubdomain;if(subdomain){var status={worker:null,workerScope:null,notification:(window.Notification||{}).permission,localStorage:{"cleverpush-subscription-id":localStorage.getItem("cleverpush-subscription-id"),"cleverpush-subscription-id-old":localStorage.getItem("cleverpush-subscription-id-old"),"cleverpush-subscription-status":localStorage.getItem("cleverpush-subscription-status"),"cleverpush-last-sync":localStorage.getItem("cleverpush-last-sync"),"cleverpush-last-worker-update":localStorage.getItem("cleverpush-last-worker-update"),"cleverpush-last-worker-version":localStorage.getItem("cleverpush-last-worker-version"),"cleverpush-visits":localStorage.getItem("cleverpush-visits"),"cleverpush-close-time":localStorage.getItem("cleverpush-close-time"),"cleverpush-deny-time":localStorage.getItem("cleverpush-deny-time"),"cleverpush-topics":localStorage.getItem("cleverpush-topics"),"cleverpush-tags":localStorage.getItem("cleverpush-tags")}},redirect=function(){location.href="https://".concat(subdomain,".").concat(_this2.config.cleverpushDomain||"cleverpush.com","/debug?status=").concat(encodeURIComponent(JSON.stringify(status)))};_this2.subscriptionManager.getActiveWorkerRegistration().then((function(e){e&&(status.workerScope=e.scope,e.active&&(status.worker=e.active.scriptURL,status.workerState=e.active.state),e.waiting&&(status.workerWaiting=e.waiting.scriptURL),e.waiting&&(status.workerInstalling=e.installing.scriptURL)),redirect()})).catch(redirect)}}else if("true"===_params.get("cleverPushUnsubscribe")){var _subdomain=_this2.config.subdomain||_this2.config.channelSubdomain;_subdomain&&_this2.subscriptionManager.getSubscriptionId().then((function(e){_this2.unsubscribe((function(){location.href="https://".concat(_subdomain,".").concat(_this2.config.cleverpushDomain||"cleverpush.com","/unsubscribe?subscriptionId=").concat(e)}))}))}else if("true"===_params.get("cleverPushTestSubscription"))_this2.api.testSubscription=!0,_this2.subscriptionManager.sync().then((function(){alert("Dieses CleverPush Abonnement wurde erfolgreich als Test-Abonnement markiert.")}));else if(_params.get("cleverPushWebBannerId")){var banner=(_this2.config.webBanners||[]).find((function(e){return e._id===_params.get("cleverPushWebBannerId")}));if(banner){var webBanner=new _webBanner__WEBPACK_IMPORTED_MODULE_30__.a(banner,_this2.config,_this2.subscriptionManager,_this2.api);webBanner.show()}else _utils_debug__WEBPACK_IMPORTED_MODULE_11__.b.warn("cleverPushWebBannerId parameter given but banner with that ID could not be found")}else _params.get("cleverPushNotificationId")?(sessionStorage.setItem("cleverpush-notification-id",_params.get("cleverPushNotificationId")),_this2.subscriptionManager.setClickedNotification(_params.get("cleverPushNotificationId"))):importedSubscriptionId?(localStorage.setItem("cleverpush-imported-subscription-id",importedSubscriptionId),_this2.waitForSubscription().then((function(e){e&&e!==importedSubscriptionId&&(_this2.api.unsubscribe(importedSubscriptionId),localStorage.removeItem("cleverpush-imported-subscription-id"),localStorage.removeItem("cleverpush-onesignal-subscription-id"))}))):"true"===_params.get("cleverPushOptIn")?_this2.triggerOptIn():"true"===_params.get("cleverPushShowBell")&&(_this2.config.hideNotificationBellSubscribed=!1,_this2.config.hideNotificationBellMobile=!1,_this2.config.showNotificationBell=!0);_params.get("cleverPushReferralSubscriptionId")&&!sessionStorage.getItem("cleverpush-referral-subscription-id")&&sessionStorage.setItem("cleverpush-referral-subscription-id",_params.get("cleverPushReferralSubscriptionId"));var clickedFollowUpCampaignId=_params.get("cleverPushFollowUpCampaignId")||sessionStorage.getItem("cleverPushFollowUpCampaignId");clickedFollowUpCampaignId&&(sessionStorage.setItem("cleverPushFollowUpCampaignId",clickedFollowUpCampaignId),_this2.config.clickedFollowUpCampaignId=clickedFollowUpCampaignId)}else sessionStorage.getItem("cleverPushFollowUpCampaignId")&&(_this2.config.clickedFollowUpCampaignId=sessionStorage.getItem("cleverPushFollowUpCampaignId"));_this2.initFollowUpCampaigns()}))};_this2.config.initSdkBeforeOnLoad,Object(_utils_dom__WEBPACK_IMPORTED_MODULE_12__.c)().then(initSdk).catch((function(e){callback(e)}))}})).catch((function(e){_this2.initPageBanners(),_this2.initWebBanners();for(var t=document.querySelectorAll(".cleverpush-hide-unsupported"),i=0;i<t.length;i+=1){t[i].style.display="none"}e.warn=!0,callback(e)}))}else callback(new _error_CleverPushError__WEBPACK_IMPORTED_MODULE_31__.a("`channelId` or `channelName` not found in config.","invalid-config"))})).catch((function(e){callback(e)}))}else if(Object(_utils_env__WEBPACK_IMPORTED_MODULE_16__.j)()||Object(_utils_env__WEBPACK_IMPORTED_MODULE_16__.k)()){if(this.config=configParam,"undefined"!=typeof URLSearchParams&&location.search&&location.search.length){var params=new URLSearchParams(location.search.slice(1));params.get("confirmAlertTestId")&&(this.config.confirmAlertTestId=params.get("confirmAlertTestId"),this.api.setConfirmAlertTestId(this.config.confirmAlertTestId))}initSubscriptionManager(),_utils_debug__WEBPACK_IMPORTED_MODULE_11__.b.debug("Init done"),this.initialized=!0,this.initCalled=!1,callback(!1,!0)}}else callback(new _error_CleverPushError__WEBPACK_IMPORTED_MODULE_31__.a("Required attribute `channelId` in `config` not given.","invalid-config"))}},{key:"initHttpIframe",value:function(e){Object(_utils_debug__WEBPACK_IMPORTED_MODULE_11__.c)("initHttpIframe",e),this.init(e)}},{key:"initWidget",value:function(e){Object(_utils_debug__WEBPACK_IMPORTED_MODULE_11__.c)("initWidget",e),this.init(Object.assign({},e,{env:"WIDGET"}))}},{key:"initHttpPopup",value:function(e){Object(_utils_debug__WEBPACK_IMPORTED_MODULE_11__.c)("initHttpPopup",e),this.init(e,(function(e){if(e){_utils_debug__WEBPACK_IMPORTED_MODULE_11__.b.error(e);var t=document.findElementById("status");t?t.innerText=e.message||e.reason||e:window.opener?window.close():history.back()}else window.onbeforeunload=function(){return Object(_utils_translate__WEBPACK_IMPORTED_MODULE_24__.a)("windowclose.confirm")}}))}},{key:"initContentButtons",value:function(){var e=this;Object(_utils_debug__WEBPACK_IMPORTED_MODULE_11__.c)("initContentButtons"),this.contentButtons=this.contentButtons||[];for(var t=document.querySelectorAll(".cleverpush-content-button"),i=function(i){var n=t[i],o=new _contentButton__WEBPACK_IMPORTED_MODULE_25__.a(i,n,e.config,e.subscriptionManager,e.api);e.on(_const_event__WEBPACK_IMPORTED_MODULE_17__.a.SUBSCRIBED,(function(){o.show(!0)})),e.on(_const_event__WEBPACK_IMPORTED_MODULE_17__.a.TOPICS_SET,(function(){o.show(!0)})),e.on(_const_event__WEBPACK_IMPORTED_MODULE_17__.a.UNSUBSCRIBED,(function(){o.show(!1)})),e.contentButtons.push(o)},n=0;n<t.length;n+=1)i(n)}},{key:"initMultiPlatformWidgets",value:function(){var e=this;Object(_utils_debug__WEBPACK_IMPORTED_MODULE_11__.c)("initMultiPlatformWidgets"),this.multiPlatformWidgets=this.multiPlatformWidgets||[];for(var t=document.querySelectorAll(".cleverpush-multi-platform-widget"),i=function(i){var n=t[i],o=new _multiPlatformWidget__WEBPACK_IMPORTED_MODULE_26__.a(i,n,e.config,e.subscriptionManager,e.api);e.on(_const_event__WEBPACK_IMPORTED_MODULE_17__.a.SUBSCRIBED,(function(){o.reset("facebook"!==e.browserType,!0)})),e.on(_const_event__WEBPACK_IMPORTED_MODULE_17__.a.UNSUBSCRIBED,(function(){o.reset("facebook"!==e.browserType,!1)})),e.waitForInit().then((function(){o.subscriptionManager=e.subscriptionManager,e.subscriptionManager.isSubscribed().then((function(t){o.show("facebook"!==e.browserType,t)})).catch((function(){o.show("facebook"!==e.browserType,!1)}))})).catch((function(){o.show(!1,!1)})),e.multiPlatformWidgets.push(o)},n=0;n<t.length;n+=1)i(n)}},{key:"initTagButtons",value:function(){var e=this;Object(_utils_debug__WEBPACK_IMPORTED_MODULE_11__.c)("initTagButtons"),this.tagButtons=this.tagButtons||[];for(var t=document.querySelectorAll(".cleverpush-tag-buttons"),i=function(i){var n=t[i],o=new _tagButton__WEBPACK_IMPORTED_MODULE_27__.a(i,n,e.config,e.subscriptionManager,e.api);e.on(_const_event__WEBPACK_IMPORTED_MODULE_17__.a.SUBSCRIBED,(function(){o.reset(!0)})),e.on(_const_event__WEBPACK_IMPORTED_MODULE_17__.a.UNSUBSCRIBED,(function(){o.reset(!1)})),e.tagButtons.push(o)},n=0;n<t.length;n+=1)i(n)}},{key:"initTopicButtons",value:function(){var e=this;Object(_utils_debug__WEBPACK_IMPORTED_MODULE_11__.c)("initTopicButtons"),this.topicButtons=this.topicButtons||[];for(var t=document.querySelectorAll(".cleverpush-topic-button"),i=function(i){var n=t[i],o=new _topicButton__WEBPACK_IMPORTED_MODULE_28__.a(i,n,e.config,e.subscriptionManager,e.api);e.on(_const_event__WEBPACK_IMPORTED_MODULE_17__.a.SUBSCRIBED,(function(){o.reset(!0)})),e.on(_const_event__WEBPACK_IMPORTED_MODULE_17__.a.UNSUBSCRIBED,(function(){o.reset(!1)})),e.topicButtons.push(o)},n=0;n<t.length;n+=1)i(n)}},{key:"initPageBanners",value:function(){var e,t=this;Object(_utils_debug__WEBPACK_IMPORTED_MODULE_11__.c)("initPageBanners"),this.pageBanners=this.pageBanners||[],this.subscriptionManager&&this.subscriptionManager.storageManager&&(e=this.subscriptionManager.storageManager),(this.config.pageBannerNotifications||[]).reduce((function(t,i){return t.then((function(t){return new Promise((function(n){e?e.getNotification(i._id).then((function(e){n(e?t:t.concat(i))})).catch((function(){n(t.concat(i))})):n(t.concat(i))}))}))}),Promise.resolve([])).then((function(i){i.forEach((function(i){var n=new _pageBanner__WEBPACK_IMPORTED_MODULE_29__.a(i,t.config,t.subscriptionManager,t.api);if((!i.scheduledAt||i.scheduledAt&&i.scheduledAt<new Date)&&(!i.expiresAt||i.expiresAt>new Date)){var o=!0;o&&i.pageBannerMatchPath&&(o=new RegExp(i.pageBannerMatchPath).test(window.location.pathname)),o&&i.pageBannerNotMatchPath&&(o=!new RegExp(i.pageBannerNotMatchPath).test(window.location.pathname)),o&&(!0,n.show(),e&&(n.onClickCallback=function(){return e.addNotification({id:i._id,url:i.url,title:i.title,text:i.text,icon:i.iconUrl,media:i.mediaUrl,autoHide:i.autoHide,subscriptionId:"",channelId:t.config.channelId,scheduledAt:i.scheduledAt,createdAt:i.createdAt,expiresAt:i.expiresAt,clicked:0,markedAsDelivered:1})}))}t.pageBanners.push(n)}))})),this.config.pageBannerAdblockEnabled&&Object(_utils_adblock__WEBPACK_IMPORTED_MODULE_32__.a)((function(e){e&&(_utils_debug__WEBPACK_IMPORTED_MODULE_11__.b.debug("AdBlock detected"),new _pageBanner__WEBPACK_IMPORTED_MODULE_29__.a({id:"adblockNotification",title:t.config.pageBannerAdblockTitle||"",text:t.config.pageBannerAdblockText||"",url:t.config.pageBannerAdblockUrl},t.config,t.subscriptionManager,t.api).show())}))}},{key:"initWebBanners",value:function(){var e=this;Object(_utils_debug__WEBPACK_IMPORTED_MODULE_11__.c)("initWebBanners");var t,i="cleverpush-webbanners-shown",n=localStorage.getItem(i);if(n)try{t=JSON.parse(n)}catch(e){}t||(t=[]);var o=sessionStorage.getItem(i);if(o)try{t=t.concat(JSON.parse(o))}catch(e){}this.webBanners=this.webBanners||[],this.subscriptionManager&&this.subscriptionManager.storageManager&&this.subscriptionManager.storageManager;var r=!1;(this.config.webBanners||[]).filter((function(e){return!t.includes(e._id)&&"draft"!==e.status})).forEach((function(n){var o=new _webBanner__WEBPACK_IMPORTED_MODULE_30__.a(n,e.config,e.subscriptionManager,e.api);if((!n.startsAt||new Date(n.startsAt)<new Date)&&(!n.endsAt||new Date(n.endsAt)>new Date))if(n.exitIntent){if(r)return;r=!0,ouibounce__WEBPACK_IMPORTED_MODULE_8___default()(null,{aggressive:!0,callback:function(){o.show(),t.push(n._id),"once"===n.frequency?localStorage.setItem(i,JSON.stringify(t)):"oncePerSession"===n.frequency&&sessionStorage.setItem(i,JSON.stringify(t))}})}else{(function(){var t=!0;if(t&&n.matchPath&&(t=new RegExp(n.matchPath).test(window.location.pathname)),t&&n.notMatchPath&&(t=!new RegExp(n.notMatchPath).test(window.location.pathname)),t&&n.matchDomain&&(t=!new RegExp(n.matchDomain).test(window.location.hostname||window.location.host)),t&&n.matchQuery&&Object.keys(n.matchQuery||{}).forEach((function(e){n.matchQuery[e]&&(t=t&&window.location.search&&window.location.search.indexOf(e+"="+n.matchQuery[e])>-1)})),t&&n.minimumVisits){var i=localStorage.getItem("cleverpush-banner-"+n._id+"-visits"),o=0;if(i)try{var r=parseInt(i,10);isNaN(r)||(o=parseInt(r,10))}catch(e){}o+=1,localStorage.setItem("cleverpush-banner-"+n._id+"-visits",o+""),t=t&&o>=n.minimumVisits}var s=function(){return t&&n.showOnlySubscribers?new Promise((function(t){e.isSubscribed((function(e){t(e)}))})):Promise.resolve(t)};return new Promise((function(e){if(t&&!isNaN(n.scrollPercentage)&&n.scrollPercentage>0){var i,o=function(){Object(_utils_env__WEBPACK_IMPORTED_MODULE_16__.f)()>=n.scrollPercentage&&(window.removeEventListener("scroll",i),s().then(e))};i=window.addEventListener("scroll",o),o()}else s().then(e)}))})().then((function(e){e&&setTimeout((function(){o.show(),t.push(n._id),"once"===n.frequency?localStorage.setItem(i,JSON.stringify(t)):"oncePerSession"===n.frequency&&sessionStorage.setItem(i,JSON.stringify(t))}),1e3*(n.timeout||0))}))}e.webBanners.push(o)}))}},{key:"autoAssignTagMatches",value:function autoAssignTagMatches(storedTags,tag,callback){if(tag.autoAssignPath){if(!new RegExp(tag.autoAssignPath).test(location.pathname))return;if(!tag.autoAssignFunction&&!tag.autoAssignSelector)return callback(!0)}if(tag.autoAssignFunction)try{if(tag.autoAssignCheckInterval&&!isNaN(tag.autoAssignCheckInterval)){var interval=setInterval((function(){try{var matches=!!eval(tag.autoAssignFunction);matches&&(clearInterval(interval),callback(!0))}catch(e){_utils_debug__WEBPACK_IMPORTED_MODULE_11__.b.trace(e)}}),tag.autoAssignCheckInterval);return null}return callback(!!eval(tag.autoAssignFunction))}catch(e){_utils_debug__WEBPACK_IMPORTED_MODULE_11__.b.trace(e)}if(tag.autoAssignSelector)try{for(var triggerElems=document.querySelectorAll(tag.autoAssignSelector),triggerElemIndex=0;triggerElemIndex<triggerElems.length;triggerElemIndex+=1){var triggerElem=triggerElems[triggerElemIndex];triggerElem&&triggerElem.addEventListener("click",(function(){callback(!0)}))}return null}catch(e){_utils_debug__WEBPACK_IMPORTED_MODULE_11__.b.trace(e)}return callback(!1)}},{key:"initTags",value:function(){var e=this;this.subscriptionManager.storageManager.getTags().then((function(t){var i=e.config.channelTags;i&&i.length&&"undefined"!=typeof localStorage&&i.forEach((function(i){e.autoAssignTagMatches(t,i,(function(t){if(_utils_debug__WEBPACK_IMPORTED_MODULE_11__.b.debug("autoAssignTagMatches callback"),t){var n,o=isNaN(i.autoAssignVisits)?0:i.autoAssignVisits,r="cleverpush-tag-autoAssignVisits-"+i._id,s=i.autoAssignSessionVisits?sessionStorage:localStorage,a=(new Date).toISOString().substr(0,10);i.autoAssignDays&&(n=new Date).setDate(n.getDate()-i.autoAssignDays);var c=s.getItem(r),l=0,u={};if(i.autoAssignDays)try{u=JSON.parse(c)||{},"object"!==_babel_runtime_helpers_typeof__WEBPACK_IMPORTED_MODULE_1___default()(u)&&(u={}),Object.keys(u||{}).forEach((function(e){new Date(e)>=n?l+=u[e]||0:delete u[e]}))}catch(e){u={}}else"string"!=typeof c||isNaN(c)||(l=parseInt(c,10));var p=isNaN(i.autoAssignSessions)?0:i.autoAssignSessions,h="cleverpush-tag-autoAssignSessions-"+i._id,f="cleverpush-tag-autoAssignSessionsCounted-"+i._id,d=localStorage.getItem(h),b=0,g={};if(i.autoAssignDays)try{g=JSON.parse(d)||{},"object"!==_babel_runtime_helpers_typeof__WEBPACK_IMPORTED_MODULE_1___default()(g)&&(g={}),Object.keys(g||{}).forEach((function(e){new Date(e)>=n?b+=g[e]||0:delete g[e]}))}catch(e){g={}}else"string"!=typeof d||isNaN(d)||(b=parseInt(d,10));b>=p?l>=o?!isNaN(i.autoAssignSeconds)&&i.autoAssignSeconds?setTimeout((function(){e.tagSubscription(i._id)}),1e3*i.autoAssignSeconds):e.tagSubscription(i._id):i.autoAssignDays?(u[a]||(u[a]=0),u[a]+=1,localStorage.setItem(r,JSON.stringify(u))):(l+=1,s.setItem(r,l.toString())):i.autoAssignDays?(u[a]||(u[a]=0),u[a]+=1,localStorage.setItem(r,JSON.stringify(u)),"true"!==sessionStorage.getItem(f)&&(sessionStorage.setItem(f,"true"),g[a]||(g[a]=0),g[a]+=1,localStorage.setItem(h,JSON.stringify(g)))):(l+=1,s.setItem(r,l.toString()),"true"!==sessionStorage.getItem(f)&&(sessionStorage.setItem(f,"true"),b+=1,localStorage.setItem(h,b.toString())))}}))}))}))}},{key:"initTopics",value:function initTopics(){var _this10=this;this.waitForSubscription().then((function(){_this10.subscriptionManager.storageManager.getTopics().then((function(storedTopics){var topics=_this10.config.channelTopics;if(topics&&topics.length&&"undefined"!=typeof localStorage){var topicFound=!1;topics.forEach((function(topic){var topicLayerShownKey="cleverpush-topic-layerShown-"+topic._id,visitsStorageKey="cleverpush-topic-layer-visits-"+topic._id,topicMatches=topic.layerMatchPath&&new RegExp(topic.layerMatchPath).test(location.pathname);if(topic.layerFunction&&topicMatches)try{topicMatches=!!eval(topic.layerFunction)}catch(e){_utils_debug__WEBPACK_IMPORTED_MODULE_11__.b.trace(e)}if(topic.layerEnabled&&"true"!==localStorage.getItem(topicLayerShownKey)&&"true"!==sessionStorage.getItem(topicLayerShownKey)&&storedTopics.indexOf(topic<-1)&&topicMatches){if(topicFound)return;var finalizeShow=function(){var e={title:topic.layerTitle,deny:topic.layerDenyText,allow:topic.layerAllowText,info:" "};Object.keys(e).forEach((function(t){void 0===e[t]&&delete e[t]}));var t=topics.filter((function(e){return e.parentTopic===topic._id})).length>0;_this10.subscriptionManager.confirm.appendConfirmBox(_this10.config.layerTheme||_this10.config.confirmAlertSelectTopicsLaterTheme||"cleverpush-confirm-default",t,{customLocalization:e,parentTopic:topic._id,topicsRadioButtons:topic.childTopicsRadioButtons,topicsRequired:topic.childTopicsRequired},(function(e,t){e&&t?(_this10.setTopics([].concat(_babel_runtime_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_0___default()(storedTopics),_babel_runtime_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_0___default()(t),[topic._id])),localStorage.setItem(topicLayerShownKey,"true")):sessionStorage.setItem(topicLayerShownKey,"true")}))},show=function(){if(topicFound=!0,!isNaN(topic.layerScrollPercentage)&&topic.layerScrollPercentage>0){var e,t=function(){Object(_utils_env__WEBPACK_IMPORTED_MODULE_16__.f)()>=topic.layerScrollPercentage&&(window.removeEventListener("scroll",e),finalizeShow())};e=window.addEventListener("scroll",t),t()}else finalizeShow()},visitsNeeded=isNaN(topic.layerMinimumVisits)?0:topic.layerMinimumVisits,visitsStorage=localStorage,visitsStr=visitsStorage.getItem(visitsStorageKey),visits=0;"string"!=typeof visitsStr||isNaN(visitsStr)||(visits=parseInt(visitsStr,10)),visits>=visitsNeeded?!isNaN(topic.layerTimeout)&&topic.layerTimeout?setTimeout((function(){show()}),1e3*topic.layerTimeout):show():(visits+=1,visitsStorage.setItem(visitsStorageKey,visits.toString()))}}))}}))}))}},{key:"triggerPathAndQuery",value:function(e){var t=e.split("?"),i=new RegExp(t[0]).test(location.pathname);if(i&&t.length>1&&"undefined"!=typeof URLSearchParams&&location.search&&location.search.length){var n=new URLSearchParams(t[1]),o=new URLSearchParams(location.search.slice(1));n.forEach((function(e,t){o.get(t)!==e&&e&&(i=!1)}))}return i}},{key:"initConversions",value:function initConversions(){var _this11=this;(this.config.channelEvents||[]).forEach((function(event){if(event&&event._id)if("path"===event.triggerType&&event.triggerPath&&_this11.triggerPathAndQuery(event.triggerPath))_this11.trackConversion(event._id);else if("function"===event.triggerType&&event.triggerFunction)try{var trigger=!!eval(event.triggerFunction);if(trigger){if(event.amountFunction)try{var amount=eval(event.amountFunction);return void _this11.trackConversion(event._id,amount)}catch(e){_utils_debug__WEBPACK_IMPORTED_MODULE_11__.b.trace(e)}_this11.trackConversion(event._id)}}catch(e){_utils_debug__WEBPACK_IMPORTED_MODULE_11__.b.trace(e)}}))}},{key:"getNotificationPermission",value:function(){var e=this;return this.waitForInit().then((function(){return new Promise((function(t){e.config.ownDomain&&"https:"===location.protocol?"safari"===e.browserType?e.config.safariWebsitePushId?t(window.safari.pushNotification.permission(e.config.safariWebsitePushId).permission):_utils_debug__WEBPACK_IMPORTED_MODULE_11__.b.debug("Safari website push ID is unknown."):"facebook"===e.browserType?t("default"):t(window.Notification.permission):e.iframeMessenger.message(_messenger_command__WEBPACK_IMPORTED_MODULE_14__.a.REMOTE_NOTIFICATION_PERMISSION,null,(function(e){var i=e.data;t(i)}))}))}))}},{key:"push",value:function(e){if("function"==typeof e)e();else if("string"==typeof e)this.push(arguments);else{var t=e.shift();this[t].apply(this,e)}}},{key:"executeFunction",value:function(){var e=[],t=this[(e=arguments&&"object"===_babel_runtime_helpers_typeof__WEBPACK_IMPORTED_MODULE_1___default()(arguments[0])?arguments[0]:arguments)[0]];"function"==typeof t&&t.apply(this,Array.prototype.slice.call(e,1))}},{key:"waitForInit",value:function(){var e=this;return new Promise((function(t,i){e.initFailed?i(e.initError):e.initialized?t():(e.once(_const_event__WEBPACK_IMPORTED_MODULE_17__.a.INITIALIZED,t),e.once(_const_event__WEBPACK_IMPORTED_MODULE_17__.a.INITIALIZATION_FAILED,i))}))}},{key:"waitForSubscription",value:function(){var e=this;return new Promise((function(t,i){e.waitForInit().then((function(){e.subscriptionManager.isSubscribed().then((function(i){i?e.subscriptionManager.getSubscriptionId().then((function(e){t(e)})):e.once(_const_event__WEBPACK_IMPORTED_MODULE_17__.a.SUBSCRIBED,t)}))})).catch(i)}))}},{key:"waitForBell",value:function(){var e=this;return this.waitForInit().then((function(){return new Promise((function(t){e.bell?t():e.once(_const_event__WEBPACK_IMPORTED_MODULE_17__.a.BELL_READY,t)}))}))}},{key:"isSubscribed",value:function(e){var t=this;return this.waitForInit().then((function(){return t.subscriptionManager.isSubscribed().then((function(t){return e(t)}))})).catch((function(){return e(!1)}))}},{key:"subscribe",value:function(e){var t=this;return this.initialized?this.subscriptionManager.subscribe().then((function(){return t.subscriptionManager.getSubscriptionId().then((function(t){return e(!1,t)}))})).catch((function(t){return e(t)})):this.waitForInit().then((function(){return t.subscriptionManager.subscribe().then((function(){return t.subscriptionManager.getSubscriptionId().then((function(t){return e(!1,t)}))}))})).catch((function(t){return e(t)}))}},{key:"triggerOptIn",value:function(e,t){var i=this;Object(_utils_debug__WEBPACK_IMPORTED_MODULE_11__.c)("triggerOptIn");var n="function"==typeof t?t:e,o="boolean"==typeof e&&e,r="function"==typeof n?n:function(e){e&&("unsubscribed"!==e.reason&&"subscribed"!==e.reason||_utils_debug__WEBPACK_IMPORTED_MODULE_11__.b.info(e.message||e),"unsupported-browser"===e.reason||"private-mode"===e.reason||"already-initialized"===e.reason||"init-already-called"===e.reason||"unsubscribed"===e.reason?_utils_debug__WEBPACK_IMPORTED_MODULE_11__.b.warn(e.message||e):_utils_debug__WEBPACK_IMPORTED_MODULE_11__.b.error(e.message||e))};return this.waitForInit().then((function(){var e=function(){i.subscriptionManager.getSubscriptionId().then((function(e){r(!1,e)}))};(o?Promise.resolve(!0):i.subscriptionManager.canSubscribe()).then((function(t){if(!0===t){var n=i.subscriptionManager.getNotificationPermission();if(i.confirm&&(i.config.showConfirmAlert||!i.config.ownDomain||"https:"!==window.parent.location.protocol&&"localhost"!==window.location.hostname))i.confirm.setAutoHideBackdrop("granted"===n||Object(_utils_env__WEBPACK_IMPORTED_MODULE_16__.g)()),i.confirm.show(r);else if(!i.subscriptionManager.isSubscribing){var o="default"===n||"PREVIEW"===i.config.env;_utils_debug__WEBPACK_IMPORTED_MODULE_11__.b.debug("showBackdrop",o);var s=function(){"PREVIEW"!==i.config.env&&i.subscriptionManager.subscribe().then((function(t){i.confirm&&o&&i.confirm.hideBackdrop(t),"denied"===t?(i.confirm&&"safari"!==i.browserType&&i.confirm.showDenyAlert(),r(new _error_CleverPushError__WEBPACK_IMPORTED_MODULE_31__.a("Permission for notifications was denied",t))):e()})).catch((function(e){i.confirm&&o&&i.confirm.hideBackdrop("denied"),r(e)}))};if(i.confirm&&o)if(i.subscriptionManager instanceof _subscription_safariManager__WEBPACK_IMPORTED_MODULE_18__.a){_utils_debug__WEBPACK_IMPORTED_MODULE_11__.b.debug("starting safariBlurChecker"),function e(t){"default"===i.subscriptionManager.getNotificationPermission()&&(document.hasFocus()?t<300?setTimeout((function(){e(t+1)}),100):_utils_debug__WEBPACK_IMPORTED_MODULE_11__.b.debug("safariBlurChecker waited 30 secs without success"):(_utils_debug__WEBPACK_IMPORTED_MODULE_11__.b.debug("safariBlurChecker success"),i.confirm.showBackdrop()))}(0),s()}else"w3c"===i.browserType&&"storage"in navigator&&"estimate"in navigator.storage?navigator.storage.estimate().then((function(e){e.quota<=120*Math.pow(2,20)?(o=!1,_utils_debug__WEBPACK_IMPORTED_MODULE_11__.b.debug("We are *probably* in incognito (used chrome 76 detection method). Will not show backdrop + layer."),Object(_utils_dom__WEBPACK_IMPORTED_MODULE_12__.b)().then((function(){s()}))):Object(_utils_dom__WEBPACK_IMPORTED_MODULE_12__.b)().then((function(){i.confirm.showBackdrop(s)}))})):Object(_utils_dom__WEBPACK_IMPORTED_MODULE_12__.b)().then((function(){i.confirm.showBackdrop(s)}));else s()}i.subscriptionManager.existingPermission="granted"===n,i.api.confirmAlertShown(i.subscriptionManager.existingPermission)}else r(new _error_CleverPushError__WEBPACK_IMPORTED_MODULE_31__.a("Can not subscribe because of an unknown error","cannot-subscribe"))})).catch((function(t){t&&"subscribed"===t.reason?(_utils_debug__WEBPACK_IMPORTED_MODULE_11__.b.debug("running successCallback()"),e()):r(t)}))})).catch((function(e){return r(e)}))}},{key:"unsubscribe",value:function(e,t){var i=this;Object(_utils_debug__WEBPACK_IMPORTED_MODULE_11__.c)("unsubscribe");var n="function"==typeof e?e:function(e){e&&_utils_debug__WEBPACK_IMPORTED_MODULE_11__.b.error(e.stack||e.message||e)},o="boolean"==typeof t&&t;this.waitForInit().then((function(){i.subscriptionManager.unsubscribe(o).then((function(){n(!1,!0)})).catch((function(e){n(e)}))}))}},{key:"tagSubscription",value:function(e){var t=this;Object(_utils_debug__WEBPACK_IMPORTED_MODULE_11__.c)("tagSubscription",e),this.waitForInit().then((function(){t.subscriptionManager&&t.subscriptionManager.initialTags.push(e),t.waitForSubscription().then((function(i){e?t.subscriptionManager.storageManager.getTags().then((function(n){var o=t.subscriptionManager.storageManager.getTagDate(e);n.indexOf(e)<0||!o||o.getTime()<Date.now()-432e5?(t.subscriptionManager.storageManager.setTags([].concat(_babel_runtime_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_0___default()(n),[e])),t.api.tagSubscription(i,e)):_utils_debug__WEBPACK_IMPORTED_MODULE_11__.b.trace("tag is already in stored tags")})):_utils_debug__WEBPACK_IMPORTED_MODULE_11__.b.error("tag id not specified")}))}))}},{key:"untagSubscription",value:function(e){var t=this;Object(_utils_debug__WEBPACK_IMPORTED_MODULE_11__.c)("untagSubscription",e),this.waitForInit().then((function(){t.waitForSubscription().then((function(i){e?(t.subscriptionManager.storageManager.getTags().then((function(i){i.splice(i.indexOf(e),1),t.subscriptionManager.storageManager.setTags(i)})),t.api.untagSubscription(i,e)):_utils_debug__WEBPACK_IMPORTED_MODULE_11__.b.error("tag id not specified")}))}))}},{key:"hasTag",value:function(e,t){var i=this;Object(_utils_debug__WEBPACK_IMPORTED_MODULE_11__.c)("hasTag",e),this.waitForInit().then((function(){e?i.subscriptionManager.storageManager.hasTag(e).then((function(e){"function"==typeof t&&t(e)})):_utils_debug__WEBPACK_IMPORTED_MODULE_11__.b.error("tag id not specified")}))}},{key:"setTopics",value:function(e,t){var i=this;return Object(_utils_debug__WEBPACK_IMPORTED_MODULE_11__.c)("setTopics",e),this.waitForInit().then((function(){if(i.subscriptionManager)return i.subscriptionManager.setTopics(e),i.subscriptionManager.sync().then((function(){"function"==typeof t&&t()}))}))}},{key:"getTopics",value:function(e){var t=this;if(Object(_utils_debug__WEBPACK_IMPORTED_MODULE_11__.c)("getTopics"),"function"==typeof e)return this.waitForInit().then((function(){t.subscriptionManager&&t.subscriptionManager.getTopics().then((function(t){e(null,t)}))}));_utils_debug__WEBPACK_IMPORTED_MODULE_11__.b.error("Please provide a callback function (err, topics) => {} to getTopics")}},{key:"setAttribute",value:function(e,t){var i=this;Object(_utils_debug__WEBPACK_IMPORTED_MODULE_11__.c)("setAttribute",e,t),this.waitForInit().then((function(){i.waitForSubscription().then((function(n){localStorage.getItem("cleverpush-attribute-"+e)!==t&&(localStorage.setItem("cleverpush-attribute-"+e,t),i.api.setSubscriptionAttribute(n,e,t))}))}))}},{key:"getAttribute",value:function(e,t){var i=this;Object(_utils_debug__WEBPACK_IMPORTED_MODULE_11__.c)("getAttribute",e),this.waitForInit().then((function(){i.waitForSubscription().then((function(i){t(localStorage.getItem("cleverpush-attribute-"+e))}))}))}},{key:"hasAttributeValue",value:function(e,t,i){var n=localStorage.getItem("cleverpush-attribute-"+e);if(n)try{var o=JSON.parse(n);if(o&&o.length)return void i(o.indexOf(t)>-1)}catch(e){}i(!1)}},{key:"pushAttributeValue",value:function(e,t,i,n){var o=this;Object(_utils_debug__WEBPACK_IMPORTED_MODULE_11__.c)("pushAttributeValue",e,t);var r=n,s={};"function"==typeof i?r=i:"object"===_babel_runtime_helpers_typeof__WEBPACK_IMPORTED_MODULE_1___default()(i)&&(s=i),this.waitForInit().then((function(){o.waitForSubscription().then((function(i){var n=!1,a=localStorage.getItem("cleverpush-attribute-"+e);if(a)try{var c=JSON.parse(a);c&&c.length?c.indexOf(t)>-1?n=!0:localStorage.setItem("cleverpush-attribute-"+e,JSON.stringify([].concat(_babel_runtime_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_0___default()(c),[t]))):localStorage.setItem("cleverpush-attribute-"+e,JSON.stringify([t]))}catch(i){localStorage.setItem("cleverpush-attribute-"+e,JSON.stringify([t]))}else localStorage.setItem("cleverpush-attribute-"+e,JSON.stringify([t]));n&&!s.force||o.api.pushSubscriptionAttributeValue(i,e,t).then((function(){"function"==typeof r&&r(!1,!0)}))}))}))}},{key:"pullAttributeValue",value:function(e,t,i){var n=this;Object(_utils_debug__WEBPACK_IMPORTED_MODULE_11__.c)("pullAttributeValue",e,t),this.waitForInit().then((function(){n.waitForSubscription().then((function(o){var r=localStorage.getItem("cleverpush-attribute-"+e);if(r)try{var s=JSON.parse(r);s&&s.length&&s.indexOf(t)>-1&&(s.splice(s.indexOf(t),1),localStorage.setItem("cleverpush-attribute-"+e,JSON.stringify(s)))}catch(e){}n.api.pullSubscriptionAttributeValue(o,e,t).then((function(){"function"==typeof i&&i(!1,!0)}))}))}))}},{key:"trigger",value:function(e,t){if(t||!1===t?_utils_debug__WEBPACK_IMPORTED_MODULE_11__.b.debug("%c".concat(e.toUpperCase(),":"),Object(_utils_debug__WEBPACK_IMPORTED_MODULE_11__.a)("event"),t):_utils_debug__WEBPACK_IMPORTED_MODULE_11__.b.debug("%c".concat(e.toUpperCase()),Object(_utils_debug__WEBPACK_IMPORTED_MODULE_11__.a)("event")),Object(_utils_env__WEBPACK_IMPORTED_MODULE_16__.h)()){if(e===_const_event__WEBPACK_IMPORTED_MODULE_17__.a.INITIALIZED){if(this.initialized)return;this.initialized=!0}this.emit(e,t)}}},{key:"triggerBellClick",value:function(){this.bell?this.bell.onClick():this.panel?this.panel.show():(this.panel=new _panel__WEBPACK_IMPORTED_MODULE_33__.a(this.config,this.subscriptionManager,this.trigger.bind(this),this.api),this.panel.show())}},{key:"hidePanel",value:function(){this.panel&&this.panel.hide()}},{key:"translate",value:function(e){return Object(_utils_translate__WEBPACK_IMPORTED_MODULE_24__.a)(e)}},{key:"triggerFollowUpEvent",value:function(e,t,i){var n=this,o="object"===_babel_runtime_helpers_typeof__WEBPACK_IMPORTED_MODULE_1___default()(i)?i:{};Object(_utils_debug__WEBPACK_IMPORTED_MODULE_11__.c)("triggerFollowUpEvent",e,t,o);var r=function(i){if(i){_utils_debug__WEBPACK_IMPORTED_MODULE_11__.b.debug("triggerFollowUpEvent waitForSubscription done",i);var r=n.config.clickedFollowUpCampaignId===e,s="undefined"!=typeof sessionStorage?sessionStorage.getItem("cleverpush-notification-id"):void 0;n.api.triggerFollowUpEvent(i,e,s,t,Object.assign({url:location.href},o),r,n.config.bypassInactiveFollowUps)}};this.waitForInit().then((function(){_utils_debug__WEBPACK_IMPORTED_MODULE_11__.b.debug("triggerFollowUpEvent waitForInit done"),n.config.autoRegister?n.waitForSubscription().then(r):n.subscriptionManager.getSubscriptionId().then(r)}))}},{key:"initBounces",value:function(){var e=this;try{if(Object(_utils_env__WEBPACK_IMPORTED_MODULE_16__.i)()&&"undefined"!=typeof URLSearchParams&&location.search&&location.search.length){var t=new URLSearchParams(location.search.slice(1)),i=t.get("cleverPushBounceUrl");i&&i.length&&this.initBounce(i,t.get("cleverPushNotificationId"))}if(this.config&&this.config.bounceEnabled&&this.config.bounceFilters&&this.config.bounceFilters.length){var n=document.referrer&&(document.referrer.endsWith("cleverpush.com/worker.js")||document.referrer.endsWith(this.config.serviceWorkerFile||document.referrer.endsWith("/cleverpush-worker.js"))),o=document.referrer&&/google|bing|yahoo|baidu|duckduckgo|wolframalpha/.test(document.referrer),r=this.config.bounceFilters.find((function(t){var i=(!t.source||"notification"===t.source)&&n||"seo"===t.source&&o||(!e.referrer||e.referrer===location.href)&&"direct"===t.source;return i&&t.matchQuery&&Object.keys(t.matchQuery||{}).forEach((function(e){t.matchQuery[e]&&(i=i&&window.location.search&&window.location.search.indexOf(e+"="+t.matchQuery[e])>-1)})),i}));r&&r.url&&this.initBounce(r.url,null)}"true"===sessionStorage.getItem("cleverpush-bounced")&&window.performance&&window.performance.navigation.type===window.performance.navigation.TYPE_BACK_FORWARD&&(sessionStorage.removeItem("cleverpush-bounced"),history.back())}catch(e){_utils_debug__WEBPACK_IMPORTED_MODULE_11__.b.error(e)}}},{key:"initBounce",value:function(e,t){var i=this,n=!1;if(window.history&&window.history.pushState){var o=function(){setTimeout((function(){window.addEventListener("popstate",(function(){if("true"!==sessionStorage.getItem("cleverpush-bounced")&&(sessionStorage.setItem("cleverpush-bounced","true"),n)){var o={channelId:i.config.channelId,notificationId:t,subscriptionId:i.subscriptionManager.storageManager.getSubscriptionId()};i.api.trackBounce(o),location.href=e}}),!1)}),250);var o=location.pathname+(location.search||"")+(location.hash||"");setTimeout((function(){history.pushState({cleverpushBounce:!0},document.title,"?_"),setTimeout((function(){history.replaceState(null,document.title,o)}),150)}),150),n=!0};"completed"===document.readyState||"interactive"===document.readyState?o():window.addEventListener("load",o)}}},{key:"initFollowUpCampaigns",value:function initFollowUpCampaigns(){var _this32=this;if(this.config.followUpCampaigns&&this.config.followUpCampaigns.length&&this.config.followUpCampaigns.forEach((function(campaign){var triggered=!1,trigger=function(e){triggered=!0;var t={};campaign.triggerAutoVariables&&campaign.triggerAutoVariables.length&&campaign.triggerAutoVariables.forEach((function(i){var n;i.selector.split(",").forEach((function(t){n||(n=e.querySelector(t.trim()))||(n=document.querySelector(t.trim()))})),n&&("img"===n.tagName.toLowerCase()&&(n.src||n.dataset&&n.dataset.src)?t[i.variable]=n.src||n.dataset&&n.dataset.src:"a"===n.tagName.toLowerCase()&&n.href?t[i.variable]=n.href:"input"!==n.tagName.toLowerCase()&&"textarea"!==n.tagName.toLowerCase()||!n.value?"meta"===n.tagName.toLowerCase()&&n.content?t[i.variable]=n.content:t[i.variable]=n.innerText:t[i.variable]=n.value)})),_this32.triggerFollowUpEvent(campaign._id,"trigger"+(campaign.triggerType[0].substr(0,1).toUpperCase()+campaign.triggerType.substr(1)),t)};if("selector"===campaign.triggerType&&campaign.triggerSelector)for(var triggerElems=document.querySelectorAll(campaign.triggerSelector),_loop5=function(e){var t=triggerElems[e];t&&t.addEventListener("click",(function(){trigger(t.parentNode)}))},triggerElemIndex=0;triggerElemIndex<triggerElems.length;triggerElemIndex+=1)_loop5(triggerElemIndex);if("function"===campaign.triggerType&&campaign.triggerFunction){var success=!1;try{success=!!eval(campaign.triggerFunction)}catch(e){_utils_debug__WEBPACK_IMPORTED_MODULE_11__.b.trace(e)}success&&trigger(document)}if(!triggered&&("selector"===campaign.cancelType||"function"===campaign.cancelType)&&campaign.cancelSelector)for(var _triggerElems=document.querySelectorAll(campaign.cancelSelector),_triggerElemIndex=0;_triggerElemIndex<_triggerElems.length;_triggerElemIndex+=1){var triggerElem=_triggerElems[_triggerElemIndex];triggerElem&&triggerElem.addEventListener("click",(function(){_this32.triggerFollowUpEvent(campaign._id,"function"===campaign.cancelType?"cancelFunction":"cancelSelector")}))}if(!triggered&&"function"===campaign.cancelType&&campaign.cancelFunction){var _success=!1;try{_success=!!eval(campaign.cancelFunction)}catch(e){_utils_debug__WEBPACK_IMPORTED_MODULE_11__.b.trace(e)}_success&&_this32.triggerFollowUpEvent(campaign._id,"cancelFunction")}else!triggered&&"path"===campaign.cancelType&&campaign.cancelPath&&_this32.triggerPathAndQuery(campaign.cancelPath)&&_this32.triggerFollowUpEvent(campaign._id,"cancelPath")})),this.config.shopifyCartAbandonmentFollowUpCampaignId){for(var addToCartButtons=document.querySelectorAll('button[name="add"], button.addtocart, a.add-to-cart'),addToCartButtonIndex=0;addToCartButtonIndex<addToCartButtons.length;addToCartButtonIndex++){var addToCartButton=addToCartButtons[addToCartButtonIndex];addToCartButton&&addToCartButton.addEventListener("click",(function(){_this32.triggerFollowUpEvent(_this32.config.shopifyCartAbandonmentFollowUpCampaignId,"addToCart")}))}(document.documentElement&&document.documentElement.className&&document.documentElement.className.indexOf("page--thank-you")>-1||window.location&&window.location.pathname&&window.location.pathname.indexOf("thank_you")>-1)&&this.triggerFollowUpEvent(this.config.shopifyCartAbandonmentFollowUpCampaignId,"checkout")}if(this.config.epagesCartAbandonmentFollowUpCampaignId){var _addToCartButton=document.querySelector("button.product-add-cart-button");_addToCartButton&&_addToCartButton.addEventListener("click",(function(){_this32.triggerFollowUpEvent(_this32.config.epagesCartAbandonmentFollowUpCampaignId,"addToCart")})),(document.documentElement&&document.documentElement.className&&document.documentElement.className.indexOf("page--thank-you")>-1||window.location&&window.location.pathname&&window.location.pathname.indexOf("thank_you")>-1)&&this.triggerFollowUpEvent(this.config.epagesCartAbandonmentFollowUpCampaignId,"checkout")}}},{key:"trackConversion",value:function(e,t){var i=this,n=void 0!==t?t:void 0;Object(_utils_debug__WEBPACK_IMPORTED_MODULE_11__.c)("trackConversion",e,n),this.waitForInit().then((function(){i.subscriptionManager.getSubscriptionId().then((function(t){if(t){var o=function(){(!sessionStorage.getItem("cleverpush-conversion-"+e+"-tracked")||sessionStorage.getItem("cleverpush-conversion-"+e+"-tracked")&&!isNaN(sessionStorage.getItem("cleverpush-conversion-"+e+"-tracked"))&&parseInt(sessionStorage.getItem("cleverpush-conversion-"+e+"-tracked"),10)+36e5<Date.now())&&(r&&sessionStorage.setItem("cleverpush-notification-id",r),sessionStorage.setItem("cleverpush-conversion-"+e+"-tracked",Date.now()),i.api.trackConversion(t,r,e,n,i.config.clickedFollowUpCampaignId))},r=new URLSearchParams(location.search.slice(1)).get("cleverPushNotificationId")||sessionStorage.getItem("cleverpush-notification-id");r?o():i.subscriptionManager.getClickedNotification().then((function(e){r=e,o()}))}}))}))}},{key:"generateWalletPass",value:function(e,t,i){var n=this;return new Promise((function(o,r){n.api.generateWalletPass(e,t).then((function(e){"function"==typeof i&&i(null,e),o(e)})).catch((function(e){"function"==typeof i&&i(e,null),r(e)}))}))}}]),CleverPush}(wolfy87_eventemitter__WEBPACK_IMPORTED_MODULE_7___default.a)},function(e,t,i){var n;!function(t){"use strict";function o(){}var r=o.prototype,s=t.EventEmitter;function a(e,t){for(var i=e.length;i--;)if(e[i].listener===t)return i;return-1}function c(e){return function(){return this[e].apply(this,arguments)}}r.getListeners=function(e){var t,i,n=this._getEvents();if(e instanceof RegExp)for(i in t={},n)n.hasOwnProperty(i)&&e.test(i)&&(t[i]=n[i]);else t=n[e]||(n[e]=[]);return t},r.flattenListeners=function(e){var t,i=[];for(t=0;t<e.length;t+=1)i.push(e[t].listener);return i},r.getListenersAsObject=function(e){var t,i=this.getListeners(e);return i instanceof Array&&((t={})[e]=i),t||i},r.addListener=function(e,t){if(!function e(t){return"function"==typeof t||t instanceof RegExp||!(!t||"object"!=typeof t)&&e(t.listener)}(t))throw new TypeError("listener must be a function");var i,n=this.getListenersAsObject(e),o="object"==typeof t;for(i in n)n.hasOwnProperty(i)&&-1===a(n[i],t)&&n[i].push(o?t:{listener:t,once:!1});return this},r.on=c("addListener"),r.addOnceListener=function(e,t){return this.addListener(e,{listener:t,once:!0})},r.once=c("addOnceListener"),r.defineEvent=function(e){return this.getListeners(e),this},r.defineEvents=function(e){for(var t=0;t<e.length;t+=1)this.defineEvent(e[t]);return this},r.removeListener=function(e,t){var i,n,o=this.getListenersAsObject(e);for(n in o)o.hasOwnProperty(n)&&-1!==(i=a(o[n],t))&&o[n].splice(i,1);return this},r.off=c("removeListener"),r.addListeners=function(e,t){return this.manipulateListeners(!1,e,t)},r.removeListeners=function(e,t){return this.manipulateListeners(!0,e,t)},r.manipulateListeners=function(e,t,i){var n,o,r=e?this.removeListener:this.addListener,s=e?this.removeListeners:this.addListeners;if("object"!=typeof t||t instanceof RegExp)for(n=i.length;n--;)r.call(this,t,i[n]);else for(n in t)t.hasOwnProperty(n)&&(o=t[n])&&("function"==typeof o?r.call(this,n,o):s.call(this,n,o));return this},r.removeEvent=function(e){var t,i=typeof e,n=this._getEvents();if("string"===i)delete n[e];else if(e instanceof RegExp)for(t in n)n.hasOwnProperty(t)&&e.test(t)&&delete n[t];else delete this._events;return this},r.removeAllListeners=c("removeEvent"),r.emitEvent=function(e,t){var i,n,o,r,s=this.getListenersAsObject(e);for(r in s)if(s.hasOwnProperty(r))for(i=s[r].slice(0),o=0;o<i.length;o++)!0===(n=i[o]).once&&this.removeListener(e,n.listener),n.listener.apply(this,t||[])===this._getOnceReturnValue()&&this.removeListener(e,n.listener);return this},r.trigger=c("emitEvent"),r.emit=function(e){var t=Array.prototype.slice.call(arguments,1);return this.emitEvent(e,t)},r.setOnceReturnValue=function(e){return this._onceReturnValue=e,this},r._getOnceReturnValue=function(){return!this.hasOwnProperty("_onceReturnValue")||this._onceReturnValue},r._getEvents=function(){return this._events||(this._events={})},o.noConflict=function(){return t.EventEmitter=s,o},void 0===(n=function(){return o}.call(t,i,t,e))||(e.exports=n)}(this||{})},function(e,t,i){var n,o;void 0===(o="function"==typeof(n=function(e,t,i){return function(e,t){"use strict";var i=t||{},n=i.aggressive||!1,o=d(i.sensitivity,20),r=d(i.timer,1e3),s=d(i.delay,0),a=i.callback||function(){},c=b(i.cookieExpire)||"",l=i.cookieDomain?";domain="+i.cookieDomain:"",u=i.cookieName?i.cookieName:"viewedOuibounceModal",p=!0===i.sitewide?";path=/":"",h=null,f=document.documentElement;function d(e,t){return void 0===e?t:e}function b(e){var t=24*e*60*60*1e3,i=new Date;return i.setTime(i.getTime()+t),"; expires="+i.toUTCString()}function g(e){e.clientY>o||(h=setTimeout(M,s))}function m(){h&&(clearTimeout(h),h=null)}setTimeout((function(){y()||(f.addEventListener("mouseleave",g),f.addEventListener("mouseenter",m),f.addEventListener("keydown",_))}),r);var v=!1;function _(e){v||e.metaKey&&76===e.keyCode&&(v=!0,h=setTimeout(M,s))}function w(e,t){return function(){for(var e=document.cookie.split("; "),t={},i=e.length-1;i>=0;i--){var n=e[i].split("=");t[n[0]]=n[1]}return t}()[e]===t}function y(){return w(u,"true")&&!n}function M(){y()||(e&&(e.style.display="block"),a(),k())}function k(e){var t=e||{};void 0!==t.cookieExpire&&(c=b(t.cookieExpire)),!0===t.sitewide&&(p=";path=/"),void 0!==t.cookieDomain&&(l=";domain="+t.cookieDomain),void 0!==t.cookieName&&(u=t.cookieName),document.cookie=u+"=true"+c+l+p,f.removeEventListener("mouseleave",g),f.removeEventListener("mouseenter",m),f.removeEventListener("keydown",_)}return{fire:M,disable:k,isDisabled:y}}})?n.call(t,i,t,e):n)||(e.exports=o)},function(e,t,i){"use strict";i.d(t,"a",(function(){return f}));var n=i(8),o=i.n(n),r=i(5),s=i.n(r),a=i(6),c=i.n(a),l=i(14),u=i.n(l),p=i(0),h=i(23),f=function(){function e(t){s()(this,e),this.channelId=t,this.confirmAlertTestId=void 0,this.endpoint="https://api.cleverpush.com",this.regionEnabled=!1}return c()(e,[{key:"setConfirmAlertTestId",value:function(e){this.confirmAlertTestId=e}},{key:"request",value:function(e,t,i){Object(p.c)("request",e,t,i);var n={method:"GET",headers:{Accept:"application/json"}};return e&&(n.method=e),i&&(n.body=JSON.stringify(Object.assign({sdkVersion:"0.4.0"},i)),n.headers["Content-Type"]="application/json"),Object(h.a)(this.endpoint+t,n)}},{key:"getChannelConfig",value:function(e){var t="/channel/".concat(this.channelId,"/config");return void 0!==e&&e&&(t+="?confirmAlertTestsEnabled=true"),this.request("GET",t,null)}},{key:"tagSubscription",value:function(e,t){return this.request("POST","/subscription/tag",{channelId:this.channelId,tagId:t,subscriptionId:e})}},{key:"untagSubscription",value:function(e,t){return this.request("POST","/subscription/untag",{channelId:this.channelId,tagId:t,subscriptionId:e})}},{key:"setSubscriptionAttribute",value:function(e,t,i){return this.request("POST","/subscription/attribute",{channelId:this.channelId,attributeId:t,value:i,subscriptionId:e})}},{key:"pushSubscriptionAttributeValue",value:function(e,t,i){return this.request("POST","/subscription/attribute/push-value",{channelId:this.channelId,attributeId:t,value:i,subscriptionId:e})}},{key:"pullSubscriptionAttributeValue",value:function(e,t,i){return this.request("POST","/subscription/attribute/pull-value",{channelId:this.channelId,attributeId:t,value:i,subscriptionId:e})}},{key:"triggerFollowUpEvent",value:function(e,t,i,n,o,r,s){return this.request("POST","/subscription/event",{channelId:this.channelId,subscriptionId:e,campaignId:t,notificationId:i,name:n,parameters:o,fromNotification:r,bypassInactive:s})}},{key:"trackConversion",value:function(e,t,i,n,o){return this.request("POST","/subscription/conversion",{channelId:this.channelId,subscriptionId:e,notificationId:t,eventId:i,amount:n,followUpCampaignId:o})}},{key:"trackPanelNotificationClicked",value:function(e){return this.request("POST","/channel/"+this.channelId+"/panel/clicked",{channelId:this.channelId,notificationId:e})}},{key:"trackBounce",value:function(e){var t=Object.assign({channelId:this.channelId},e||{}),i=new u.a(navigator.userAgent),n=i.getBrowser(),o=i.getOS();if(t.platformName=o.name||void 0,t.browserType=n.name||void 0,"function"==typeof navigator.sendBeacon){var r=new Blob([JSON.stringify(t)],{type:"application/x-www-form-urlencoded"});return navigator.sendBeacon(this.endpoint+"/notification/bounced",r)}return this.request("POST","/notification/bounced",t)}},{key:"getSyncParameters",value:function(e){Object(p.c)("getSyncParameters");var t=new u.a(navigator.userAgent),i=t.getBrowser(),n=t.getOS(),o={channelId:this.channelId,browserType:i.name||void 0,browserVersion:i.version||void 0,platformName:n.name||void 0,platformVersion:n.version||void 0},r=location.pathname;r&&(o.pathname=r);try{if("undefined"!=typeof sessionStorage){var s=sessionStorage.getItem("cleverpush-referrer")||document.referrer.split("?")[0];s&&(o.referrer=s);var a=sessionStorage.getItem("cleverpush-referral-subscription-id");a&&(o.referralSubscriptionId=a)}}catch(e){}if("undefined"!=typeof localStorage){var c=localStorage.getItem("cleverpush-visits")||0;isNaN(c)||(o.visits=c+"")}var l=(navigator.language||navigator.userLanguage||"").substr(0,2);return l&&(o.language=l),this.confirmAlertTestId&&(o.confirmAlertTestId=this.confirmAlertTestId),this.testSubscription&&(o.testSubscription=this.testSubscription),void 0!==e&&e?o:new Promise((function(e){Object(h.a)("https://geoip-api.cleverpush.com/",{mode:"cors",timeout:3e3}).then((function(t){e(Object.assign(o,t))})).catch((function(t){p.b.error(t),e(o)}))}))}},{key:"syncSubscription",value:function(e,t,i,n){var r=this;if(Object(p.c)("syncSubscription",e,t),!e)return Promise.reject();var s="object"===o()(n)?n:{};return this.getSyncParameters().then((function(n){s=Object.assign(s,n);var a=parseInt(s.browserVersion.split(".")[0],10);if(r.regionEnabled||delete s.region,"object"===o()(t)&&t&&!isNaN(t.length)){var c=0;try{var l=localStorage.getItem("cleverpush-topics-version");l&&!isNaN(l)&&(c=parseInt(l,10))}catch(e){}c+=1,s.topics=t,s.topicsVersion=c}if("object"===o()(i)&&i&&i.length&&(s.tags=i),s.existingPermission&&delete s.confirmAlertTestId,e.facebookUserRef&&(s.facebookUserRef=e.facebookUserRef,"undefined"!=typeof self&&self.CleverPush&&self.CleverPush.config&&self.CleverPush.config.multiChannels&&self.CleverPush.config.multiChannels.facebookChannel._id!==s.channelId&&(s.channelId=self.CleverPush.config.multiChannels.facebookChannel._id)),"Safari"===s.browserType&&"object"===o()(e)&&e.deviceToken)s.apnsToken=e.deviceToken;else if("string"==typeof e)s.subscriptionId=e;else if("Chrome"===s.browserType&&a>=42&&a<50)s.endpoint=e.endpoint;else if(s.endpoint=e.endpoint,void 0!==e.getKey){var u=e.getKey?e.getKey("p256dh"):null,p=null;("Firefox"!==s.browserType||"Firefox"===s.browserType&&a>=46)&&(p=e.getKey?e.getKey("auth"):null),u&&(s.publicKey=btoa(String.fromCharCode.apply(null,new Uint8Array(u)))),p&&(s.authSecret=btoa(String.fromCharCode.apply(null,new Uint8Array(p))))}return new Promise((function(e,t){return r.request("POST","/subscription/sync/".concat(r.channelId),s).then((function(i){i&&i.id?e(i):i&&i.error?t(i.error):t()})).catch((function(e){e.reason?t(e.reason):e.status?t(e.status):t(e)}))}))}))}},{key:"unsubscribe",value:function(e){var t=this;return new Promise((function(i){t.request("POST","/subscription/unsubscribe",{subscriptionId:e,channelId:t.channelId}).then(i).catch(i)}))}},{key:"startSession",value:function(e,t){var i=this;return new Promise((function(n){i.request("POST","/subscription/session/start",Object.assign({},{subscriptionId:e,channelId:i.channelId},t||{})).then(n).catch(n)}))}},{key:"endSession",value:function(e,t){var i=new Blob([JSON.stringify(Object.assign({subscriptionId:e,channelId:this.channelId},t))],{type:"application/x-www-form-urlencoded"});return navigator.sendBeacon(this.endpoint+"/subscription/session/end",i)}},{key:"confirmAlertShown",value:function(e){var t=!0,i=sessionStorage.getItem("cleverpush-confirm-alert-reported");if(i){var n=parseInt(i,10);isNaN(n)||(t=n+72e5<Date.now())}if(t){sessionStorage.setItem("cleverpush-confirm-alert-reported",Date.now());var o={channelId:this.channelId,confirmAlertTestId:this.confirmAlertTestId},r=new u.a(navigator.userAgent),s=r.getBrowser(),a=r.getOS();if(o.platformName=a.name||void 0,o.browserType=s.name||void 0,void 0!==e&&e&&(o.existingPermission=!0,delete o.confirmAlertTestId),"undefined"!=typeof window&&window.CleverPush&&window.CleverPush.config.trackOptInPathnames){var c=location.pathname;c&&(o.pathname=c)}if("undefined"!=typeof window&&window.CleverPush&&window.CleverPush.config.trackOptInReferrers)try{if("undefined"!=typeof sessionStorage){var l=sessionStorage.getItem("cleverpush-referrer")||document.referrer.split("?")[0];l&&(o.referrer=l)}}catch(e){}return this.request("POST","/channel/confirm-alert",o)}return Promise.resolve()}},{key:"confirmAlertDenied",value:function(){var e={channelId:this.channelId,confirmAlertTestId:this.confirmAlertTestId};return e.existingPermission&&delete e.confirmAlertTestId,this.request("POST","/channel/blocked-optin-request",e)}},{key:"generateWalletPass",value:function(e,t){var i=this;return new Promise((function(n,o){i.request("POST","/channel/"+i.channelId+"/wallet-pass/"+e+"/subscribe",Object.assign({},{walletPassId:e},t)).then(n).catch(o)}))}}]),e}()},function(e,t,i){"use strict";i.d(t,"a",(function(){return M}));var n=i(5),o=i.n(n),r=i(6),s=i.n(r),a=i(12),c=i.n(a),l=i(9),u=i.n(l),p=i(13),h=i.n(p),f=i(14),d=i.n(f),b=i(17),g=i(3),m=i(0),v=i(1),_=i(15),w=i(4),y=i(11),M=function(e){function t(e,i,n){var r;o()(this,t),(r=c()(this,u()(t).call(this,e,i,n))).config=e,r.isSubscribing=!1,r.popupMessenger=null;var s=localStorage.getItem("cleverpush-topics");if(s)try{r.topics=JSON.parse(s)}catch(e){}return Object(y.b)().then((function(){r.subscribe().then((function(e){m.b.debug(e);var t=document.getElementById("loading");t&&(t.style.display="none");var i=document.getElementById("status");i&&(i.style.display="none");var n=document.getElementById("success");n&&(n.style.display="block"),setTimeout((function(){window.onbeforeunload=null,window.opener?window.close():history.back()}),1e3)})).catch((function(e){m.b.error(e);var t=document.getElementById("loading");t&&(t.style.display="none");var i=document.getElementById("status");if(i&&(i.style.display="block",i.innerHTML="<h2>".concat(e?e.message||e.reason||e:"Unbekannter Fehler ist aufgetreten.","</h2>")),"denied"===e.reason||"default"===e.reason){window.onbeforeunload=null;var n=document.querySelector(".subscribe-helper-text");n&&(n.style.marginTop=0);var o=document.getElementById("unblock-tutorial");if(o){var r=new d.a,s=r.getBrowser().name,a=r.getOS().name;if(s=s.toLowerCase().replace(/\s/g,"").replace("chromium","chrome"),a=a.toLowerCase().replace(/\s/g,"").replace("macos","mac"),!("chrome"!==s&&"firefox"!==s&&"safari"!==s||"android"!==a&&"windows"!==a&&"mac"!==a)){var c=document.createElement("img");c.src="https://static.cleverpush.com/app/images/unblock-tutorial/".concat(s,"-").concat(a,".gif"),c.style.display="initial",o.appendChild(c),o.style.display="initial"}}}}))})),r}return h()(t,e),s()(t,[{key:"subscribeForce",value:function(){return this.subscribe()}},{key:"subscribe",value:function(){var e=this;return new Promise((function(t,i){var n=e.config.alertLocalization||{},o=(navigator.language||navigator.userLanguage||"").substr(0,2);e.config.alertLocalizationTranslations&&o&&e.config.alertLocalizationTranslations[o]&&(n=Object.assign({},n,e.config.alertLocalizationTranslations[o]));var r={popupInfo:n.popupInfo||Object(v.a)("popup.info").formatCleverPush("<strong>".concat(Object(v.a)("confirm.allowBrowser")||Object(v.a)("confirm.allow"),"</strong>")),popupText:n.popupText||Object(v.a)("popup.text").formatCleverPush("<strong>".concat(e.config.channelName,"</strong>"))};if(e.isSubscribing)i(new _.a("A subscription process is already in progress."));else{e.isSubscribing=!0;var s=function(){e.registerWorker().then((function(t){return t.pushManager.subscribe(e.getPushManagerSubscribeOptions())})).then((function(i){e.sync(i).then((function(){e.isSubscribing=!1,e.triggerEvent(g.a.SUBSCRIBED,e.storageManager.getSubscriptionId()),t("granted")}))})).catch((function(t){m.b.error(t),e.isSubscribing=!1,i(t)}))};if("default"===Notification.permission){var a=document.getElementById("status");a&&(a.style.display="block",a.innerHTML="<h2>".concat(r.popupInfo,"</h2><p>").concat(r.popupText,"</p>")),Notification.requestPermission((function(t){"granted"===t?s():(e.isSubscribing=!1,i(new w.a(r.popupInfo,t))),e.confirm&&e.confirm.hideBackdrop(),m.b.debug("HTTP Permission Request Result:",t)}))}else"denied"===Notification.permission?(e.isSubscribing=!1,i(new w.a(r.popupInfo,"denied"))):(m.b.debug("PermissionAlreadyGranted"),s())}}))}}]),t}(b.a)},function(e,t,i){"use strict";i.d(t,"a",(function(){return x}));var n=i(5),o=i.n(n),r=i(6),s=i.n(r),a=i(12),c=i.n(a),l=i(10),u=i.n(l),p=i(13),h=i.n(p),f=i(42),d=i.n(f),b=i(9),g=i.n(b),m=i(16),v=i.n(m),_=i(17),w=i(0),y=i(15),M=i(18),k=i.n(M),E=i(2),x=function(e){function t(e,i,n){var r,s;if(o()(this,t),(r=c()(this,g()(t).call(this,e,i,n))).storageManager.initDb(),r.config=e,r.api=i,r.isSubscribing=!1,r.iframeMessenger=null,(window.opener||window.parent)===window)return document.write('<p style="font-size: 14px; color: red; font-family: sans-serif;">CleverPush: This page cannot be directly opened, and\nmust be opened as a result of a subscription call.</p>'),c()(r);if("undefined"!=typeof URLSearchParams&&location.search){var a=new URLSearchParams(location.search.slice(1));a.get("origin")&&(s=a.get("origin"))}w.b.debug("PenPal parentOrigin",s),k.a.debug=w.b.getLevel()<2;k.a.connectToParent({parentOrigin:s,methods:{subscribe:r.subscribe.bind(u()(r)),setSubscribed:r.setSubscribed.bind(u()(r)),setUnsubscribed:r.setUnsubscribed.bind(u()(r)),unsubscribe:r.unsubscribe.bind(u()(r)),isSubscribed:r.isSubscribed.bind(u()(r)),canSubscribe:r.canSubscribe.bind(u()(r)),setTopics:v()(g()(t.prototype),"setTopics",u()(r)).bind(u()(r)),getTopics:v()(g()(t.prototype),"getTopics",u()(r)).bind(u()(r)),getSubscriptionId:v()(g()(t.prototype),"getSubscriptionId",u()(r)).bind(u()(r)),hasNotificationPermission:v()(g()(t.prototype),"hasNotificationPermission",u()(r)).bind(u()(r)),getNotificationPermission:v()(g()(t.prototype),"getNotificationPermission",u()(r)).bind(u()(r)),setClickedNotification:v()(g()(t.prototype),"setClickedNotification",u()(r)).bind(u()(r)),getClickedNotification:v()(g()(t.prototype),"getClickedNotification",u()(r)).bind(u()(r)),getStoredNotifications:v()(g()(t.prototype),"getStoredNotifications",u()(r)).bind(u()(r)),deleteStoredNotification:v()(g()(t.prototype),"deleteStoredNotification",u()(r)).bind(u()(r)),setConfig:function(e){return d()(g()(t.prototype),"config",e,u()(r),!0),r.config=e,r.config.confirmAlertTestId&&r.api.setConfirmAlertTestId(r.config.confirmAlertTestId),Promise.resolve()},getStorage:function(){try{Promise.resolve({"cleverpush-subscription-id":localStorage.get("cleverpush-subscription-id"),"cleverpush-subscription-status":localStorage.get("cleverpush-subscription-status")})}catch(e){Promise.resolve({"cleverpush-subscription-id":void 0,"cleverpush-subscription-status":void 0})}}}});return!navigator.permissions||"Firefox"===E.a.name&&E.c<46||navigator.permissions.query({name:"notifications"}).then((function(e){e.onchange=function(){r.isSubscribing||("granted"!==window.Notification.permission?r.unsubscribe():r.isSubscribed((function(e){e||r.subscribe()})))}})),r}return h()(t,e),s()(t,[{key:"isSubscribed",value:function(){var e=this;return new Promise((function(t){try{e.storageManager.isSubscribed(!1,!1,!0).then((function(e){w.b.debug("Status: storage status:",e),t(e)}))}catch(e){t(!1)}}))}},{key:"canSubscribe",value:function(){var e=this;return new Promise((function(t){try{e.storageManager.canSubscribe().then((function(i){i?e.isSubscribed().then((function(e){t(e?{result:!1,message:"User is already subscribed",reason:"subscribed"}:{result:!0})})):t({result:!1,message:"User has manually unsubscribed or denied notifications",reason:"unsubscribed"})}))}catch(e){t({result:!0})}}))}},{key:"subscribeForce",value:function(){return this.subscribe()}},{key:"subscribe",value:function(){var e=this;return new Promise((function(t,i){if(e.isSubscribing)w.b.error("A subscription process is already in progress."),i(new y.a);else{e.isSubscribing=!0;var n=function(){e.storageManager.isSubscribed().then((function(e){t({permission:"granted",serviceWorkerInstalled:e})}))};"default"===Notification.permission?Notification.requestPermission((function(i){e.isSubscribing=!1,"granted"===i?n():t({permission:i}),w.b.debug("HTTP Permission Request Result:",i)})):"denied"===Notification.permission?(e.isSubscribing=!1,t({permission:"denied"})):(e.isSubscribing=!1,w.b.debug("PermissionAlreadyGranted"),n())}}))}},{key:"setSubscribed",value:function(e){try{this.storageManager.setSubscribed(e,!0)}catch(e){}}},{key:"setUnsubscribed",value:function(e){try{this.storageManager.setUnsubscribed(e)}catch(e){}}},{key:"unsubscribe",value:function(e){var t=this;return new Promise((function(i){var n;try{n=t.storageManager.getSubscriptionId()}catch(e){}return n?t.api.unsubscribe(n).then((function(){try{t.storageManager.setUnsubscribed(e)}catch(e){}return i()})).catch((function(){return i()})):i()}))}}]),t}(_.a)},function(e,t,i){var n=i(32),o=i(7);function r(e,t,i,s){return(r="undefined"!=typeof Reflect&&Reflect.set?Reflect.set:function(e,t,i,r){var s,a=n(e,t);if(a){if((s=Object.getOwnPropertyDescriptor(a,t)).set)return s.set.call(r,i),!0;if(!s.writable)return!1}if(s=Object.getOwnPropertyDescriptor(r,t)){if(!s.writable)return!1;s.value=i,Object.defineProperty(r,t,s)}else o(r,t,i);return!0})(e,t,i,s)}e.exports=function(e,t,i,n,o){if(!r(e,t,i,n||e)&&o)throw new Error("failed to set property");return i}},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return Confirm}));var _babel_runtime_helpers_typeof__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(8),_babel_runtime_helpers_typeof__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(_babel_runtime_helpers_typeof__WEBPACK_IMPORTED_MODULE_0__),_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(5),_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_1__),_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(6),_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_2___default=__webpack_require__.n(_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_2__),ua_parser_js__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(14),ua_parser_js__WEBPACK_IMPORTED_MODULE_3___default=__webpack_require__.n(ua_parser_js__WEBPACK_IMPORTED_MODULE_3__),_utils_debug__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(0),_utils_dom__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(11),_utils_translate__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(1),_subscription_facebookManager__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(21),_utils_topics__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(24),Confirm=function(){function Confirm(e,t){var i=this;_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_1___default()(this,Confirm),this.autoHideBackdrop=!0,this.config=e,this.subscriptionManager=t,this.id=document.querySelectorAll(".cleverpush-confirm").length+1,this.visible=!1,this.channelTopics=(this.config.channelTopics||[]).filter((function(e){var t=!0;return t&&e.matchPath&&e.matchPath.length&&(t=new RegExp(e.matchPath).test(window.parent.location.pathname)),t&&e.notMatchPath&&e.notMatchPath.length&&(t=!new RegExp(e.notMatchPath).test(window.parent.location.pathname)),t})),this.facebookEnabled=!1,this.config.facebookPageId&&this.config.facebookPageId.length&&this.config.facebookCheckboxEnabled&&(this.facebookEnabled=!0,this.facebookUserRef=this.subscriptionManager.storageManager.getFacebookUserRef(),this.facebookUserRef||(this.facebookUserRef="".concat(this.config.channelId,"-"),this.facebookUserRef+=Math.random().toString(36).slice(2))),__webpack_require__(33),window.addEventListener("beforeunload",(function(){i.autoHideBackdrop=!0,i.hide()}))}return _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_2___default()(Confirm,[{key:"getArrowNode",value:function(e){var t=function(){var t=new ua_parser_js__WEBPACK_IMPORTED_MODULE_3___default.a,i=t.getBrowser().name;"Android"===t.getOS().name||t.getDevice().type;if("grant"===e){if("Chrome"===i||"Chromium"===i)return{x:347,y:92,padding:20};if("Firefox"===i)return{x:311,y:148,padding:20}}else if("denied"===e){if("Chrome"===i||"Chromium"===i)return{x:131,y:0,padding:0};if("Firefox"===i)return{x:60,y:0,padding:0}}return null}();if(!t)return null;var i=document.querySelector(".cleverpush-backdrop-text h2");if(i){var n={x:(window.innerWidth-i.getBoundingClientRect().width)/2,y:(window.innerHeight-i.getBoundingClientRect().height)/2},o=Math.sqrt(Math.pow(t.x-n.x,2)+Math.pow(t.y-n.y,2)),r=Math.max(.1*o,15),s=t.x,a=t.y+r+t.padding,c=n.x-20,l=Math.max(n.y+40,a+40),u=c-s,p=l-a,h="M ".concat(c," ").concat(l," q ").concat(-1*u," ").concat(p,", ").concat(-1*u," ").concat(-1*p),f="M ".concat(s-r," ").concat(a+r," q ").concat(r," ").concat(-3*r,", ").concat(2*r," 0"),d='<div class="cleverpush-backdrop-arrow"><svg width="'.concat(window.innerWidth,'px" height="').concat(window.innerHeight,'px" viewBox="0 0 ').concat(window.innerWidth," ").concat(window.innerHeight,'" version="1.1" xmlns="http://www.w3.org/2000/svg"><g stroke-width="5" stroke-linecap="round" fill="none" fill-rule="evenodd"><path d="').concat(h,'" id="tail" stroke="#FFFFFF"></path><path d="').concat(f,'" id="head" stroke="#FFFFFF"></path></g></svg></div></div>');return Object(_utils_dom__WEBPACK_IMPORTED_MODULE_5__.a)(d)}}},{key:"removeConfirmBox",value:function(){Object(_utils_debug__WEBPACK_IMPORTED_MODULE_4__.c)("removeConfirmBox"),this.visible=!1;var e=document.getElementsByClassName("cleverpush-confirm");if(e.length){var t=e[e.length-1];(!this.withTopics||t.className.indexOf("cleverpush-topic-box")<0)&&t.className.indexOf("cleverpush-attributes-box")<0&&t.parentNode.removeChild(t)}this.confirmBox=null}},{key:"removeBrandingBox",value:function(){Object(_utils_debug__WEBPACK_IMPORTED_MODULE_4__.c)("removeBrandingBox"),this.visible=!1;var e=document.getElementsByClassName("cleverpush-branding-box");if(e.length){var t=e[e.length-1];t.parentNode.removeChild(t)}this.confirmBox=null}},{key:"hide",value:function(){Object(_utils_debug__WEBPACK_IMPORTED_MODULE_4__.c)("hide"),this.autoHideBackdrop&&this.hideBackdrop(),this.removeConfirmBox(),this.removeBrandingBox()}},{key:"onCloseClick",value:function(e){Object(_utils_debug__WEBPACK_IMPORTED_MODULE_4__.c)("closeConfirmBox"),e.preventDefault(),this.hide(),this.hideBackdrop(),this.subscriptionManager.storageManager.setClosed()}},{key:"onAllowClick",value:function(e){var t=this;Object(_utils_debug__WEBPACK_IMPORTED_MODULE_4__.c)("allowPush"),e.preventDefault();var i=this.getSelectedTopics(),n=this.hasTopicCheckboxes(!0);if(this.config.confirmAlertRequireChannelTopics&&!i.length&&n&&this.withTopics)alert(this.config.confirmAlertRequireChannelTopicsTitle||"Bitte wähle mindestens eine Kategorie aus.");else if("function"!=typeof this.allowCallback||(this.allowCallback(!0,i),this.allowCallback=void 0,this.withTopics)){this.confirmBox||(this.confirmBox=document.querySelector(".cleverpush-confirm-".concat(this.id)));for(var o,r=this.confirmBox.querySelectorAll('input[name="topics[]"]'),s=0;s<r.length;s+=1)if(r[s].checked&&r[s].dataset&&"true"===r[s].dataset.childTopicsRequired){var a=this.confirmBox.querySelectorAll('.topic-child[data-parent-topic="'+r[s].value+'"] input');if(a.length){for(var c=0,l=0;l<a.length;l+=1)a[l].checked&&(c+=1);if(0===c)return void alert("Bitte wähle mindestens eine Kategorie in "+(r[s].parentNode.innerText||"").trim()+" aus.")}}if(this.subscriptionManager.setTopics(i),this.withTopics&&this.config.confirmAlertSelectTopicsLater&&n)return this.subscriptionManager.sync(),this.withTopics=!1,this.hide(),this.subscribeCallback&&this.subscribeCallback(!1),void(this.subscriptionManager.registerForPushLater&&this.subscriptionManager.registerForPush());if(this.facebookEnabled&&this.config.facebookButtonOptIn)return window.open("https://m.me/".concat(this.config.facebookPageId),"_blank"),this.hide(),this.hideBackdrop(),void("function"==typeof this.subscriptionManager.storageManager.setFacebookUserRef&&this.subscriptionManager.storageManager.setFacebookUserRef(this.facebookUserRef));if(this.facebookEnabled&&!this.facebookConfirmed&&!this.facebookCheckboxChecked&&"facebook"===CleverPush.browserType)if(o="undefined"!=typeof FB?this.confirmBox.querySelector(".fb-messenger-checkbox-wrap"):this.confirmBox.querySelector("#cleverpush-facebook-checkbox")){var u=document.createElement("style");return u.type="text/css",document.head.appendChild(u),u.sheet.insertRule("\n          @keyframes cleverpushFlashAnimation { \n            0% { opacity: 1; } \n            50% { opacity: .1; } \n            100% { opacity: 1; }\n          }\n        ",u.length),o.style.paddingLeft="10px",o.style.border="2px solid red",o.style.borderRadius="3px",void(o.style.animation="cleverpushFlashAnimation linear 1s forwards")}if(this.config.showUnblockTutorial)return this.hide(),this.showBackdrop(void 0,"denied",Object(_utils_translate__WEBPACK_IMPORTED_MODULE_6__.a)("popup.info").formatCleverPush("<strong>"+(Object(_utils_translate__WEBPACK_IMPORTED_MODULE_6__.a)("confirm.allowBrowser")||Object(_utils_translate__WEBPACK_IMPORTED_MODULE_6__.a)("confirm.allow"))+"</strong>")),void sessionStorage.setItem("cleverpush-subscription-status","denied");this.config.ownDomain&&("https:"===window.parent.location.protocol||"localhost"===window.parent.location.hostname)&&this.config.showConfirmAlert&&this.config.confirmAlertNativeTheme&&"cleverpush-confirm-default"!==this.config.confirmAlertNativeTheme&&"cleverpush-confirm-backdrop-text"!==this.config.confirmAlertNativeTheme?(this.removeConfirmBox(),this.appendConfirmBox("".concat(this.config.confirmAlertNativeTheme," ").concat(this.config.confirmAlertNativeTheme,"-native"))):this.hide(),localStorage.setItem("cleverpush-subscription-status","allowed"),this.subscriptionManager.subscribeForce(!1).then((function(e){t.hideBackdrop(),t.subscribeCallback&&t.subscribeCallback(!1,e)})).catch((function(e){t.hideBackdrop(),t.subscribeCallback&&t.subscribeCallback(e)})),this.confirmFacebook()}else this.hide()}},{key:"confirmFacebook",value:function(){this.facebookEnabled&&!this.facebookConfirmed&&"undefined"!=typeof FB&&(this.facebookConfirmed=!0,FB.AppEvents.logEvent("MessengerCheckboxUserConfirmation",null,{app_id:this.config.facebookAppId,page_id:this.config.facebookPageId,ref:this.config.channelId,user_ref:this.facebookUserRef}),this.facebookCheckboxChecked&&"function"==typeof this.subscriptionManager.setFacebookUserRef&&this.subscriptionManager.setFacebookUserRef(this.facebookUserRef))}},{key:"onDenyClick",value:function(e){Object(_utils_debug__WEBPACK_IMPORTED_MODULE_4__.c)("denyPush"),e.preventDefault(),this.subscriptionManager.storageManager.setDenied(),this.autoHideBackdrop=!0,this.hide(),!this.config.ownDomain||"https:"!==window.parent.location.protocol&&"localhost"!==window.parent.location.hostname||this.showDenyAlert(),"function"==typeof this.allowCallback&&(this.allowCallback(!1,[]),this.allowCallback=void 0)}},{key:"hasTopicCheckboxes",value:function(e){if(Object(_utils_debug__WEBPACK_IMPORTED_MODULE_4__.c)("hasTopicCheckboxes"),this.config.confirmAlertSelectTopicsLater&&!this.withTopics&&void 0===e)return!0;var t=document.querySelector(".cleverpush-confirm");return!!t&&t.querySelectorAll('input[name="topics[]"]').length>0}},{key:"getSelectedTopics",value:function(){Object(_utils_debug__WEBPACK_IMPORTED_MODULE_4__.c)("getSelectedTopics");var e=(this.channelTopics||[]).filter(_utils_topics__WEBPACK_IMPORTED_MODULE_8__.a).map((function(e){return e._id})),t=document.querySelector(".cleverpush-confirm");if(t){var i=t.querySelectorAll('input[name="topics[]"]');if(i&&i.length){e=[];for(var n=0;n<i.length;n+=1)"checkbox"!==i[n].type&&"radio"!==i[n].type||!i[n].checked||e.push(i[n].value)}}return e}},{key:"showDenyAlert",value:function(){Object(_utils_debug__WEBPACK_IMPORTED_MODULE_4__.c)("showDenyAlert")}},{key:"onClickToCloseDenyAlert",value:function(e){this.denyAlert&&e.target!==this.denyAlert&&e.target.parentNode!==this.denyAlert&&(document.removeEventListener("click",this.onClickToCloseDenyAlertListener),document.removeEventListener("touchstart",this.onClickToCloseDenyAlertListener),this.onDenyAlertClick())}},{key:"onDenyAlertClick",value:function(e){void 0!==e&&e.preventDefault(),Object(_utils_debug__WEBPACK_IMPORTED_MODULE_4__.c)("onDenyAlertClick");var t=document.getElementsByClassName("cleverpush-deny-alert")[0];t.parentNode.removeChild(t),this.denyAlert=null}},{key:"showBrandingBox",value:function(){Object(_utils_debug__WEBPACK_IMPORTED_MODULE_4__.c)("showBrandingBox"),document.body.appendChild(Object(_utils_dom__WEBPACK_IMPORTED_MODULE_5__.a)('<div class="cleverpush-branding-box cleverpush-branding-box-'.concat(this.id,'"><div class="cleverpush-branding-box-text">').concat(this.getBrandingLinks(),'</div><button class="cleverpush-branding-box-close">&times;</button></div>'))),this.brandingBox=document.querySelector(".cleverpush-branding-box-".concat(this.id)),this.brandingBoxCloseButton=this.brandingBox.querySelector(".cleverpush-branding-box-close"),this.brandingBoxCloseButton&&this.brandingBoxCloseButton.addEventListener("click",this.removeBrandingBox.bind(this))}},{key:"getBrandingLinks",value:function(){var e=[],t=this.config.confirmAlertThemeLinkColor;return this.config.confirmAlertLinkStyle&&this.config.confirmAlertLinkStyle.color&&(t=this.config.confirmAlertLinkStyle.color),this.config.hideBranding||("convertpush.io"===this.config.cleverpushDomain?e.push('<a href="https://convertpush.io/" target="_blank" style="'.concat(t?"color: "+t+" !important":"",'">Powered by ConvertPush</a>')):e.push('<a href="https://cleverpush.com/" target="_blank" style="'.concat(t?"color: "+t+" !important":"",'">Powered by CleverPush</a>'))),this.config.privacyPolicyUrl&&e.push('<a href="'.concat(this.config.privacyPolicyUrl,'" target="_blank" style="').concat(t?"color: "+t+" !important":"",'">').concat(this.config.privacyPolicyText||Object(_utils_translate__WEBPACK_IMPORTED_MODULE_6__.a)("privacy"),"</a>")),this.config.faqText&&this.config.faqUrl&&e.push('<a href="'.concat(this.config.faqUrl,'" target="_blank" style="').concat(t?"color: "+t+" !important":"",'">').concat(this.config.faqText||"FAQ","</a>")),e.join(" &nbsp;/&nbsp; ")}},{key:"showBackdrop",value:function(e,t,i){var n=this;Object(_utils_debug__WEBPACK_IMPORTED_MODULE_4__.c)("showBackdrop");var o=void 0!==t&&"denied"===t?"denied":"grant";if("denied"===o||this.config.hideNativeConfirmAlert||this.config.showConfirmAlert||!this.config.confirmAlertNativeTheme||"cleverpush-confirm-default"===this.config.confirmAlertNativeTheme||"cleverpush-confirm-backdrop-text"===this.config.confirmAlertNativeTheme||!this.config.ownDomain||"https:"!==window.parent.location.protocol&&"localhost"!==window.parent.location.hostname||this.appendConfirmBox("".concat(this.config.confirmAlertNativeTheme," ").concat(this.config.confirmAlertNativeTheme,"-native")),this.config.confirmAlertBackdrop||this.config.showConfirmAlert||this.config.confirmAlertNativeTheme&&"cleverpush-confirm-default"!==this.config.confirmAlertNativeTheme||this.config.hideBranding||this.showBrandingBox(),"denied"===o||void 0===this.config.confirmAlertBackdrop||this.config.confirmAlertBackdrop){var r=this.config.alertLocalization||{},s=(navigator.language||navigator.userLanguage||"").substr(0,2);this.config.alertLocalizationTranslations&&s&&this.config.alertLocalizationTranslations[s]&&(r=Object.assign({},r,this.config.alertLocalizationTranslations[s])),"windows-1252"!==document.characterSet&&"iso-8859-1"!==document.characterSet||Object.keys(r).forEach((function(e){if(r[e])try{r[e]=decodeURIComponent(escape(r[e]))}catch(e){_utils_debug__WEBPACK_IMPORTED_MODULE_4__.b.debug(e)}}));var a="";if(this.config.ownDomain&&("https:"===window.parent.location.protocol||"localhost"===window.parent.location.hostname)){if("denied"===o||"cleverpush-confirm-backdrop-text"===this.config.confirmAlertNativeTheme)if("grant"===o)a+='<div class="cleverpush-backdrop-text" style="'.concat(this.config.confirmAlertThemeTextColor?"color: "+this.config.confirmAlertThemeTextColor:"",'">\n').concat(this.config.channelIcon&&!this.config.confirmAlertHideChannelIcon?'<p class="cleverpush-backdrop-icon"><img src="'.concat(this.config.channelIcon,'" alt="').concat(this.config.channelName,'"></p>'):"","\n<h2>").concat(r.title||Object(_utils_translate__WEBPACK_IMPORTED_MODULE_6__.a)("popup.info").formatCleverPush("<strong>".concat(Object(_utils_translate__WEBPACK_IMPORTED_MODULE_6__.a)("confirm.allowBrowser")||Object(_utils_translate__WEBPACK_IMPORTED_MODULE_6__.a)("confirm.allow"),"</strong>")),"</h2>\n<p>").concat(r.info||Object(_utils_translate__WEBPACK_IMPORTED_MODULE_6__.a)("popup.text").formatCleverPush("<strong>".concat(this.config.channelName,"</strong>")),"</p>\n</div>");else{var c=new ua_parser_js__WEBPACK_IMPORTED_MODULE_3___default.a,l=c.getBrowser().name,u=c.getOS().name;l=l.toLowerCase().replace(/\s/g,"").replace("chromium","chrome"),u=u.toLowerCase().replace(/\s/g,"").replace("macos","mac");var p="";"chrome"!==l&&"firefox"!==l&&"safari"!==l||"android"!==u&&"windows"!==u&&"mac"!==u||(p="chrome"===l&&"android"===u?'<div><video src="https://static.cleverpush.com/app/images/unblock-tutorial/'.concat(l,"-").concat(u,'.mp4" width="100%" autoplay loop muted playsinline /></div>'):'<div><img src="https://static.cleverpush.com/app/images/unblock-tutorial/'.concat(l,"-").concat(u,'.gif" /></div>')),a+='<div class="cleverpush-backdrop-text"><h2>'.concat(p?Object(_utils_translate__WEBPACK_IMPORTED_MODULE_6__.a)("unblock.title"):i,"</h2>").concat(p,"</div>")}(this.config.hideNativeConfirmAlert||this.config.showConfirmAlert&&(!this.config.confirmAlertNativeTheme||"cleverpush-confirm-default"===this.config.confirmAlertNativeTheme))&&(this.backdropHasBranding=!0,a+='<div class="cleverpush-backdrop-branding">'.concat(this.getBrandingLinks(),"</div>"))}var h=document.getElementsByClassName("cleverpush-backdrop");if(h&&h.length)for(var f=0;f<h.length;f+=1){var d=h[f];d&&d.parentNode&&d.parentNode.removeChild(d)}var b=document.createElement("div");if(b.className="cleverpush-backdrop",b.style.display="none",b.innerHTML=a,this.config.confirmAlertBackdropOpacity&&(b.style.backgroundColor="rgba(0, 0, 0, ".concat(this.config.confirmAlertBackdropOpacity,")")),this.config.confirmAlertBackdropBlur&&(b.className+=" cleverpush-backdrop-blur"),a&&a.length&&!this.config.confirmAlertHideArrow){var g=this.getArrowNode(o);g&&b.appendChild(g)}b.addEventListener("click",(function(e){e.preventDefault(),n.hideBackdrop(o)})),document.body&&(document.body.appendChild(b),document.body.classList?(document.body.classList.add("has-cleverpush-backdrop"),this.config.confirmAlertBackdropBlur&&document.body.classList.add("has-cleverpush-backdrop-blur")):(document.body.className+=" has-cleverpush-backdrop",this.config.confirmAlertBackdropBlur&&(document.body.className+=" has-cleverpush-backdrop-blur"))),Object(_utils_dom__WEBPACK_IMPORTED_MODULE_5__.d)(b,200,void 0!==e?e:function(){})}else"function"==typeof e&&e()}},{key:"hideBackdrop",value:function(e){if(Object(_utils_debug__WEBPACK_IMPORTED_MODULE_4__.c)("hideBackdrop"),this.removeBrandingBox(),document.body&&(document.body.classList?(this.config.confirmAlertBackdropBlur&&document.body.classList.remove("has-cleverpush-backdrop-blur"),document.body.classList.remove("has-cleverpush-backdrop")):(this.config.confirmAlertBackdropBlur&&(document.body.className=document.body.className.replace("has-cleverpush-backdrop-blur","")),document.body.className=document.body.className.replace("has-cleverpush-backdrop",""))),!this.config.hideNativeConfirmAlert&&this.config.confirmAlertNativeTheme&&"cleverpush-confirm-default"!==this.config.confirmAlertNativeTheme&&"cleverpush-backdrop-text"!==this.config.confirmAlertNativeTheme&&this.removeConfirmBox(),void 0!==e&&"denied"===e||void 0===this.config.confirmAlertBackdrop||this.config.confirmAlertBackdrop){for(var t=document.getElementsByClassName("cleverpush-backdrop"),i=0;i<t.length;i+=1){!function(e){Object(_utils_dom__WEBPACK_IMPORTED_MODULE_5__.e)(e,200,(function(){e&&e.parentNode&&e.parentNode.removeChild(e)}))}(t[i])}void 0!==e&&"granted"===e&&this.confirmFacebook()}}},{key:"camelCaseToDash",value:function(e){return e.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}},{key:"appendConfirmBox",value:function appendConfirmBox(confirmAlertThemeParam,withTopicsParam,configParam,allowCallback){var _this5=this;if(Object(_utils_debug__WEBPACK_IMPORTED_MODULE_4__.c)("appendConfirmBox"),!this.confirmBox){this.withTopics="boolean"==typeof withTopicsParam&&withTopicsParam,"function"==typeof allowCallback&&(this.allowCallback=allowCallback);var confirmConfig="object"===_babel_runtime_helpers_typeof__WEBPACK_IMPORTED_MODULE_0___default()(configParam)?configParam:{},configAlertLocalization=this.config.alertLocalization||{},language=(navigator.language||navigator.userLanguage||"").substr(0,2);this.config.alertLocalizationTranslations&&language&&this.config.alertLocalizationTranslations[language]&&(configAlertLocalization=Object.assign({},configAlertLocalization,this.config.alertLocalizationTranslations[language])),configAlertLocalization=Object.assign({},configAlertLocalization,confirmConfig.customLocalization),confirmConfig.topicsRequired&&(this.config.confirmAlertRequireChannelTopics=!0);var localization={title:configAlertLocalization.title||Object(_utils_translate__WEBPACK_IMPORTED_MODULE_6__.a)("confirm.title").formatCleverPush(this.config.channelName),info:configAlertLocalization.info||Object(_utils_translate__WEBPACK_IMPORTED_MODULE_6__.a)("confirm.info"),deny:configAlertLocalization.deny||Object(_utils_translate__WEBPACK_IMPORTED_MODULE_6__.a)("confirm.deny"),allow:configAlertLocalization.allow||Object(_utils_translate__WEBPACK_IMPORTED_MODULE_6__.a)("confirm.allow"),confirmInfo:configAlertLocalization.confirmInfo||Object(_utils_translate__WEBPACK_IMPORTED_MODULE_6__.a)("popup.info").formatCleverPush(Object(_utils_translate__WEBPACK_IMPORTED_MODULE_6__.a)("confirm.allowBrowser"))};"windows-1252"!==document.characterSet&&"iso-8859-1"!==document.characterSet||Object.keys(localization).forEach((function(e){if(configAlertLocalization[e])try{localization[e]=decodeURIComponent(escape(localization[e]))}catch(e){_utils_debug__WEBPACK_IMPORTED_MODULE_4__.b.debug(e)}}));var confirmClass="cleverpush-confirm-default",confirmStyle="",confirmAlertTheme=void 0!==confirmAlertThemeParam?confirmAlertThemeParam:this.config.confirmAlertTheme;confirmAlertTheme&&(confirmClass=confirmAlertTheme);var parser=new ua_parser_js__WEBPACK_IMPORTED_MODULE_3___default.a;this.config.confirmAlertThemeVariant&&"cleverpush-confirm-auto"!==this.config.confirmAlertThemeVariant?confirmClass+=" ".concat(this.config.confirmAlertThemeVariant):"Mac OS"===parser.getOS().name?confirmClass+=" cleverpush-confirm-mac":"Windows"===parser.getOS().name?confirmClass+=" cleverpush-confirm-chrome":confirmClass+=" cleverpush-confirm-material","Firefox"===parser.getBrowser().name&&(confirmClass+=" cleverpush-confirm-firefox"),"Opera"===parser.getBrowser().name&&(confirmClass+=" cleverpush-confirm-opera"),"Safari"===parser.getBrowser().name&&(confirmClass+=" cleverpush-confirm-safari"),"Chrome"===parser.getBrowser().name&&(confirmClass+=" cleverpush-confirm-chrome"),"Edge"===parser.getBrowser().name&&(confirmClass+=" cleverpush-confirm-edge"),this.config.confirmAlertStyle&&this.config.confirmAlertStyle.color&&(this.config.confirmAlertThemeTextColor=this.config.confirmAlertStyle.color),this.config.confirmAlertThemeBackgroundColor?(confirmStyle+="background-color: "+this.config.confirmAlertThemeBackgroundColor+";",this.config.confirmAlertThemeTextColor&&(confirmStyle+="color: "+this.config.confirmAlertThemeTextColor+";")):this.config.confirmAlertThemeBackground&&(confirmClass+=" ".concat(this.config.confirmAlertThemeBackground)),this.config.confirmAlertHideChannelIcon&&(confirmClass+=" cleverpush-confirm-hide-channel-icon"),this.config.confirmAlertHideArrow&&(confirmClass+=" cleverpush-confirm-hide-arrow"),"PREVIEW"===this.config.env&&(confirmClass+=" cleverpush-confirm-preview"),confirmClass+=" cleverpush-confirm-".concat(this.id);var topicSelection="",parentContainer;if(this.config.topicsTemplateFunction)topicSelection='<div class="cleverpush-topics cleverpush-confirm-topics"></div>';else if(this.channelTopics&&this.channelTopics.length&&!this.config.confirmAlertHideChannelTopics){var _topics=this.channelTopics.filter((function(e){return!e.parentTopic}));confirmConfig&&confirmConfig.parentTopic&&(_topics=this.channelTopics.filter((function(e){return e.parentTopic===confirmConfig.parentTopic}))),topicSelection+='<div class="cleverpush-topics cleverpush-confirm-topics">',_topics.sort((function(e,t){return e.sort-t.sort})).forEach((function(e){var t=e.name;if("windows-1252"===document.characterSet||"iso-8859-1"===document.characterSet)try{t=decodeURIComponent(escape(e.name))}catch(e){_utils_debug__WEBPACK_IMPORTED_MODULE_4__.b.debug(e)}var i=_this5.channelTopics.filter((function(t){return t.parentTopic===e._id}));topicSelection+='<div><label style="'.concat(_this5.config.confirmAlertThemeTextColor?"color: "+_this5.config.confirmAlertThemeTextColor+";":"",'"><input type="').concat(_this5.config.confirmAlertRadioButtonTopics||confirmConfig.topicsRadioButtons?"radio":"checkbox",'" name="topics[]" value="').concat(e._id,'" ').concat(Object(_utils_topics__WEBPACK_IMPORTED_MODULE_8__.a)(e)?"checked":""," ").concat(e.childTopicsRequired?' data-child-topics-required="true"':"","> ").concat(t,"</label></div>"),i.length&&i.forEach((function(t){var i=t.name;if("windows-1252"===document.characterSet||"iso-8859-1"===document.characterSet)try{i=decodeURIComponent(escape(t.name))}catch(e){_utils_debug__WEBPACK_IMPORTED_MODULE_4__.b.debug(e)}var n=_this5.config.confirmAlertRadioButtonTopics||e.childTopicsRadioButtons?"radio":"checkbox";topicSelection+='<div class="topic-child" data-parent-topic="'.concat(e._id,'" style="margin-left: 20px; font-size: 90%; ').concat(Object(_utils_topics__WEBPACK_IMPORTED_MODULE_8__.a)(e)?"":"display: none;",'"><label><input type="').concat(n,'" name="topics[]" value="').concat(t._id,'" ').concat(Object(_utils_topics__WEBPACK_IMPORTED_MODULE_8__.a)(t)?"checked":"","> ").concat(i,"</label></div>")}))})),topicSelection+="</div>"}this.config.appendConfirmBoxTo&&(parentContainer=document.querySelector(this.config.appendConfirmBoxTo)),parentContainer?confirmClass+="cleverpush-confirm-static":(this.config.appendConfirmBoxTo&&_utils_debug__WEBPACK_IMPORTED_MODULE_4__.b.error("appendConfirmBoxTo: container not found. Falling back to default."),parentContainer=document.body);var showLinks=!this.backdropHasBranding;if(!this.withTopics&&("https:"===window.parent.location.protocol||"localhost"===window.parent.location.hostname)){var isNativeBox=confirmAlertThemeParam&&"cleverpush-confirm-default cleverpush-confirm-default-native"!==confirmAlertThemeParam&&"cleverpush-confirm-backdrop-text cleverpush-confirm-backdrop-text-native"!==confirmAlertThemeParam;if(_utils_debug__WEBPACK_IMPORTED_MODULE_4__.b.debug("isNativeBox",isNativeBox),this.config.showConfirmAlert&&this.config.isSafari_12_1)isNativeBox&&(topicSelection="");else if(this.config.showConfirmAlert){var canHideTopics=this.config.confirmAlertNativeTheme&&"cleverpush-confirm-default"!==this.config.confirmAlertNativeTheme;isNativeBox?(showLinks=!1,canHideTopics&&this.config.showConfirmAlertMobile&&(topicSelection="")):canHideTopics&&!this.config.showConfirmAlertMobile&&(topicSelection="")}else isNativeBox&&this.config.confirmAlertSelectTopicsLater&&this.config.ownDomain&&(topicSelection="")}if(this.facebookEnabled&&!this.config.facebookButtonOptIn&&(this.config.facebookDoubleOptIn&&!this.facebookDoubleOptInConfirmed&&(topicSelection+='<div class="cleverpush-topics cleverpush-confirm-topics"><div><label><input type="'.concat(this.config.confirmAlertRadioButtonTopics?"radio":"checkbox",'" id="cleverpush-facebook-checkbox"> Ich akzeptiere die <a href="').concat(this.config.privacyPolicyUrl,'">Datenschutzerklärung</a></label></div></div>')),topicSelection+='<div class="fb-messenger-checkbox-wrap"><div class="fb-messenger-checkbox" origin="'.concat(location.origin,'" page_id="').concat(this.config.facebookPageId,'" messenger_app_id="').concat(this.config.facebookAppId,'" user_ref="').concat(this.facebookUserRef,'" prechecked="true" allow_login="true" size="large" style="margin-top: 10px; margin-left: -14px;"></div></div>')),this.withTopics&&!confirmConfig.customLocalization){if(confirmClass+=" cleverpush-topic-box",localization.title=this.config.confirmAlertSelectTopicsLaterTitle||Object(_utils_translate__WEBPACK_IMPORTED_MODULE_6__.a)("confirm.selectTopics")||localization.title,this.config.confirmAlertSelectTopicsLaterTitle&&("windows-1252"===document.characterSet||"iso-8859-1"===document.characterSet))try{localization.title=decodeURIComponent(escape(localization.title))}catch(e){_utils_debug__WEBPACK_IMPORTED_MODULE_4__.b.debug(e)}localization.info="",localization.allow=Object(_utils_translate__WEBPACK_IMPORTED_MODULE_6__.a)("panel.save")}var confirm=Object(_utils_dom__WEBPACK_IMPORTED_MODULE_5__.a)('<div class="cleverpush-confirm '.concat(confirmClass,'" style="').concat(confirmStyle,'">\n        <div class="cleverpush-confirm-caret cleverpush-confirm-caret-top" style="display: none; border-bottom-color: ').concat(this.config.confirmAlertThemeBackgroundColor,'"></div>\n        <div class="cleverpush-confirm-caret cleverpush-confirm-caret-bottom" style="display: none; border-top-color: ').concat(this.config.confirmAlertThemeBackgroundColor,'"></div>\n        <button type="button" class="cleverpush-confirm-hide">&times;</button>\n        <div class="cleverpush-confirm-wrap">\n            ').concat("cleverpush-confirm-topbar cleverpush-confirm-topbar-native"===confirmAlertThemeParam?'<div class="cleverpush-confirm-topbar-arrow"></div>':"",'\n            <div class="').concat("cleverpush-confirm-icon"+(this.config.confirmAlertRoundChannelIcon?" cleverpush-confirm-icon-round":""),'"><img src="').concat(this.config.channelIcon,'"></div>\n          <div class="cleverpush-confirm-text" style="').concat(this.config.confirmAlertThemeTextColor?"color: "+this.config.confirmAlertThemeTextColor+";":"",'"><span class="cleverpush-confirm-title" style="').concat(this.config.confirmAlertThemeTitleColor?"color: "+this.config.confirmAlertThemeTitleColor+";":"",'">').concat(localization.title,'</span>\n            <p class="cleverpush-confirm-info">').concat(localization.info,"</p>\n            ").concat(topicSelection,'\n            </div>\n          <div class="cleverpush-clearfix cleverpush-clearfix-bottom">\n            <div class="cleverpush-confirm-buttons">\n            <button class="cleverpush-confirm-btn cleverpush-confirm-btn-deny">').concat(localization.deny,'</button>\n            <button class="cleverpush-confirm-btn cleverpush-confirm-btn-allow" style="').concat(this.config.confirmAlertThemeButtonTextColor?"color: "+this.config.confirmAlertThemeButtonTextColor+";":""," ").concat(this.config.confirmAlertThemeButtonBackgroundColor?"border-color: transparent !important; background: none; background-color: "+this.config.confirmAlertThemeButtonBackgroundColor+";":"",'">').concat(localization.allow,"</button></div>\n            ").concat(showLinks?'<div class="cleverpush-confirm-branding"><span>'.concat(this.getBrandingLinks(),"</span></div>"):"",'\n            <div class="cleverpush-clearfix"></div>\n          </div>\n          ').concat(localization.confirmInfo?'<div class="cleverpush-confirm-bottom-info" style="display: none;">\n            <div class="'.concat("cleverpush-confirm-icon"+(this.config.confirmAlertRoundChannelIcon?" cleverpush-confirm-icon-round":""),'"><img src="').concat(this.config.channelIcon,'"></div>\n            <div class="cleverpush-confirm-bottom-info-text">').concat(localization.confirmInfo,'</div>\n            <div class="cleverpush-clearfix"></div>\n          </div>'):"","\n        </div>\n      </div>"));if(parentContainer.appendChild(confirm),this.confirmBox=document.querySelector(".cleverpush-confirm-".concat(this.id)),this.confirmBox&&"object"===_babel_runtime_helpers_typeof__WEBPACK_IMPORTED_MODULE_0___default()(this.config.confirmAlertStyle))for(var property in this.config.confirmAlertStyle)this.config.confirmAlertStyle.hasOwnProperty(property)&&(this.confirmBox.style[property]=this.config.confirmAlertStyle[property]);if(this.confirmBoxTitle=document.querySelector(".cleverpush-confirm-".concat(this.id," .cleverpush-confirm-title")),this.confirmBoxTitle&&"object"===_babel_runtime_helpers_typeof__WEBPACK_IMPORTED_MODULE_0___default()(this.config.confirmAlertTitleStyle))for(var _property in this.config.confirmAlertTitleStyle)this.config.confirmAlertTitleStyle.hasOwnProperty(_property)&&(this.confirmBoxTitle.style[_property]=this.config.confirmAlertTitleStyle[_property]);if(this.allowButton=this.confirmBox.querySelector(".cleverpush-confirm-btn-allow"),this.allowButton){if(this.allowButton.addEventListener("click",this.onAllowClick.bind(this),!0),"object"===_babel_runtime_helpers_typeof__WEBPACK_IMPORTED_MODULE_0___default()(this.config.confirmAlertButtonStyle))for(var _property2 in this.config.confirmAlertButtonStyle.backgroundColor&&!this.config.confirmAlertButtonStyle.borderColor&&(this.config.confirmAlertButtonStyle.borderColor="transparent"),this.config.confirmAlertButtonStyle)this.config.confirmAlertButtonStyle.hasOwnProperty(_property2)&&this.allowButton.style.setProperty(this.camelCaseToDash(_property2),this.config.confirmAlertButtonStyle[_property2],"important");if("object"===_babel_runtime_helpers_typeof__WEBPACK_IMPORTED_MODULE_0___default()(this.config.confirmAlertAllowButtonStyle))for(var _property3 in this.config.confirmAlertAllowButtonStyle)this.config.confirmAlertAllowButtonStyle.backgroundColor&&!this.config.confirmAlertAllowButtonStyle.borderColor&&(this.config.confirmAlertAllowButtonStyle.borderColor="transparent"),this.config.confirmAlertAllowButtonStyle.hasOwnProperty(_property3)&&this.allowButton.style.setProperty(this.camelCaseToDash(_property3),this.config.confirmAlertAllowButtonStyle[_property3],"important")}if(this.denyButton=this.confirmBox.querySelector(".cleverpush-confirm-btn-deny"),this.denyButton&&(this.denyButton.addEventListener("click",this.onDenyClick.bind(this)),"object"===_babel_runtime_helpers_typeof__WEBPACK_IMPORTED_MODULE_0___default()(this.config.confirmAlertButtonStyle)))for(var _property4 in this.config.confirmAlertButtonStyle)this.config.confirmAlertButtonStyle.hasOwnProperty(_property4)&&this.denyButton.style.setProperty(this.camelCaseToDash(_property4),this.config.confirmAlertButtonStyle[_property4],"important");this.closeButton=this.confirmBox.querySelector(".cleverpush-confirm-hide"),this.closeButton&&(this.closeButton.addEventListener("click",this.onCloseClick.bind(this)),this.confirmBox&&"object"===_babel_runtime_helpers_typeof__WEBPACK_IMPORTED_MODULE_0___default()(this.config.confirmAlertStyle)&&this.config.confirmAlertStyle.color&&(this.closeButton.style.color=this.config.confirmAlertStyle.color));for(var topics=this.confirmBox.querySelectorAll('input[name="topics[]"]'),topicIndex=0;topicIndex<topics.length;topicIndex+=1)topics[topicIndex].addEventListener("change",(function(e){_this5.confirmBox||(_this5.confirmBox=document.querySelector(".cleverpush-confirm-".concat(_this5.id)));for(var t=_this5.confirmBox.querySelectorAll('.topic-child[data-parent-topic="'+e.target.value+'"]'),i=0;i<t.length;i+=1)t[i].style.display=e.target.checked?"block":"none"}));if(this.config.topicsTemplateFunction&&topicSelection){var topicsDiv=parentContainer.querySelector(".cleverpush-confirm .cleverpush-confirm-topics");if(topicsDiv)try{var templateFunc=eval("("+this.config.topicsTemplateFunction+")");"function"==typeof templateFunc?(_utils_debug__WEBPACK_IMPORTED_MODULE_4__.b.debug("calling templateFunc"),templateFunc(topicsDiv,this.config,[],"confirm")):_utils_debug__WEBPACK_IMPORTED_MODULE_4__.b.warn("typeof templateFunc is not function")}catch(e){_utils_debug__WEBPACK_IMPORTED_MODULE_4__.b.warn(e)}else _utils_debug__WEBPACK_IMPORTED_MODULE_4__.b.warn(".cleverpush-topics div not found")}if(this.facebookEnabled){var loadFbSdk=function(){_subscription_facebookManager__WEBPACK_IMPORTED_MODULE_7__.a.initFacebook((function(){"undefined"!=typeof FB&&(FB.Event.subscribe("messenger_checkbox",(function(e){_utils_debug__WEBPACK_IMPORTED_MODULE_4__.b.info('FB - Event "messenger_checkbox"',e),"rendered"===e.event?_utils_debug__WEBPACK_IMPORTED_MODULE_4__.b.info('FB - Event "messenger_checkbox" - successfully rendered'):"checkbox"===e.event?(_utils_debug__WEBPACK_IMPORTED_MODULE_4__.b.info("FB - Checkbox state:",e.state),_this5.facebookCheckboxChecked="checked"===e.state):"not_you"===e.event?_utils_debug__WEBPACK_IMPORTED_MODULE_4__.b.info("FB - User clicked 'not you'"):"hidden"===e.event&&_utils_debug__WEBPACK_IMPORTED_MODULE_4__.b.warn("FB - Plugin was hidden. This usually means a problem in FB or integration or your browser settings. Did you whitelist your domain? When using a FB dev app is your FB account registered developer/tester/admin? Have generated a unique `user_ref` for this render? Do you have disabled third-party tracking in your browser settings?")})),FB.XFBML.parse())}))};this.config.facebookDoubleOptIn?(this.facebookDoubleOptInConfirmed=!0,this.facebookConfirmCheckbox=this.confirmBox.querySelector("#cleverpush-facebook-checkbox"),this.facebookConfirmCheckbox&&this.facebookConfirmCheckbox.addEventListener("click",(function(){loadFbSdk()}))):loadFbSdk()}}}},{key:"show",value:function(e){var t=this;if(Object(_utils_debug__WEBPACK_IMPORTED_MODULE_4__.c)("showConfirmBox"),"function"==typeof e&&(this.subscribeCallback=e),!this.visible){this.visible=!0;var i=this.config.confirmMinimumVisits||0,n=localStorage.getItem("cleverpush-visits");(n=n?parseInt(n,10):0)>=i&&setTimeout((function(){t.showBackdrop(),t.appendConfirmBox()}),this.config.confirmTimeout||0),n+=1,localStorage.setItem("cleverpush-visits",n)}}},{key:"setAutoHideBackdrop",value:function(e){this.autoHideBackdrop=e}}]),Confirm}()},function(e,t,i){"use strict";i.d(t,"a",(function(){return f}));var n=i(5),o=i.n(n),r=i(6),s=i.n(r),a=i(26),c=i(1),l=i(0),u=i(15),p=i(2),h=i(11),f=function(){function e(t,n,r,s,a){o()(this,e),this.config=t,this.subscriptionManager=n,this.isSubscribed=this.subscriptionManager.subscribed,this.api=r,this.confirm=s,this.triggerEvent=a,this.config.bellLocalization&&this.config.bellLocalization.subscribed?this.messageSubscribed=this.config.bellLocalization.subscribed:this.messageSubscribed=Object(c.a)("bell.subscribed"),this.config.bellLocalization&&this.config.bellLocalization.subscribe?this.messageSubscribe=this.config.bellLocalization.subscribe:this.messageSubscribe=Object(c.a)("bell.subscribe"),this.config.bellLocalization&&this.config.bellLocalization.hide?this.messageHide=this.config.bellLocalization.hide:this.messageHide=Object(c.a)("bell.hide"),this.show=this.show.bind(this),this.reset=this.reset.bind(this),this.onClick=this.onClick.bind(this),i(65)}return s()(e,[{key:"getClassName",value:function(){var e="cleverpush-bell";return this.config.notificationBellPosition&&(e+=" cleverpush-bell-position-"+this.config.notificationBellPosition),e}},{key:"show",value:function(e){if(Object(l.c)("bell.show",e),this.isSubscribed=e,"true"!==localStorage.getItem("cleverpush-bell-hidden")){var t,i=this.getClassName();e?(i+=" cleverpush-bell-disabled",t=this.messageSubscribed,this.config.hideNotificationBellSubscribed&&(i+=" cleverpush-bell-hidden")):t=this.messageSubscribe;var n="";this.config.notificationBellMoreButtons&&(n='<button type="button" class="cleverpush-bell-more-btn cleverpush-bell-more-settings" style="display: none"><svg viewBox="0 0 18 18" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><path d="M18.88 12.88a6.83 6.83 0 0 0 0-1.76l1.95-1.49a.45.45 0 0 0 .11-.57l-1.85-3.12c-.11-.2-.36-.27-.56-.2l-2.3.9a6.8 6.8 0 0 0-1.57-.88l-.35-2.38a.45.45 0 0 0-.46-.38h-3.7a.45.45 0 0 0-.45.38l-.35 2.38c-.57.23-1.09.53-1.57.88l-2.3-.9a.46.46 0 0 0-.57.2L3.06 9.06c-.12.2-.06.44.12.57l1.95 1.49a6.95 6.95 0 0 0 0 1.76l-1.95 1.49a.45.45 0 0 0-.12.57l1.85 3.12c.12.2.37.27.57.2l2.3-.9c.48.36 1 .65 1.57.88l.35 2.38c.03.22.22.38.45.38h3.7c.23 0 .43-.16.46-.38l.35-2.38a7.16 7.16 0 0 0 1.56-.88l2.3.9c.22.08.46 0 .57-.2l1.85-3.12a.45.45 0 0 0-.11-.57l-1.95-1.49zM12 15.15A3.2 3.2 0 0 1 8.76 12 3.2 3.2 0 0 1 12 8.85 3.2 3.2 0 0 1 15.24 12 3.2 3.2 0 0 1 12 15.15z" id="park-svg-settings-path-1"></path></defs><use xlink:href="#park-svg-settings-path-1" transform="translate(-3 -3)" stroke="none" stroke-width="1" fill-rule="evenodd"></use></svg><span class="cleverpush-tooltip">'.concat(Object(c.a)("panel.settings"),'</span></button>\n<button type="button" class="cleverpush-bell-more-btn cleverpush-bell-more-subscribe" style="display: none"><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" x="0px" y="0px" viewBox="0 0 1000 1000" enable-background="new 0 0 1000 1000" xml:space="preserve">\n<g><path d="M380.6,989.9c-30.5,0-59.3-14.2-77.8-38.7L52.6,621C20,578,28.5,516.8,71.5,484.3c43-32.6,104.1-24.1,136.7,18.9l164.6,217.3L786.7,56c28.5-45.7,88.7-59.7,134.5-31.2c45.8,28.4,59.7,88.7,31.2,134.4L463.5,944c-17,27.4-46.4,44.5-78.5,45.9C383.6,990,382.1,990,380.6,989.9L380.6,989.9z"/></g>\n</svg><span class="cleverpush-tooltip">').concat(this.messageSubscribe,'</span></button>\n<button type="button" class="cleverpush-bell-more-btn cleverpush-bell-more-hide" style="display: none"><svg viewBox="0 0 8 8" version="1.1" xmlns="http://www.w3.org/2000/svg"><path d="M8 6.87L6.87 8 4 5.13 1.13 8 0 6.87 2.87 4 0 1.13 1.13 0 4 2.87 6.87 0 8 1.13 5.13 4z"></path></svg><span class="cleverpush-tooltip">').concat(this.messageHide,"</span></button>\n")),this.bell=document.createElement("div"),this.bell.className=i,this.bell.innerHTML="".concat(n,"<div class='cleverpush-bell-message'>").concat(t,"</div>"),document.body.appendChild(this.bell),this.bell&&(this.bell.addEventListener("click",this.onClick.bind(this)),this.config.notificationBellColor&&this.config.notificationBellColor.length&&(this.bell.style.backgroundColor=this.config.notificationBellColor),this.config.notificationBellOffsetBottom&&(this.bell.style.bottom=this.config.notificationBellOffsetBottom+"px"),this.config.notificationBellOffsetLeft&&"right"!==this.config.notificationBellPosition&&(this.bell.style.left=this.config.notificationBellOffsetLeft+"px"),this.config.notificationBellOffsetRight&&"left"!==this.config.notificationBellPosition&&(this.bell.style.right=this.config.notificationBellOffsetRight+"px"),this.config.notificationBellMoreButtons&&this.initMoreButtons())}}},{key:"initMoreButtons",value:function(){var e=this;this.settingsButton=this.bell.querySelector(".cleverpush-bell-more-settings"),this.settingsButton.onclick=function(t){t.stopPropagation(),e.moreButtonsVisible=!1,e.settingsButton.style.display="none",e.hideButton.style.display="none",e.config.notificationBellSettingsLink?window.open(e.config.notificationBellSettingsLink,"_blank"):e.showPanel()},this.subscribeButton=this.bell.querySelector(".cleverpush-bell-more-subscribe"),this.subscribeButton.onclick=function(t){t.stopPropagation(),e.moreButtonsVisible=!1,e.subscribeButton.style.display="none",e.hideButton.style.display="none",e.subscribe()},this.hideButton=this.bell.querySelector(".cleverpush-bell-more-hide"),this.hideButton.onclick=function(t){t.stopPropagation(),e.hideForever()}}},{key:"reset",value:function(e){if(Object(l.c)("bell.reset",e),this.isSubscribed=e,this.moreButtonsVisible=!1,this.bell){var t,i=this.getClassName();e?(i+=" cleverpush-bell-disabled",t=this.messageSubscribed):t=this.messageSubscribe,this.bell.className=i;var n=this.bell.querySelector(".cleverpush-bell-message");n&&(n.innerHTML=t);var o=this.bell.querySelector(".cleverpush-loader");o&&o.parentNode&&o.parentNode.removeChild(o),this.config.notificationBellMoreButtons&&this.initMoreButtons()}}},{key:"hideForever",value:function(){localStorage.setItem("cleverpush-bell-hidden","true"),this.bell.style.display="none"}},{key:"showMessage",value:function(e,t){if(this.bell){var i=this.bell.querySelector(".cleverpush-bell-message");i.className+=" cleverpush-bell-message-open",i.innerHTML=e,setTimeout((function(){i.innerHTML=Object(c.a)("bell.subscribe"),i.className="cleverpush-bell-message"}),1e3*t)}}},{key:"showPanel",value:function(){this.panel||(this.panel=new a.a(this.config,this.subscriptionManager,this.triggerEvent,this.api)),this.panel.show()}},{key:"setLoading",value:function(){this.bell.className+=" cleverpush-bell-loading",this.bell.innerHTML+='<div class="cleverpush-loader"><div></div><div></div><div></div><div></div></div>'}},{key:"subscribe",value:function(){var e=this;Object(l.c)("bell.subscribe");var t=this.subscriptionManager.getNotificationPermission(!0),i="default"===t,n=function(t){e.confirm&&i&&e.confirm.hideBackdrop(),!t.message||t instanceof u.a||e.showMessage(t.message,5),!e.config.ownDomain||"https:"!==location.protocol||"denied"!==t.reason&&"default"!==t.reason?t&&l.b.error(t):e.subscriptionManager.confirm&&e.subscriptionManager.confirm.showBackdrop(void 0,"denied",t.message)};if(this.confirm&&(this.config.showConfirmAlert||!this.config.ownDomain||"https:"!==window.top.location.protocol&&"localhost"!==window.top.location.hostname))this.confirm.setAutoHideBackdrop("granted"===t||Object(p.g)()),this.confirm.show(n);else if(!this.subscriptionManager.isSubscribing){l.b.debug("showBackdrop",i),"denied"!==t&&this.setLoading();var o=function(){"PREVIEW"!==e.config.env&&e.subscriptionManager.subscribeForce(e.isSubscribed).then((function(t){e.confirm&&i&&e.confirm.hideBackdrop(),"denied"===t&&e.subscriptionManager.confirm&&e.subscriptionManager.confirm.showBackdrop(void 0,"denied",Object(c.a)("popup.info").formatCleverPush("<strong>"+(Object(c.a)("confirm.allowBrowser")||Object(c.a)("confirm.allow"))+"</strong>"))})).catch((function(o){e.reset(e.isSubscribed),"default"!==t&&"denied"===o.reason&&e.subscriptionManager.confirm&&e.subscriptionManager.confirm.showBackdrop(void 0,"denied",o.message),n(i)}))};Object(h.b)().then((function(){e.confirm&&i?(e.confirm.showBackdrop(),o()):e.confirm&&"granted"===t?e.confirm.appendConfirmBox(e.config.confirmAlertTheme,void 0,void 0,(function(t){t?o():e.reset(e.isSubscribed)})):o()}))}this.api.confirmAlertShown()}},{key:"toggleMoreButtons",value:function(){Object(l.c)("bell.toggleMoreButtons");var e=this.bell.querySelector(".cleverpush-bell-message");this.moreButtonsVisible?(this.settingsButton.style.display="none",this.subscribeButton.style.display="none",this.hideButton.style.display="none",this.moreButtonsVisible=!1,this.isSubscribed&&(this.bell.className+=" cleverpush-bell-disabled"),e&&window.innerWidth<768&&(e.className="cleverpush-bell-message"),window.document.activeElement&&window.document.activeElement.blur()):(this.isSubscribed?(this.settingsButton.style.display="flex",this.bell.className=this.getClassName()):this.subscribeButton.style.display="flex",this.hideButton.style.display="flex",this.moreButtonsVisible=!0,e&&window.innerWidth<768&&(e.className+=" cleverpush-bell-message-open"))}},{key:"onClick",value:function(){var e=this;if(Object(l.c)("bell.onClick",!!this.bell),this.bell){"function"==typeof this.handleLoadSdk?(this.setLoading(),this.handleLoadSdk().then((function(){window.CleverPush.waitForBell().then((function(){e.bell.parentNode.removeChild(e.bell),window.CleverPush.bell.onClick()}))})).catch((function(e){l.b.error("Bell loading failed",e)}))):e.config.notificationBellMoreButtons?e.toggleMoreButtons():e.isSubscribed?e.showPanel():e.subscribe()}}}]),e}()},function(e,t,i){"use strict";i.d(t,"a",(function(){return u}));var n=i(5),o=i.n(n),r=i(6),s=i.n(r),a=i(1),c=i(0),l=i(21),u=function(){function e(t,n,r,s,a){var c=this;o()(this,e),this.id=t,this.element=n,this.element&&(this.config=r,this.subscriptionManager=s,this.isSubscribed=this.subscriptionManager.subscribed,this.api=a,this.showTopics=!0,this.elementConfig=this.element.dataset||{},i(71),this.subscriptionManager.isSubscribed().then((function(e){c.show(e)})),this.channelTopics=(this.config.channelTopics||[]).filter((function(e){var t=!0;return t&&e.matchPath&&e.matchPath.length&&(t=new RegExp(e.matchPath).test(window.location.pathname)),t&&e.notMatchPath&&e.notMatchPath.length&&(t=!new RegExp(e.notMatchPath).test(window.location.pathname)),t})),this.facebookEnabled=!1,this.config.facebookPageId&&this.config.facebookPageId.length&&(this.facebookEnabled=!0,this.facebookUserRef=this.subscriptionManager.storageManager.getFacebookUserRef(),this.facebookUserRef||(this.facebookUserRef="".concat(this.config.channelId,"-"),this.facebookUserRef+=Math.random().toString(36).slice(2))))}return s()(e,[{key:"getSelectedTopics",value:function(){Object(c.c)("getSelectedTopics");var e=(this.channelTopics||[]).map((function(e){return e._id}));if(this.element){var t=this.element.querySelectorAll('input[name="topics[]"]');e=[];for(var i=0;i<t.length;i+=1)"checkbox"!==t[i].type&&"radio"!==t[i].type||!t[i].checked||e.push(t[i].value)}return e}},{key:"getBrandingLinks",value:function(){var e=[];return this.config.hideBranding||e.push('<a href="https://cleverpush.com/" target="_blank" style="'.concat(this.config.confirmAlertThemeLinkColor?"color: "+this.config.confirmAlertThemeLinkColor+" !important":"",'">Powered by CleverPush</a>')),this.config.privacyPolicyUrl&&e.push('<a href="'.concat(this.config.privacyPolicyUrl,'" target="_blank" style="').concat(this.config.confirmAlertThemeLinkColor?"color: "+this.config.confirmAlertThemeLinkColor+" !important":"",'">').concat(this.config.privacyPolicyText||Object(a.a)("privacy"),"</a>")),this.config.faqText&&this.config.faqUrl&&e.push('<a href="'.concat(this.config.faqUrl,'" target="_blank" style="').concat(this.config.confirmAlertThemeLinkColor?"color: "+this.config.confirmAlertThemeLinkColor+" !important":"",'">').concat(this.config.faqText||"FAQ","</a>")),e.join(" &nbsp;/&nbsp; ")}},{key:"show",value:function(e){var t,i=this;this.isSubscribed=e,this.element.id="cleverpush-content-button-".concat(this.id);var n=function(){i.button=i.element.querySelector(".cleverpush-content-button-btn-subscribe"),i.button&&(i.button.addEventListener("click",i.onClick.bind(i)),i.element&&i.element.dataset&&(i.element.dataset.buttonBackgroundColor&&(i.button.style.backgroundColor=i.element.dataset.buttonBackgroundColor),i.element.dataset.buttonColor&&(i.button.style.color=i.element.dataset.buttonColor))),i.unsubscribeButton=i.element.querySelector(".cleverpush-content-button-btn-unsubscribe"),i.unsubscribeButton&&(i.unsubscribeButton.addEventListener("click",i.onClickUnsubscribe.bind(i)),i.element&&i.element.dataset&&i.element.dataset.buttonBackgroundColor&&i.unsubscribeButton.style.setProperty("border-color",i.element.dataset.buttonBackgroundColor,"important")),i.topicSelection=i.element.querySelector(".cleverpush-content-button-topics"),i.saveTopicsButton=i.element.querySelector(".cleverpush-content-button-save-topics-button"),i.saveTopicsButton&&(i.element.dataset.buttonBackgroundColor&&(i.saveTopicsButton.style.backgroundColor=i.element.dataset.buttonBackgroundColor),i.saveTopicsButton.addEventListener("click",i.saveTopics.bind(i))),i.reset(e)},o='\n<div class="cleverpush-content-button-btn-wrap">\n<button class="cleverpush-content-button-btn cleverpush-content-button-btn-subscribe">'.concat(this.elementConfig.buttonText||Object(a.a)("bell.subscribe"),'</button>\n<button class="cleverpush-content-button-btn cleverpush-content-button-btn-unsubscribe" title="').concat(Object(a.a)("unsubscribe.title"),'" style="display: none;">&times;</button>\n</div>\n');this.facebookEnabled&&("facebook"===CleverPush.browserType&&(o=""),this.config.facebookDoubleOptIn&&!this.facebookDoubleOptInConfirmed&&(o+='<div class="cleverpush-topics cleverpush-confirm-topics"><div><label><input type="'.concat(this.config.confirmAlertRadioButtonTopics?"radio":"checkbox",'" id="cleverpush-facebook-checkbox"> Ich akzeptiere die <a href="').concat(this.config.privacyPolicyUrl,'">Datenschutzerklärung</a></label></div></div>')),o+='<div class="fb-messenger-checkbox-wrap"><div class="fb-send-to-messenger" origin="'.concat(location.origin,'" page_id="').concat(this.config.facebookPageId,'" messenger_app_id="').concat(this.config.facebookAppId,'" user_ref="').concat(this.facebookUserRef,'" allow_login="true" size="large" style="margin-top: 10px;"></div></div>'));var r="";if(this.channelTopics&&this.channelTopics.length&&this.subscriptionManager.getTopics().then((function(n){r+='<div class="cleverpush-topics cleverpush-content-button-topics">',i.channelTopics.filter((function(e){return!e.parentTopic})).sort((function(e,t){return e.sort-t.sort})).forEach((function(t){var o=t.name;"windows-1252"!==document.characterSet&&"iso-8859-1"!==document.characterSet||(o=decodeURIComponent(escape(t.name)));var s=i.channelTopics.filter((function(e){return e.parentTopic===t._id}));r+='<div><label><input type="'.concat(i.config.confirmAlertRadioButtonTopics?"radio":"checkbox",'" name="topics[]" value="').concat(t._id,'"').concat(!e&&!t.defaultUnchecked||n&&n.indexOf(t._id)>-1?' checked="checked"':"","> ").concat(o,"</label></div>"),s.length&&s.forEach((function(t){var o=t.name;"windows-1252"!==document.characterSet&&"iso-8859-1"!==document.characterSet||(o=decodeURIComponent(escape(t.name))),r+='<div class="topic-child" style="margin-left: 20px; font-size: 90%"><label><input type="'.concat(i.config.confirmAlertRadioButtonTopics?"radio":"checkbox",'" name="topics[]" value="').concat(t._id,'" ').concat(!e&&!t.defaultUnchecked||n&&n.indexOf(t._id)>-1?"checked":"","> ").concat(o,"</label></div>")}))})),r+='<button type="button" class="cleverpush-content-button-save-topics-button cleverpush-content-button-btn" style="display: none;">'.concat(Object(a.a)("panel.save"),"</button>"),r+="</div>",t()})),(t="box-simple"===this.elementConfig.type||"box-count"===this.elementConfig.type?function(){i.element.innerHTML='<div class="cleverpush-content-button-box cleverpush-content-button-'.concat(i.elementConfig.type,'">')+'<div class="cleverpush-content-button-top">'+'  <div class="cleverpush-content-button-icon" style="background-image: url(\''.concat(i.config.channelIcon,"')\"></div>")+'  <div class="cleverpush-content-button-body">'+'    <div class="cleverpush-content-button-title">'.concat(i.elementConfig.title||i.config.channelName,"</div>")+'    <div class="cleverpush-content-button-text">'.concat(i.elementConfig.text||Object(a.a)("confirm.info"),"</div>")+'  </div></div><div class="cleverpush-content-button-bottom">'+r+o+'  <div class="cleverpush-clearfix"></div></div><div class="cleverpush-content-button-branding">'+"  <span>\n               ".concat(i.getBrandingLinks(),"\n             </span>")+"</div></div>",n()}:function(){i.element.className+=" cleverpush-content-button-simple",i.element.innerHTML=o,n()})(),this.facebookEnabled){var s=function(){l.a.initFacebook((function(){"undefined"!=typeof FB&&FB.XFBML.parse()}))};this.config.facebookDoubleOptIn?(this.facebookDoubleOptInConfirmed=!0,this.facebookConfirmCheckbox=this.element.querySelector("#cleverpush-facebook-checkbox"),this.facebookConfirmCheckbox&&this.facebookConfirmCheckbox.addEventListener("click",(function(){s()}))):s()}}},{key:"reset",value:function(e){this.isSubscribed=e,this.button&&(e?(this.button.innerHTML=this.elementConfig.buttonTextSubscribed||"✓&nbsp; "+Object(a.a)("bell.subscribed"),this.button.disabled=!0,this.element&&this.element.dataset&&this.element.dataset.buttonBackgroundColor&&this.button.style.setProperty("border-color",this.element.dataset.buttonBackgroundColor,"important")):(this.button.innerHTML=this.elementConfig.buttonText||Object(a.a)("bell.subscribe"),this.button.disabled=!1,this.element&&this.element.dataset&&this.element.dataset.buttonBackgroundColor&&this.button.style.removeProperty("border-color"))),this.unsubscribeButton&&(this.unsubscribeButton.style.display=e?"block":"none"),this.topicSelection&&(this.topicSelection.style.display=e&&!this.showTopics?"none":"block"),this.saveTopicsButton&&(this.saveTopicsButton.style.display=e?"block":"none")}},{key:"onClick",value:function(e){var t,i=this;e.preventDefault(),this.api.confirmAlertShown(),this.subscriptionManager.setTopics(this.getSelectedTopics()),this.button.innerHTML='<div class="cleverpush-loader"><div></div><div></div><div></div><div></div></div>',this.config.confirmAlertSelectTopicsLater&&(t=!0,this.config.confirmAlertSelectTopicsLater=!1),this.subscriptionManager.subscribeForce(this.isSubscribed).then((function(e){t&&(i.config.confirmAlertSelectTopicsLater=!0)})).catch((function(e){!i.config.ownDomain||"https:"!==location.protocol||"denied"!==e.reason&&"default"!==e.reason?c.b.error(e):i.subscriptionManager.confirm&&i.subscriptionManager.confirm.showBackdrop(void 0,"denied",e.message)}))}},{key:"onClickUnsubscribe",value:function(e){e.preventDefault(),this.subscriptionManager.unsubscribe(!1).then((function(){}))}},{key:"saveTopics",value:function(e){var t=this;if(e.preventDefault(),!this.savingTopics){this.savingTopics=!0,this.saveTopicsButton.innerHTML+="...",this.saveTopicsButton.disabled=!0,this.element&&this.element.dataset&&this.element.dataset.buttonBackgroundColor&&this.saveTopicsButton.style.setProperty("border-color",this.element.dataset.buttonBackgroundColor,"important");var i=function(e){e?(t.saveTopicsButton.innerHTML='<span style="color: #009222">'.concat(Object(a.a)("panel.successfullySaved"),"</span>"),setTimeout((function(){t.saveTopicsButton.disabled=!1,t.saveTopicsButton.innerHTML=Object(a.a)("panel.save"),t.savingTopics=!1}),2e3)):(t.saveTopicsButton.disabled=!1,t.saveTopicsButton.innerHTML=Object(a.a)("panel.save"),t.savingTopics=!1)},n=this.getSelectedTopics();this.subscriptionManager.setTopics(n).then((function(){t.subscriptionManager.sync(!1,n).then((function(){i(!0)})).catch((function(){i(!1)}))})).catch((function(){i(!1)}))}}}]),e}()},function(e,t,i){"use strict";i.d(t,"a",(function(){return u}));var n=i(5),o=i.n(n),r=i(6),s=i.n(r),a=i(1),c=i(0),l=i(2),u=function(){function e(t,n,r,s,a){o()(this,e),this.id=t,this.element=n,this.element?(this.config=r,this.subscriptionManager=s,this.api=a,this.pushSupported=!1,this.channelTopics=(this.config.channelTopics||[]).filter((function(e){var t=!0;return t&&e.matchPath&&e.matchPath.length&&(t=new RegExp(e.matchPath).test(window.location.pathname)),t&&e.notMatchPath&&e.notMatchPath.length&&(t=!new RegExp(e.notMatchPath).test(window.location.pathname)),t})),this.elementConfig=this.element.dataset||{},i(73),this.show(!1,void 0)):c.b.debug("MultiPlatformWidget: element not found")}return s()(e,[{key:"getBrandingLinks",value:function(){var e=[];return this.config.hideBranding||e.push('<a href="https://cleverpush.com/" target="_blank" style="'.concat(this.config.confirmAlertThemeLinkColor?"color: "+this.config.confirmAlertThemeLinkColor+" !important":"",'">Powered by CleverPush</a>')),this.config.privacyPolicyUrl&&e.push('<a href="'.concat(this.config.privacyPolicyUrl,'" target="_blank" style="').concat(this.config.confirmAlertThemeLinkColor?"color: "+this.config.confirmAlertThemeLinkColor+" !important":"",'">').concat(this.config.privacyPolicyText||Object(a.a)("privacy"),"</a>")),this.config.faqText&&this.config.faqUrl&&e.push('<a href="'.concat(this.config.faqUrl,'" target="_blank" style="').concat(this.config.confirmAlertThemeLinkColor?"color: "+this.config.confirmAlertThemeLinkColor+" !important":"",'">').concat(this.config.faqText||"FAQ","</a>")),e.join(" &nbsp;/&nbsp; ")}},{key:"getSelectedTopics",value:function(){Object(c.c)("getSelectedTopics");var e=(this.channelTopics||[]).map((function(e){return e._id}));if(this.element){var t=this.element.querySelectorAll('input[name="topics[]"]');e=[];for(var i=0;i<t.length;i+=1)"checkbox"!==t[i].type&&"radio"!==t[i].type||!t[i].checked||e.push(t[i].value)}return e}},{key:"getMessengerParam",value:function(){var e="undefined"!=typeof localStorage&&localStorage.getItem("cleverpush-subscription-id")||"";if(e&&window.btoa)try{return window.btoa(JSON.stringify({connSubId:e}))}catch(e){}return""}},{key:"show",value:function(e,t){var i=this;Object(c.c)("MultiPlatformWidget.show",e,t),this.element.id="cleverpush-multi-platform-widget-".concat(this.id);var n=function(e){i.element&&i.element.dataset&&(i.element.dataset.buttonBackgroundColor&&(e.style.backgroundColor=i.element.dataset.buttonBackgroundColor),i.element.dataset.buttonColor&&(e.style.color=i.element.dataset.buttonColor))},o="",r="";e&&"true"!==this.elementConfig.pushDisabled&&(o='\n<div class="cleverpush-multi-platform-widget-btn-wrap">\n<button class="cleverpush-multi-platform-widget-btn cleverpush-multi-platform-widget-btn-subscribe"><i class="cleverpush-icon cleverpush-icon-bell"></i>'.concat(this.elementConfig.buttonText||Object(a.a)("bell.subscribe"),'</button>\n<button class="cleverpush-multi-platform-widget-btn cleverpush-multi-platform-widget-btn-unsubscribe" title="').concat(Object(a.a)("unsubscribe.title"),'" style="display: none;">&times;</button>\n<button class="cleverpush-multi-platform-widget-btn cleverpush-multi-platform-widget-btn-settings" title="').concat(Object(a.a)("panel.editTopics"),'" style="display: none;">').concat(Object(a.a)("panel.settings"),"</button>\n</div>\n"));var s="";this.config.multiChannels&&this.config.multiChannels.facebookChannel&&this.config.multiChannels.facebookChannel.facebookPage&&this.config.multiChannels.facebookChannel.facebookPage.id&&(s='<div class="cleverpush-multi-platform-widget-btn-wrap cleverpush-facebookchannel">\n<a href="https://m.me/'.concat(this.config.multiChannels.facebookChannel.facebookPage.id,"?ref=").concat(this.getMessengerParam(),'" target="_blank" class="cleverpush-multi-platform-widget-btn"><i class="cleverpush-icon cleverpush-icon-facebook"></i>Facebook Messenger</a>\n</div>\n'));var u="";this.config.multiChannels&&this.config.multiChannels.telegramChannel&&this.config.multiChannels.telegramChannel.telegramUsername&&(u='<div class="cleverpush-multi-platform-widget-btn-wrap cleverpush-telegramchannel">\n<a href="https://t.me/'.concat(this.config.multiChannels.telegramChannel.telegramUsername,"?start=").concat(this.getMessengerParam(),'" target="_blank" class="cleverpush-multi-platform-widget-btn"><i class="cleverpush-icon cleverpush-icon-telegram"></i>Telegram</a>\n</div>\n'));var p="";this.config.multiChannels&&this.config.multiChannels.appChannel&&("Android"===l.m.name&&this.config.multiChannels.appChannel.androidPackageName?p='<div class="cleverpush-multi-platform-widget-btn-wrap cleverpush-appchannel">\n<a href="https://play.google.com/store/apps/details?id='.concat(this.config.multiChannels.appChannel.androidPackageName,'" target="_blank" class="cleverpush-multi-platform-widget-btn"><i class="cleverpush-icon cleverpush-icon-android"></i>Android App</a>\n</div>\n'):"iOS"===l.m.name&&this.config.multiChannels.appChannel.iosStoreId&&(p='<div class="cleverpush-multi-platform-widget-btn-wrap cleverpush-appchannel">\n<a href="https://apps.apple.com/us/app/cleverpush/id'.concat(this.config.multiChannels.appChannel.iosStoreId,'" target="_blank" class="cleverpush-multi-platform-widget-btn"><i class="cleverpush-icon cleverpush-icon-ios"></i>iOS App</a>\n</div>\n')));var h=function(){i.element.innerHTML='<div class="cleverpush-multi-platform-widget-box cleverpush-multi-platform-widget-'.concat(i.elementConfig.type,'">')+'<div class="cleverpush-multi-platform-widget-top">'+'  <div class="cleverpush-multi-platform-widget-icon" style="background-image: url(\''.concat(i.config.channelIcon,"')\"></div>")+'  <div class="cleverpush-multi-platform-widget-body">'+'    <div class="cleverpush-multi-platform-widget-title">'.concat(i.elementConfig.title||i.config.channelName,"</div>")+'    <div class="cleverpush-multi-platform-widget-text">'.concat(i.elementConfig.text||"","</div>")+'  </div></div><div class="cleverpush-multi-platform-widget-bottom">'+o+r+s+u+p+'  <div class="cleverpush-clearfix"></div></div><div class="cleverpush-multi-platform-widget-branding">'+"  <span>\n               ".concat(i.getBrandingLinks(),"\n             </span>")+"</div></div>",i.button=i.element.querySelector(".cleverpush-multi-platform-widget-btn-subscribe"),i.button&&(i.button.addEventListener("click",i.onClick.bind(i)),n(i.button)),i.unsubscribeButton=i.element.querySelector(".cleverpush-multi-platform-widget-btn-unsubscribe"),i.unsubscribeButton&&(i.unsubscribeButton.addEventListener("click",i.onClickUnsubscribe.bind(i)),i.element&&i.element.dataset&&i.element.dataset.buttonBackgroundColor&&i.unsubscribeButton.style.setProperty("border-color",i.element.dataset.buttonBackgroundColor,"important")),i.topicSelection=i.element.querySelector(".cleverpush-topics"),i.settingsButton=i.element.querySelector(".cleverpush-multi-platform-widget-btn-settings"),i.settingsButton&&(i.settingsButton.addEventListener("click",i.onClickSettings.bind(i)),n(i.settingsButton)),i.saveTopicsButton=i.element.querySelector(".cleverpush-multi-platform-widget-save-topics-button"),i.saveTopicsButton&&(i.saveTopicsButton.addEventListener("click",i.saveTopics.bind(i)),n(i.saveTopicsButton)),i.reset(e,t)};h(),this.channelTopics&&this.channelTopics.length&&this.subscriptionManager&&this.subscriptionManager.getTopics().then((function(e){r+='<div class="cleverpush-topics cleverpush-multi-platform-widget-topics" style="display: none">',i.channelTopics.filter((function(e){return!e.parentTopic})).sort((function(e,t){return e.sort-t.sort})).forEach((function(n){var o=n.name;"windows-1252"!==document.characterSet&&"iso-8859-1"!==document.characterSet||(o=decodeURIComponent(escape(n.name)));var s=i.channelTopics.filter((function(e){return e.parentTopic===n._id}));r+='<div><label><input type="'.concat(i.config.confirmAlertRadioButtonTopics?"radio":"checkbox",'" name="topics[]" value="').concat(n._id,'"').concat(!t&&!n.defaultUnchecked||e&&e.indexOf(n._id)>-1?' checked="checked"':"","> ").concat(o,"</label></div>"),s.length&&s.forEach((function(e){var t=e.name;"windows-1252"!==document.characterSet&&"iso-8859-1"!==document.characterSet||(t=decodeURIComponent(escape(e.name))),r+='<div class="topic-child" style="margin-left: 20px; font-size: 90%"><label><input type="'.concat(i.config.confirmAlertRadioButtonTopics?"radio":"checkbox",'" name="topics[]" value="').concat(e._id,'" ').concat(e.defaultUnchecked?"":"checked","> ").concat(t,"</label></div>")}))})),r+='<button type="button" class="cleverpush-multi-platform-widget-save-topics-button cleverpush-multi-platform-widget-btn">'.concat(Object(a.a)("panel.save"),"</button>"),r+="</div>",h()}))}},{key:"reset",value:function(e,t){this.button&&(t?(this.button.innerHTML='<i class="cleverpush-icon cleverpush-icon-bell"></i>'+(this.elementConfig.buttonTextSubscribed||"✓&nbsp; "+Object(a.a)("bell.subscribed")),this.button.disabled=!0,this.element&&this.element.dataset&&this.element.dataset.buttonBackgroundColor&&this.button.style.setProperty("border-color",this.element.dataset.buttonBackgroundColor,"important")):(this.button.innerHTML='<i class="cleverpush-icon cleverpush-icon-bell"></i>'+(this.elementConfig.buttonText||Object(a.a)("bell.subscribe")),this.button.disabled=!1,this.element&&this.element.dataset&&this.element.dataset.buttonBackgroundColor&&this.button.style.removeProperty("border-color"))),this.unsubscribeButton&&(this.unsubscribeButton.style.display=t?"block":"none"),this.settingsButton&&this.topicSelection&&(this.settingsButton.style.display=t?"block":"none")}},{key:"saveTopics",value:function(e){var t=this;if(e.preventDefault(),!this.savingTopics){this.savingTopics=!0,this.saveTopicsButton.innerHTML+="...",this.saveTopicsButton.disabled=!0,this.element&&this.element.dataset&&this.element.dataset.buttonBackgroundColor&&this.saveTopicsButton.style.setProperty("border-color",this.element.dataset.buttonBackgroundColor,"important");var i=function(e){e?(t.saveTopicsButton.innerHTML='<span style="color: #009222">'.concat(Object(a.a)("panel.successfullySaved"),"</span>"),setTimeout((function(){t.saveTopicsButton.disabled=!1,t.saveTopicsButton.innerHTML=Object(a.a)("panel.save"),t.savingTopics=!1}),2e3)):(t.saveTopicsButton.disabled=!1,t.saveTopicsButton.innerHTML=Object(a.a)("panel.save"),t.savingTopics=!1)},n=this.getSelectedTopics();this.subscriptionManager.setTopics(n).then((function(){t.subscriptionManager.sync(!1,n).then((function(){i(!0)})).catch((function(){i(!1)}))})).catch((function(){i(!1)}))}}},{key:"onClick",value:function(e){var t=this;e.preventDefault(),this.api.confirmAlertShown(),this.button.innerHTML='<div class="cleverpush-loader"><div></div><div></div><div></div><div></div></div>',this.subscriptionManager.subscribe(!0).then((function(e){})).catch((function(e){!t.config.ownDomain||"https:"!==location.protocol||"denied"!==e.reason&&"default"!==e.reason?c.b.error(e):t.subscriptionManager.confirm&&t.subscriptionManager.confirm.showBackdrop(void 0,"denied",e.message)}))}},{key:"onClickUnsubscribe",value:function(e){e.preventDefault(),this.subscriptionManager.unsubscribe(!1).then((function(){}))}},{key:"onClickSettings",value:function(e){e.preventDefault(),this.topicSelection&&(this.topicSelection.style.display=this.settingsVisible?"none":"block",this.settingsVisible=!this.settingsVisible)}}]),e}()},function(e,t,i){"use strict";i.d(t,"a",(function(){return l}));var n=i(5),o=i.n(n),r=i(6),s=i.n(r),a=i(1),c=i(0),l=function(){function e(t,i,n,r,s){var a=this;o()(this,e),this.id=t,this.element=i,this.element&&(this.config=n,this.subscriptionManager=r,this.api=s,this.isSubscribed=!1,this.hasTag=!1,this.elementConfig=this.element.dataset||{},this.subscriptionManager.storageManager.hasTag(this.elementConfig.tag).then((function(e){a.hasTag=e})),this.subscriptionManager.isSubscribed().then((function(e){a.reset(e)})),this.element&&(this.element.addEventListener("click",this.onClick.bind(this)),this.element.addEventListener("touchstart",this.onClick.bind(this))))}return s()(e,[{key:"reset",value:function(e){this.isSubscribed=e,this.element&&(e&&this.hasTag?this.element.innerHTML=this.elementConfig.buttonTextSubscribed||"✓&nbsp; "+Object(a.a)("bell.subscribed"):this.element.innerHTML=this.elementConfig.buttonText||Object(a.a)("bell.subscribe"))}},{key:"onClick",value:function(e){var t=this;e.preventDefault();var i=function(e){t.hasTag?(t.api.untagSubscription(e,t.elementConfig.tag),t.subscriptionManager.storageManager.removeTag(t.elementConfig.tag)):(t.api.tagSubscription(e,t.elementConfig.tag),t.subscriptionManager.storageManager.addTag(t.elementConfig.tag)),t.hasTag=!t.hasTag,t.reset(t.isSubscribed)};this.isSubscribed?this.subscriptionManager.getSubscriptionId().then((function(e){i(e)})):(this.api.confirmAlertShown(),this.subscriptionManager.subscribe(!0).then((function(e){e?i(e):t.subscriptionManager.getSubscriptionId().then((function(e){i(e)}))})).catch((function(e){!t.config.ownDomain||"https:"!==location.protocol||"denied"!==e.reason&&"default"!==e.reason?c.b.error(e):t.subscriptionManager.confirm&&t.subscriptionManager.confirm.showBackdrop(void 0,"denied",e.message)})))}}]),e}()},function(e,t,i){"use strict";i.d(t,"a",(function(){return l}));var n=i(5),o=i.n(n),r=i(6),s=i.n(r),a=i(1),c=i(0),l=function(){function e(t,i,n,r,s){var a=this;o()(this,e),this.id=t,this.element=i,this.element&&(this.config=n,this.subscriptionManager=r,this.api=s,this.isSubscribed=!1,this.hasTopic=!1,this.topics=[],this.elementConfig=this.element.dataset||{},this.subscriptionManager.storageManager.getTopics().then((function(e){a.topics=e,a.hasTopic=e.indexOf(a.elementConfig.topic)>-1,a.subscriptionManager.isSubscribed().then((function(e){a.reset(e)}))})),this.element&&this.element.addEventListener("click",this.onClick.bind(this)))}return s()(e,[{key:"reset",value:function(e){this.isSubscribed=e,this.element&&(e&&this.hasTopic?this.element.innerHTML=this.elementConfig.buttonTextSubscribed||"✓&nbsp; "+Object(a.a)("bell.subscribed"):this.element.innerHTML=this.elementConfig.buttonText||Object(a.a)("bell.subscribe")),this.toggleButtons(!1)}},{key:"toggleButtons",value:function(e){Object(c.c)("toggleButtons");for(var t=0;t<CleverPush.topicButtons.length;t+=1){CleverPush.topicButtons[t].element.disabled=e}}},{key:"onClick",value:function(e){var t=this;e.preventDefault(),this.toggleButtons(!0);var i=function(e){var i=t.topics.indexOf(t.elementConfig.topic);i>-1?t.topics.splice(i,1):t.topics.push(t.elementConfig.topic),t.hasTopic=!t.hasTopic,t.subscriptionManager.setTopics(t.topics).then((function(){t.subscriptionManager.sync(!1,t.topics).then((function(){t.reset(!0)})).catch((function(){t.reset(!1)}))})).catch((function(){t.reset(!1)}))};this.isSubscribed?this.subscriptionManager.getSubscriptionId().then((function(e){i()})):(this.api.confirmAlertShown(),this.subscriptionManager.subscribe(!0).then((function(e){e?i():t.subscriptionManager.getSubscriptionId().then((function(e){i()}))})).catch((function(e){!t.config.ownDomain||"https:"!==location.protocol||"denied"!==e.reason&&"default"!==e.reason?c.b.error(e):t.subscriptionManager.confirm&&t.subscriptionManager.confirm.showBackdrop(void 0,"denied",e.message),t.toggleButtons(!1)})))}}]),e}()},function(e,t,i){"use strict";function n(e){var t=new Request("https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js",{method:"HEAD",mode:"no-cors"});fetch(t).then((function(e){return e})).then((function(t){e(!1)})).catch((function(t){e(!0)}))}i.d(t,"a",(function(){return n}))},function(e,t,i){"use strict";i.d(t,"a",(function(){return a}));var n=i(5),o=i.n(n),r=i(7),s=i.n(r),a=function e(){o()(this,e)};s()(a,"CONNECTED","connect"),s()(a,"REMOTE_NOTIFICATION_PERMISSION","cleverpush.remoteNotificationPermission"),s()(a,"REMOTE_OPERATION_COMPLETE","cleverpush.operationComplete"),s()(a,"REMOTE_RETRIGGER_EVENT","cleverpush.remoteRetriggerEvent"),s()(a,"MODAL_LOADED","cleverpush.modalPrompt.loaded"),s()(a,"MODAL_PROMPT_ACCEPTED","cleverpush.modalPrompt.accepted"),s()(a,"MODAL_PROMPT_REJECTED","cleverpush.modalPrompt.canceled"),s()(a,"POPUP_LOADED","cleverpush.popup.loaded"),s()(a,"POPUP_ACCEPTED","cleverpush.popup.accepted"),s()(a,"POPUP_REJECTED","cleverpush.popup.canceled"),s()(a,"POPUP_CLOSING","cleverpush.popup.closing"),s()(a,"REMOTE_NOTIFICATION_PERMISSION_CHANGED","cleverpush.remoteNotificationPermissionChanged"),s()(a,"IFRAME_POPUP_INITIALIZE","cleverpush.iframePopupInitialize"),s()(a,"UNSUBSCRIBE_FROM_PUSH","cleverpush.unsubscribeFromPush"),s()(a,"BEGIN_BROWSING_SESSION","cleverpush.beginBrowsingSession"),s()(a,"REQUEST_HOST_URL","cleverpush.requestHostUrl"),s()(a,"SHOW_HTTP_PERMISSION_REQUEST","cleverpush.showHttpPermissionRequest"),s()(a,"IS_SHOWING_HTTP_PERMISSION_REQUEST","cleverpush.isShowingHttpPermissionRequest"),s()(a,"WINDOW_TIMEOUT","cleverpush.windowTimeout"),s()(a,"FINISH_REMOTE_REGISTRATION","cleverpush.finishRemoteRegistration"),s()(a,"FINISH_REMOTE_REGISTRATION_IN_PROGRESS","cleverpush.finishRemoteRegistrationInProgress"),s()(a,"POPUP_BEGIN_MESSAGEPORT_COMMS","cleverpush.beginMessagePortComms"),s()(a,"SERVICEWORKER_COMMAND_REDIRECT","cleverpush.command.redirect"),s()(a,"HTTP_PERMISSION_REQUEST_RESUBSCRIBE","cleverpush.httpPermissionRequestResubscribe"),s()(a,"MARK_PROMPT_DISMISSED","cleverpush.markPromptDismissed")},function(e,t,i){"use strict";var n=i(5),o=i.n(n),r=i(6),s=i.n(r),a=i(12),c=i.n(a),l=i(9),u=i.n(l),p=i(16),h=i.n(p),f=i(13),d=i.n(f),b=i(18),g=i.n(b),m=i(17),v=i(25),_=i(0),w=i(15),y=i(4),M=i(3),k=i(1),E=i(2);i.d(t,"a",(function(){return x}));var x=function(e){function t(e,i,n){var r;if(o()(this,t),(r=c()(this,u()(t).call(this,e,i,n))).storageManager.initDb(),Object(v.a)(e.gcmManifestPath),e.loadIframe){var s="https://".concat(r.config.subdomain,".").concat(r.config.cleverpushDomain||"cleverpush.com"),a=document.createElement("div");a.style.display="none",document.body.appendChild(a),g.a.debug=_.b.getLevel()<2;var l=g.a.connectToChild({url:"".concat(s,"/iframe?origin=").concat(encodeURIComponent(location.origin)),appendTo:a,timeout:3e4});l.iframe.style.display="none",l.promise.then((function(e){_.b.debug("child ready",e),r.iframeMessenger=e,e.setConfig(r.config).then((function(){r.triggerEvent(M.a.INITIALIZED)}))})).catch((function(e){_.b.error("iFrame connection error",e),r.triggerEvent(M.a.INITIALIZED)}))}else r.triggerEvent(M.a.INITIALIZED);return!navigator.permissions||"Firefox"===E.a.name&&E.c<46||navigator.permissions.query({name:"notifications"}).then((function(e){e.onchange=function(){r.isSubscribing||("granted"!==window.Notification.permission&&r.triggerEvent(M.a.UNSUBSCRIBED),"denied"===window.Notification.permission?r.unsubscribe():r.isSubscribed().then((function(e){e||r.triggerEvent(M.a.PERMISSION_RE_GRANTED)})))}})),r}return d()(t,e),s()(t,[{key:"unsubscribe",value:function(e){var i=this;return this.iframeMessenger?this.iframeMessenger.getSubscriptionId().then((function(n){return i.iframeMessenger.unsubscribe(!0).then((function(){return h()(u()(t.prototype),"unsubscribe",i).call(i,e,n)}))})):h()(u()(t.prototype),"unsubscribe",this).call(this,e)}},{key:"isSubscribedViaSubdomain",value:function(){return!0}},{key:"replaceRootWorker",value:function(){var e=this;return new Promise((function(t){"granted"===window.Notification.permission&&navigator.serviceWorker&&"/"===e.getWorkerScope()&&navigator.serviceWorker.controller&&navigator.serviceWorker.controller.scriptURL&&navigator.serviceWorker.controller.scriptURL.indexOf(e.getWorkerPath())<0?(_.b.debug("replacing root service worker..."),navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(e){_.b.debug("replacing root worker result",e),t()})).catch(t)})).catch((function(e){_.b.debug("replacing root service worker failed",e),t()}))):t()}))}},{key:"isSubscribed",value:function(){var e=this;return new Promise((function(t){if("PREVIEW"===e.config.env)return t(!1);var i=function(){e.storageManager.checkIfShouldSync().then((function(i){i?e.sync().then((function(){_.b.debug("httpsManager subscribed = true (1)"),e.subscribed=!0,t(!0)})).catch((function(i){_.b.warn("error while syncing",i),_.b.debug("httpsManager subscribed = true (2)"),e.subscribed=!0,t(!0)})):(_.b.debug("httpsManager subscribed = true (3)"),e.subscribed=!0,t(!0))}))},n=function(){e.isSubscribing?(_.b.debug("httpsManager subscribed = true (6)"),e.subscribed=!0,t(!0)):(e.isSubscribing=!0,e.storageManager.isSubscribed().then((function(i){i?e.registerWorker().then((function(t){return e.pushManagerSubscribe(t)})).then((function(i){return e.sync(i).then((function(){e.isSubscribing=!1,e.triggerEvent(M.a.SUBSCRIBED,e.storageManager.getSubscriptionId()),_.b.debug("httpsManager subscribed = true (4)"),e.subscribed=!0,t(!0)}))})).catch((function(i){_.b.error(i),e.isSubscribing=!1,_.b.debug("httpsManager subscribed = false (5)"),e.subscribed=!1,t(!1)})):(e.isSubscribing=!1,t(!1))})))},o=function(){if("granted"===window.Notification.permission&&navigator.serviceWorker)return e.getActiveWorkerRegistration().then((function(o){return o.pushManager.getSubscription().then((function(r){if(e.tryWorkerUpdate(o),r)return e.storageManager.isSubscribed().then((function(n){n?i():(_.b.debug("httpsManager subscribed = false (7)"),e.subscribed=!1,t(!1))}));_.b.debug("isSubscribed: no subscription found -> resubscribe"),n()}))})).catch((function(i){if(e.config.showConfirmAlertResubscribe)return e.config.showConfirmAlert=!0,void t(!1);_.b.debug("isSubscribed: -> resubscribe ",i),n()}));_.b.debug("isSubscribed: no perm or SW found"),_.b.debug("httpsManager subscribed = false (8)"),e.subscribed=!1,t(!1)};e.replaceRootWorker().then((function(){if(!e.iframeMessenger)return o();e.iframeMessenger.isSubscribed().then((function(t){return _.b.debug("isSubscribed",t),t?e.iframeMessenger.getSubscriptionId().then((function(t){return t===e.storageManager.getSubscriptionId()?o():i()})):o()})).catch((function(i){i&&(_.b.debug("isSubscribed err",i),_.b.error(i)),_.b.debug("httpsManager subscribed = false (9)"),e.subscribed=!1,t(!1)}))}))}))}},{key:"pushManagerSubscribe",value:function(e,t){var i=this;return new Promise((function(n,o){e.pushManager.subscribe(i.getPushManagerSubscribeOptions()).then((function(t){n(t),i.unregisterOtherPushSubscriptions(e)})).catch((function(r){!t&&r&&r.message&&(r.message.indexOf("subscription with a different application server key")>-1||r.message.indexOf("subscription with a different applicationServerKey")>-1)?e.pushManager.getSubscription().then((function(t){t?(i.migratedSubscription=!0,t.unsubscribe().then((function(){i.pushManagerSubscribe(e,!0).then(n).catch(o)})).catch(o)):o(r)})).catch(o):o(r)}))}))}},{key:"canSubscribe",value:function(){var e=this;return new Promise((function(t,i){if("denied"===window.Notification.permission&&e.config.alertHoursDeny&&"was-denied"===localStorage.getItem("cleverpush-subscription-status")&&"denied"!==sessionStorage.getItem("cleverpush-subscription-status"))return e.config.showUnblockTutorial=!0,e.config.showConfirmAlert=!0,void t(!0);if("PREVIEW"===e.config.env)return t(!0);var n=function(){"denied"===window.Notification.permission?i(new y.a("User has manually denied notifications","unsubscribed")):e.storageManager.canSubscribe().then((function(n){_.b.debug("storageStatus canSubscribe",n),n?e.isSubscribed().then((function(e){e?i(new y.a("User is already subscribed","subscribed")):t(!0)})):i(new y.a("User has manually unsubscribed or denied notifications","unsubscribed"))}))},o=function(){if("accengage"!==e.config.importedSubscriptionsProvider||!e.config.importedSubscriptionsSubdomain)return n();var i;(i=e.config,new Promise((function(e){window.addEventListener("message",(function t(i){if(console.log("acc message",i.data),i.data&&"mid:get:storage"===i.data.type)if(window.removeEventListener("message",t),i.data.body){var n=JSON.parse(i.data.body);e(!!n&&!0===n.isOptin)}else e(!1)}));var t=document.querySelector('iframe[name="acc_proxy"]');t?t.contentWindow.postMessage({topic:"mid:get:storage",type:"mid:get:storage",body:{}},"*"):((t=document.createElement("iframe")).src="https://"+i.importedSubscriptionsSubdomain+".accengage.net/pushweb/assets/m_main.html",t.style.display="none",t.style.border="none",t.name="acc_proxy",t.onload=function(){t.contentWindow.postMessage({topic:"mid:get:storage",type:"mid:get:storage",body:{}},"*")},t.onerror=function(){return e(!1)},document.body.appendChild(t))}))).then((function(e){if(!e)return n();t(!1)}))};if(!e.iframeMessenger)return o();e.iframeMessenger.canSubscribe().then((function(e){var t=e.result,n=e.message,r=e.reason;if(_.b.debug("canSubscribe from iframe",t),!0===t)return o();i(new y.a(n,r))}),(function(e){e&&_.b.debug("canSubscribe err iframe",e),i(e)}))}))}},{key:"getSubscriptionId",value:function(){var e=this;return new Promise((function(t){var i=e.storageManager.getSubscriptionId();i?t(i):e.iframeMessenger?e.iframeMessenger.getSubscriptionId().then((function(e){t(e)})):t(null)}))}},{key:"hasNotificationPermission",value:function(){var e=this;return new Promise((function(t){if("PREVIEW"===e.config.env)return t(!1);"granted"===window.Notification.permission?t(!0):t(!1)}))}},{key:"registerForPush",value:function(){var e=this;return new Promise((function(t,i){e.storageManager.setAllowed(),!(e.topics||[]).length&&e.config.confirmAlertNativeTheme&&"cleverpush-confirm-default"!==e.config.confirmAlertNativeTheme&&e.confirm&&e.confirm.hasTopicCheckboxes()&&e.setTopics(e.confirm.getSelectedTopics()),e.registerWorker().then((function(t){return e.pushManagerSubscribe(t)})).then((function(i){return e.sync(i).then((function(){e.isSubscribing=!1,e.triggerEvent(M.a.SUBSCRIBED,e.storageManager.getSubscriptionId()),t("granted")}))})).catch((function(t){_.b.error(t),e.isSubscribing=!1,i(t)}))}))}},{key:"subscribeForce",value:function(e){var t=this;return new Promise((function(n,o){e?n():t.isSubscribing?o(new w.a("A subscription process is already in progress.")):(t.isSubscribing=!0,"default"===Notification.permission?Notification.requestPermission((function(e){if("granted"===e){if(t.registerForPushLater=!1,t.registerForPushLater?t.storageManager.setPending():t.registerForPush().then(n).catch(o),t.confirm&&(t.confirm.hideBackdrop(e),t.config.confirmAlertSelectTopicsLater&&(t.confirm.appendConfirmBox(t.config.confirmAlertSelectTopicsLaterTheme||"cleverpush-confirm-default",!0),t.config.confirmAlertSubscribeLater&&(t.registerForPushLater=!0)),t.config.confirmAlertSelectAttributesLater)){var r=i(34).default;t.selectAttributes=new r(t.config,t),t.selectAttributes.appendConfirmBox(t.config.confirmAlertSelectTopicsLaterTheme||"cleverpush-confirm-default",!0)}}else t.isSubscribing=!1,"default"===e&&(t.storageManager.setClosed(),"Firefox"===E.a.name&&t.storageManager.setTempBlocked()),"denied"===e&&(t.api.confirmAlertDenied(),t.storageManager.setDenied()),o(new y.a(Object(k.a)("popup.info").formatCleverPush("<strong>"+(Object(k.a)("confirm.allowBrowser")||Object(k.a)("confirm.allow"))+"</strong>"),e));_.b.debug("HTTP Permission Request Result:",e)})):"denied"===Notification.permission?(t.isSubscribing=!1,o(new y.a(Object(k.a)("popup.info").formatCleverPush("<strong>"+(Object(k.a)("confirm.allowBrowser")||Object(k.a)("confirm.allow"))+"</strong>"),"denied"))):(_.b.debug("PermissionAlreadyGranted"),t.registerForPush().then(n).catch(o),t.confirm&&t.confirm.hideBackdrop("granted")))}))}},{key:"subscribe",value:function(){var e=this;return this.isSubscribed().then((function(t){return e.subscribeForce(t)}))}},{key:"setClickedNotification",value:function(e){this.storageManager.setClickedNotification(e),this.iframeMessenger&&this.iframeMessenger.setClickedNotification(e)}},{key:"getClickedNotification",value:function(){var e=this;return new Promise((function(t){var i=e.storageManager.getClickedNotification();!i&&e.iframeMessenger?e.iframeMessenger.getClickedNotification().then((function(e){t(e)})):t(i)}))}}]),t}(m.a)},function(e,t,i){"use strict";var n=i(5),o=i.n(n),r=i(6),s=i.n(r),a=i(12),c=i.n(a),l=i(9),u=i.n(l),p=i(10),h=i.n(p),f=i(13),d=i.n(f),b=i(18),g=i.n(b),m=i(17),v=i(0);var _=i(3),w=i(15),y=i(4),M=i(2);i.d(t,"a",(function(){return k}));var k=function(e){function t(e,i,n){var r;if(o()(this,t),(r=c()(this,u()(t).call(this,e,i,n))).isSubscribing=!1,r.iframeMessenger=null,r.popupMessenger=null,r.setTopics=r.setTopics.bind(h()(r)),r.config.subdomain&&r.config.subdomain.length&&!1!==r.config.loadIframe){var s="https://".concat(r.config.subdomain.toLowerCase(),".").concat(r.config.cleverpushDomain||"cleverpush.com"),a=document.createElement("div");a.style.display="none",document.body.appendChild(a),g.a.debug=v.b.getLevel()<2;var l=g.a.connectToChild({url:"".concat(s,"/iframe?origin=").concat(encodeURIComponent(location.origin)),appendTo:a,methods:{onSubscribed:function(e){r.triggerEvent(_.a.SUBSCRIBED,e)}}});l.iframe.style.display="none",l.promise.then((function(e){v.b.debug("child ready",e),r.iframeMessenger=e,e.setConfig(r.config).then((function(){r.triggerEvent(_.a.INITIALIZED)})),r.getTopics().then((function(e){return r.topics=e}))})).catch((function(){v.b.debug("iframe connection failed"),r.triggerEvent(_.a.INITIALIZED)}))}else v.b.debug("iframe subdomain not available"),r.triggerEvent(_.a.INITIALIZED);return!navigator.permissions||"Firefox"===M.a.name&&M.c<46||navigator.permissions.query({name:"notifications"}).then((function(e){e.onchange=function(){r.isSubscribing||("denied"===window.Notification.permission?r.unsubscribe():"granted"===window.Notification.permission&&r.isSubscribed().then((function(e){e||r.triggerEvent(_.a.PERMISSION_RE_GRANTED)})))}})),r}return d()(t,e),s()(t,[{key:"isSubscribed",value:function(){var e=this;return new Promise((function(t){e.iframeMessenger?e.iframeMessenger.isSubscribed().then((function(i){v.b.debug("isSubscribed from iframe",i),i?(v.b.debug("hostManager subscribed = true (3)"),e.subscribed=!0,t(!0)):e.storageManager.isSubscribed(!1).then((function(i){i?e.storageManager.checkIfShouldSync().then((function(i){i&&e.sync().then((function(){v.b.debug("hostManager subscribed = true (1)"),e.subscribed=!0,t(!0)})).catch((function(i){v.b.warn("error while syncing",i),v.b.debug("hostManager subscribed = true (2)"),e.subscribed=!0,t(!0)}))})):(v.b.debug("hostManager subscribed = false (4)"),e.subscribed=!1,t(!1))}))})).catch((function(i){i&&(v.b.debug("isSubscribed err",i),v.b.error(i)),v.b.debug("hostManager subscribed = false (5)"),e.subscribed=!1,t(!1)})):(v.b.debug("hostManager subscribed = false (6)"),e.subscribed=!1,t(!1))}))}},{key:"canSubscribe",value:function(){var e=this;return new Promise((function(t,i){e.iframeMessenger?e.iframeMessenger.canSubscribe().then((function(n){var o=n.result,r=n.message,s=n.reason;v.b.debug("canSubscribe from iframe",o),!0===o?e.storageManager.canSubscribe().then((function(n){v.b.debug("storageStatus canSubscribe",n),n?e.isSubscribed().then((function(e){e?i(new y.a("User is already subscribed","subscribed")):t(!0)})):i(new y.a("User has manually unsubscribed or denied notifications","unsubscribed"))})):i(new y.a(r,s))}),(function(e){v.b.debug("canSubscribe err iframe",e),i(e)})):e.storageManager.canSubscribe().then((function(n){v.b.debug("storageStatus canSubscribe",n),n?e.isSubscribed().then((function(e){e?i(new y.a("User is already subscribed","subscribed")):t(!0)})):i(new y.a("User has manually unsubscribed or denied notifications","unsubscribed"))}))}))}},{key:"subscribeForce",value:function(){return this.subscribe()}},{key:"subscribe",value:function(){var e,t=this;if(!this.isSubscribing){var n="https://".concat(this.config.subdomain||this.config.channelSubdomain,".").concat(this.config.cleverpushDomain||"cleverpush.com","/subscribe");this.config.confirmAlertTestId&&(n+="?confirmAlertTestId=".concat(this.config.confirmAlertTestId)),e=function(e,t,i,n){Object(v.c)("popup",e,t,i);var o=void 0!==window.screenLeft?window.screenLeft:screen.left,r=void 0!==window.screenTop?window.screenTop:screen.top,s=(window.innerWidth?window.innerWidth:document.documentElement.clientWidth?document.documentElement.clientWidth:screen.width)/2-t/2+o,a=(window.innerHeight?window.innerHeight:document.documentElement.clientHeight?document.documentElement.clientHeight:screen.height)/2-i/2+r,c="scrollbars=yes";"boolean"==typeof n&&n&&(a=1e5,s=1e5,c="toolbar=no,status=no,menubar=no,scrollbars=no,resizable=no,visible=none");var l=window.open(e,"_blank","width=".concat(t,", height=").concat(i,", top=").concat(a,", left=").concat(s).concat(void 0!==c?c:""));return l&&(!n&&l.focus?l.focus():n&&(l.blur(),l.opener.window.focus(),window.self.window.blur(),window.focus())),l}(n,800,600)}return new Promise((function(n,o){if(t.isSubscribing)v.b.error("A subscription process is already in progress."),o(new w.a);else{t.isSubscribing=!0;var r=function(){t.isSubscribing=!1,t.getSubscriptionId().then((function(e){if(e){if(t.storageManager.setSubscribed(e),t.iframeMessenger&&t.iframeMessenger.setSubscribed(e),t.triggerEvent(_.a.SUBSCRIBED,e),t.config.confirmAlertSelectTopicsLater&&t.confirm.appendConfirmBox(t.config.confirmAlertSelectTopicsLaterTheme||"cleverpush-confirm-default",!0),t.config.confirmAlertSelectAttributesLater){var o=i(34).default;t.selectAttributes=new o(t.config,t),t.selectAttributes.appendConfirmBox(t.config.confirmAlertSelectTopicsLaterTheme||"cleverpush-confirm-default",!0)}n("granted")}else t.storageManager.setClosed(),n("default")}))};e?function(e,t){if(e){var i,n=function(){i&&(clearInterval(i),i=null),t()};i=setInterval((function(){try{e&&!e.closed||n()}catch(e){n()}}),100)}}(e,r):(v.b.error("Popup blocked - Somehow we tried to open a popup without a click event."),r())}}))}},{key:"unsubscribe",value:function(e){var t=this;if(this.iframeMessenger)return this.iframeMessenger.unsubscribe(e).then((function(){t.storageManager.setUnsubscribed(e),t.triggerEvent(_.a.UNSUBSCRIBED)}));this.storageManager.setUnsubscribed(e),this.triggerEvent(_.a.UNSUBSCRIBED)}},{key:"getSubscriptionId",value:function(){var e=this;return new Promise((function(t){e.iframeMessenger.getSubscriptionId().then((function(e){t(e)}))}))}},{key:"hasNotificationPermission",value:function(){var e=this;return new Promise((function(t){if("PREVIEW"===e.config.env)return t(!1);e.iframeMessenger?e.iframeMessenger.hasNotificationPermission().then((function(e){t(e)})):t(!1)}))}},{key:"getNotificationPermission",value:function(){var e=this;return new Promise((function(t){e.iframeMessenger?e.iframeMessenger.getNotificationPermission().then((function(e){t(e)})):t()}))}},{key:"setTopics",value:function(e){return this.topics=e,this.iframeMessenger?this.iframeMessenger.setTopics(e):Promise.resolve()}},{key:"getTopics",value:function(){return this.iframeMessenger?this.iframeMessenger.getTopics():Promise.resolve([])}},{key:"getStoredNotifications",value:function(){var e=this;return new Promise((function(t){e.iframeMessenger?e.iframeMessenger.getStoredNotifications().then((function(e){t(e)})):t([])}))}},{key:"deleteStoredNotification",value:function(e){var t=this;return new Promise((function(i){t.iframeMessenger?t.iframeMessenger.deleteStoredNotification(e).then(i):i()}))}}]),t}(m.a)},function(e,t,i){e.exports=i(54)},function(e,t,i){"use strict";i.r(t);var n,o=i(22),r=i.n(o),s=i(8),a=i.n(s),c=i(36),l=i(0);if(window.__cleverPushSdkLoadCount=(window.__cleverPushSdkLoadCount||0)+1,window.__cleverPushSdkLoadCount>1)l.b.warn("The SDK is included more than once. Please only load the CleverPush SDK once in your code.");else if("object"===a()(window.CleverPush)&&Array.isArray(window.CleverPush)&&(n=r()(window.CleverPush)),(void 0===window.CleverPush||"object"===a()(window.CleverPush)&&Array.isArray(window.CleverPush))&&(window.CleverPush=new c.a),n)for(var u=0;u<n.length;u+=1)window.CleverPush.executeFunction(n[u]);Object.defineProperty(Array.prototype,Symbol.toStringTag,{value:"Array"})},function(e,t){e.exports=function(e){if(Array.isArray(e)){for(var t=0,i=new Array(e.length);t<e.length;t++)i[t]=e[t];return i}}},function(e,t){e.exports=function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}},function(e,t){e.exports=function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}},function(e,t){(function(t){e.exports=t}).call(this,{})},function(e,t){e.exports=function(e){return-1!==Function.toString.call(e).indexOf("[native code]")}},function(e,t,i){var n=i(27);function o(t,i,r){return!function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}()?e.exports=o=function(e,t,i){var o=[null];o.push.apply(o,t);var r=new(Function.bind.apply(e,o));return i&&n(r,i.prototype),r}:e.exports=o=Reflect.construct,o.apply(null,arguments)}e.exports=o},function(e,t,i){(e.exports=i(19)(void 0)).push([e.i,'@-webkit-keyframes fadeIn{to{opacity:1}}@keyframes fadeIn{to{opacity:1}}.cleverpush-confirm{-moz-user-select:none;-ms-user-select:none;-webkit-box-sizing:border-box;-webkit-user-select:none;background-color:#f0eff0;border:1px solid #bbb;border-top:none;box-sizing:border-box;font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica,Arial,sans-serif;left:calc(50% - 230px);margin:0;max-height:100%;overflow:auto;padding:0 20px 10px;position:fixed;top:0;user-select:none;width:460px;z-index:2147483002}.cleverpush-confirm-hide-channel-icon .cleverpush-confirm-icon{display:none!important}.cleverpush-confirm-hide-channel-icon .cleverpush-confirm-text{width:100%!important}.cleverpush-confirm-static{left:auto;position:static!important;top:auto}.cleverpush-confirm-chrome,.cleverpush-confirm-material{-webkit-box-shadow:0 4px 30px rgba(0,0,0,.4);border:none;box-shadow:0 4px 30px rgba(0,0,0,.4)}.cleverpush-confirm-hide{background:none!important;border:none!important;cursor:pointer;display:none!important;float:right!important;font-size:18px!important;margin:-10px -10px 0 0;padding:0;position:relative;z-index:1}.cleverpush-confirm-mac{-webkit-box-shadow:0 2px 24px rgba(0,0,0,.4);background-color:#f0f0f0;box-shadow:0 2px 24px rgba(0,0,0,.4)}.cleverpush-confirm-icon{display:inline-block;float:left;margin:15px 15px 0 0!important;padding:0!important;position:relative}.cleverpush-confirm-icon img{border:none;height:65px;margin:0;padding:0;width:65px}.cleverpush-confirm-text{color:#000;display:inline-block!important;line-height:1.4em!important;margin:0!important;padding:10px 0 0!important;position:relative!important;text-align:left!important;width:calc(100% - 80px)!important}.cleverpush-confirm-text .cleverpush-confirm-topics{font-size:13px!important;margin-bottom:15px}.cleverpush-confirm-text .cleverpush-confirm-topics label{color:#333;cursor:pointer;display:block;font-family:inherit;font-size:inherit;font-weight:500;line-height:1;margin:0}.cleverpush-confirm-text .cleverpush-confirm-topics label>input[type=checkbox],.cleverpush-confirm-text .cleverpush-confirm-topics label>input[type=radio]{-moz-appearance:checkbox;-webkit-appearance:checkbox;appearance:checkbox;display:inline-block;height:auto;line-height:normal;margin-bottom:0;margin-right:4px;margin-top:0;min-height:0;vertical-align:baseline;width:auto}.cleverpush-confirm-text .cleverpush-confirm-topics label>input[type=radio]{-moz-appearance:radio;-webkit-appearance:radio;appearance:radio}.cleverpush-confirm-text .cleverpush-confirm-topics>div:not(:last-of-type){margin-bottom:7.5px}.cleverpush-confirm-title{color:#000;font-size:14px;font-weight:700;line-height:1.4em;margin-bottom:5px;text-align:left}.cleverpush-confirm-mac .cleverpush-confirm-title{font-size:15px}.cleverpush-confirm-info{font-size:12px!important;font-weight:400;line-height:1.4em!important;margin:10px 0!important;padding:0!important;text-align:left!important}.cleverpush-confirm-branding{color:#ccc;float:left;font-size:10px;line-height:1.2em!important;margin-top:8px}.cleverpush-confirm-branding a{color:#999!important;font-weight:400;text-decoration:none}.cleverpush-confirm-buttons{float:right!important;margin:0!important;padding:0!important}.cleverpush-confirm-btn{-webkit-box-shadow:none!important;-webkit-box-sizing:border-box!important;background:#4286f6;border:1px solid #4286f6!important;border-radius:4px!important;box-shadow:none!important;box-sizing:border-box!important;color:#fff!important;cursor:pointer!important;display:inline-block!important;font-family:Arial,sans-serif!important;font-size:14px!important;font-weight:400!important;height:auto!important;line-height:1!important;margin:0!important;padding:8px 12px!important;text-shadow:none!important;text-transform:none!important;vertical-align:middle!important;width:auto!important}.cleverpush-confirm-btn.cleverpush-confirm-btn-allow{padding-left:18px!important;padding-right:18px!important}.cleverpush-confirm-mac .cleverpush-confirm-btn:active{color:#fff!important;outline:none}.cleverpush-confirm-material .cleverpush-confirm-btn{background:#4286f6!important;border:none!important;border-radius:2px!important;height:30px!important;text-transform:uppercase!important}.cleverpush-confirm-material .cleverpush-confirm-btn-allow{border:1px solid #42a2f2!important;font-weight:700!important}.cleverpush-confirm-chrome .cleverpush-confirm-btn-allow:hover,.cleverpush-confirm-material .cleverpush-confirm-btn-allow:hover{background:#55aff7!important}.cleverpush-confirm-chrome .cleverpush-confirm-btn-allow:active,.cleverpush-confirm-material .cleverpush-confirm-btn-allow:active{background:#64b4f4!important;outline:none}.cleverpush-confirm-material .cleverpush-confirm-btn-deny{background:none!important;border:none!important;color:#4286f6!important}.cleverpush-confirm-chrome .cleverpush-confirm-btn-deny:hover,.cleverpush-confirm-material .cleverpush-confirm-btn-deny:hover{background:#eee!important}.cleverpush-confirm-chrome .cleverpush-confirm-btn-deny:active,.cleverpush-confirm-material .cleverpush-confirm-btn-deny:active{background:#ddd!important;color:#000!important;outline:none}.cleverpush-confirm-chrome .cleverpush-confirm-btn{-moz-appearance:none!important;-moz-user-select:none!important;-ms-user-select:none!important;-webkit-appearance:none!important;-webkit-user-select:none!important;appearance:none!important;border:1px solid rgba(0,0,0,.25)!important;border-radius:2px!important;color:#444!important;margin:0 1px 0 0!important;outline:none!important;user-select:none!important}.cleverpush-confirm-chrome .cleverpush-confirm-btn-allow{border:1px solid #4d90fe!important;color:#fff!important}.cleverpush-confirm-btn-allow{font-weight:700!important}.cleverpush-confirm-btn:first-child{margin-right:15px!important}.cleverpush-confirm-btn-deny{background:#fff!important;border-color:#ccc!important;color:#000!important;font-size:12px!important}.cleverpush-confirm-flat,.cleverpush-confirm-flat .cleverpush-confirm-btn{-webkit-box-shadow:none!important;box-shadow:none!important}.cleverpush-confirm-flat .cleverpush-confirm-btn{border:none!important}.cleverpush-confirm-flat .cleverpush-confirm-btn:active{background:none;opacity:.8}.cleverpush-confirm-flat .cleverpush-confirm-btn-allow{background:#4aadfd!important}.cleverpush-clearfix-bottom{margin-top:5px}.cleverpush-clearfix{clear:both}.cleverpush-confirm-modal{border:none!important;border-radius:4px!important;padding:20px 30px!important;top:20vh}.cleverpush-confirm-modal .cleverpush-confirm-hide{color:#777;display:block!important}.cleverpush-confirm-modal .cleverpush-confirm-icon{display:block!important;float:none!important;margin-top:0!important;text-align:center!important;width:100%!important}.cleverpush-confirm-icon-round img{border-radius:50%}.cleverpush-confirm-modal .cleverpush-confirm-info,.cleverpush-confirm-modal .cleverpush-confirm-text{display:block!important;text-align:center!important;width:100%!important}.cleverpush-confirm-modal .cleverpush-confirm-branding,.cleverpush-confirm-modal .cleverpush-confirm-buttons{float:none!important;text-align:center!important}.cleverpush-confirm-modal .cleverpush-confirm-branding{margin-top:20px}.cleverpush-confirm-topbar{border:none!important;left:0!important;right:0!important;top:0!important;width:100%!important}.cleverpush-confirm-topbar .cleverpush-confirm-wrap{-webkit-box-sizing:border-box;box-sizing:border-box;left:calc(50% - 300px);max-width:600px;padding-left:120px;position:relative!important;top:0}.cleverpush-confirm-topbar .cleverpush-confirm-text .cleverpush-confirm-topics{margin-bottom:0}.cleverpush-confirm-topbar.cleverpush-confirm-topbar-native .cleverpush-confirm-wrap{left:auto!important}.cleverpush-confirm-topbar-arrow{background-image:url(data:image/svg+xml;base64,PHN2ZyB2ZXJzaW9uPSIxIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAxMjgwIDY0MCI+PHBhdGggZD0iTTExMTkuMyA3OS4xYy01LjcgMi44LTEwLjMgOC4yLTEwLjMgMTIgMCA4LjggMTEuNSAyMC42IDQ1LjkgNDcuMyA0Ny42IDM2LjkgNjAuOSA0OS40IDcxLjggNjcuNiA2LjIgMTAuNCA3LjggMTUuNCA3LjggMjUgMCA3LjEtLjQgOS40LTIuNiAxNC4xLTUuNSAxMS43LTIxLjcgMjUuMy00MC41IDM0LTkuNCA0LjMtMjguOSAxMi4xLTM0LjYgMTMuNy0xLjguNS0xMS4yIDMuNS0yMC44IDYuNi01MS4yIDE2LjYtMTA4LjkgMzEuMS0xNTkuMSA0MC00OSA4LjctODMuNCAxMi41LTE4MC40IDIwLjEtMjYuNSAyLjEtNDUuNiA0LTc3IDcuNi0xNC4zIDEuNi02OC4xIDcuNy0xMTkuNSAxMy40LTE1My41IDE3LjItMjE5LjggMjUuOS0yNjUuNSAzNS0yMy40IDQuNy0yOS42IDYuNC01NiAxNS4xLTI1LjIgOC4zLTM2LjUgMTIuNy00MC45IDE1LjctMi43IDEuOS0yLjggMi4xLTEgMy40IDEuMy45IDUuOCAxLjMgMTYuNCAxLjMgMzUuOCAwIDEyMy42LTkuOCAzMTAtMzQuNSA0My4yLTUuNyAxMDAuOC0xMy40IDEyOC0xNyAyNy4yLTMuNiAxMDAuMS0xMi45IDE2Mi0yMC42IDE0MC4yLTE3LjQgMTc1LjYtMjIgMjA0LTI2LjUgNTIuMS04LjIgODQuOS0xNi44IDEzMi0zNC42IDUyLjEtMTkuNyA3OC40LTM4LjYgODgtNjMuMyAzLjEtNy45IDMuNC0yMy4yLjYtMzEuNS02LjEtMTcuOC0xMy42LTI3LjktNDYtNjEuNC02My40LTY1LjctNzQuMy03NS42LTkwLjQtODIuMi03LjUtMy4xLTE2LjEtMy4yLTIxLjktLjN6Ii8+PHBhdGggZD0iTTIxMi44IDM2NC4zYy0zIDEuOS0xNi43IDExLjctMzAuNCAyMS45LTU2LjYgNDItNzIgNTEtMTYzLjkgOTUuOEMzLjkgNDg5LjItMS43IDQ5My4zIDEgNDk1Yy44LjUgMi44IDEgNC40IDEgMS42IDAgMy43LjYgNC41IDEuNCAyLjQgMi4yIDEwLjkgNCA0MS4xIDkuMSA3NS41IDEyLjggOTYuMyAxOC4zIDE4Ny41IDQ5LjggOC44IDMgMTcuNiA1LjggMTkuNSA2LjEgNi45IDEuMSA3LjYtMi4zIDEuOS04LjItMi4zLTIuNC0zLjItNC4yLTMuNC03LjQtLjEtMi40LTIuMi05LjMtNC41LTE1LjMtMTMuMi0zNC40LTE4LjktNTQuMS0yMS42LTc0LjgtMS40LTEwLjEtMS41LTE3LjYtMS00My40LjctMzQuNS41LTM2LjMtNC42LTM2LjMtMS42IDAtMy44LjUtNC45IDEtMiAxLjEtMi42LjEtLjktMS42IDIuMS0yLjEgNC45LTExLjggMy45LTEzLjYtMS40LTIuNi0zLjgtMi4yLTEwLjEgMS41em0tMTUuNiA0My40Yy0xLjEgMi4xLTIuOSA2LjktNCAxMC44LTEwLjEgMzQuNy0xLjYgNzAuOSAyNC43IDEwNS40bDIuNSAzLjQtMy45LTIuMWMtNDAuNS0yMC42LTEwNS40LTM2LTE1Mi45LTM2LjMtMTMuNSAwLTEzLjUgMCAzLjQtNS40IDQ0LjItMTQuMyA5MS00MS41IDEyMS4xLTcwLjQgNS43LTUuNCAxMC41LTkuOCAxMC43LTkuNi4yLjItLjUgMi0xLjYgNC4yeiIvPjwvc3ZnPg==);background-position:50%;background-repeat:no-repeat;background-size:contain;height:80px;line-height:110px;margin-left:-120px;margin-top:40px;opacity:.666;position:absolute;width:90px}.cleverpush-confirm-topbar.cleverpush-confirm-hide-arrow .cleverpush-confirm-topbar-arrow{display:none!important}.cleverpush-confirm-topbar.cleverpush-confirm-hide-arrow .cleverpush-confirm-wrap{padding-left:0}.cleverpush-confirm-wrap{left:auto;max-height:100%;max-width:800px;min-height:105px;overflow:auto;padding-bottom:1px}.cleverpush-confirm-topbar-native,.cleverpush-confirm-topbar-slim-higher-native,.cleverpush-confirm-topbar-slim-native,.cleverpush-confirm-topbox-below-native,.cleverpush-confirm-topbox-native{left:0;right:0}.cleverpush-confirm-topbar-native .cleverpush-confirm-icon,.cleverpush-confirm-topbar-slim-higher-native .cleverpush-confirm-icon,.cleverpush-confirm-topbar-slim-native .cleverpush-confirm-icon,.cleverpush-confirm-topbox-below-native .cleverpush-confirm-icon,.cleverpush-confirm-topbox-native .cleverpush-confirm-icon{margin:5px 15px 0 0!important}.cleverpush-confirm-topbar-native .cleverpush-confirm-text,.cleverpush-confirm-topbar-slim-higher-native .cleverpush-confirm-text,.cleverpush-confirm-topbar-slim-native .cleverpush-confirm-text,.cleverpush-confirm-topbox-below-native .cleverpush-confirm-text,.cleverpush-confirm-topbox-native .cleverpush-confirm-text{padding:5px 0 0!important}.cleverpush-confirm-topbar-native .cleverpush-clearfix-bottom,.cleverpush-confirm-topbar-native .cleverpush-confirm-branding,.cleverpush-confirm-topbar-slim-higher-native .cleverpush-clearfix-bottom,.cleverpush-confirm-topbar-slim-higher-native .cleverpush-confirm-branding,.cleverpush-confirm-topbar-slim-native .cleverpush-clearfix-bottom,.cleverpush-confirm-topbar-slim-native .cleverpush-confirm-branding,.cleverpush-confirm-topbox-below-native .cleverpush-clearfix-bottom,.cleverpush-confirm-topbox-below-native .cleverpush-confirm-branding,.cleverpush-confirm-topbox-native .cleverpush-clearfix-bottom,.cleverpush-confirm-topbox-native .cleverpush-confirm-branding{margin-top:0}.cleverpush-confirm-topbar-native .cleverpush-confirm-buttons,.cleverpush-confirm-topbar-slim-higher-native .cleverpush-confirm-buttons,.cleverpush-confirm-topbar-slim-native .cleverpush-confirm-buttons,.cleverpush-confirm-topbox-below-native .cleverpush-confirm-buttons,.cleverpush-confirm-topbox-native .cleverpush-confirm-buttons{display:none}.cleverpush-confirm-topbar-native .cleverpush-confirm-branding,.cleverpush-confirm-topbar-slim-higher-native .cleverpush-confirm-branding,.cleverpush-confirm-topbar-slim-native .cleverpush-confirm-branding,.cleverpush-confirm-topbox-below-native .cleverpush-confirm-branding,.cleverpush-confirm-topbox-native .cleverpush-confirm-branding{float:right!important}.cleverpush-confirm-notification{border:1px solid #bbb!important;top:10px}.cleverpush-confirm-left{left:10px;right:auto}.cleverpush-confirm-right{left:auto;right:10px}.cleverpush-confirm-notification .cleverpush-confirm-hide{color:#777;display:block!important;margin:0!important;position:absolute!important;right:10px!important}.cleverpush-confirm-round-notification{border-radius:8px;bottom:10px;max-height:calc(100% - 20px);top:auto}.cleverpush-confirm-round-notification .cleverpush-confirm-icon{margin-top:10px!important;position:absolute!important}.cleverpush-confirm-round-notification .cleverpush-confirm-icon img{border-radius:4px;height:35px;width:35px}.cleverpush-confirm-round-notification .cleverpush-confirm-btn{border-radius:500px!important}.cleverpush-confirm-round-notification .cleverpush-clearfix-bottom{border-top:1px solid rgba(0,0,0,.1);padding-top:10px!important}.cleverpush-confirm-round-notification .cleverpush-confirm-text{padding:5px!important;position:static!important;width:100%!important}.cleverpush-confirm-round-notification .cleverpush-confirm-info{border-top:1px solid rgba(0,0,0,.1);margin-top:0!important;padding-top:10px!important}.cleverpush-confirm-round-notification .cleverpush-confirm-title{display:block!important;margin-left:40px!important}.cleverpush-confirm-white{background-color:#fff;color:#3e3e3e}.cleverpush-confirm-light{background-color:#f0f0f0;color:#3e3e3e}.cleverpush-confirm-dark,.cleverpush-confirm-dark .cleverpush-confirm-info,.cleverpush-confirm-dark .cleverpush-confirm-title,.cleverpush-confirm-dark a{background-color:#3e3e3e;color:#fff}.cleverpush-confirm-dark .cleverpush-confirm-branding{color:#888!important}.cleverpush-confirm-dark .cleverpush-confirm-hide{color:#999!important}.cleverpush-unsubscribe{background-color:rgba(0,0,0,.8);bottom:0;color:#eee;font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica,Arial,sans-serif;padding:4px 10px;position:fixed;right:20%}.cleverpush-unsubscribe a{color:#eee!important;font-weight:700!important;text-decoration:none!important}.cleverpush-unsubscribe a:hover{text-decoration:underline!important}.cleverpush-backdrop{-moz-user-select:none;-ms-flex-align:center;-ms-flex-pack:center;-ms-user-select:none;-webkit-box-align:center;-webkit-box-pack:center;-webkit-user-select:none;align-items:center;background-color:#000;background-color:rgba(0,0,0,.75);bottom:0;display:-webkit-box!important;display:-ms-flexbox!important;display:flex!important;justify-content:center;left:0;position:fixed;right:0;top:0;user-select:none;z-index:2147483001}.cleverpush-backdrop.cleverpush-backdrop-blur{-webkit-backdrop-filter:blur(2px);backdrop-filter:blur(2px)}body.has-cleverpush-backdrop.has-cleverpush-backdrop-blur>:not(.cleverpush-backdrop):not(.cleverpush-confirm):not(.cleverpush-confirm-topbar):not(.cleverpush-deny-alert){-webkit-filter:blur(2px);filter:blur(2px)}.cleverpush-backdrop-text{-moz-user-select:none;-ms-user-select:none;-webkit-user-select:none;color:#fff;font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica,Arial,sans-serif;font-size:16px;font-weight:400;margin:0 auto;position:relative;text-align:center;user-select:none;z-index:2}.cleverpush-backdrop-text b,.cleverpush-backdrop-text strong{color:#fff;font-weight:600}.cleverpush-backdrop-text h2{font-size:24px;text-align:center}.cleverpush-backdrop-text h2 *{color:#fff}.cleverpush-backdrop-text h2,.cleverpush-backdrop-text p{color:#fff!important;margin-bottom:10px;margin-top:0;padding-top:0}.cleverpush-backdrop-icon{text-align:center}.cleverpush-backdrop-icon img{border:none;border-radius:50%;display:inline-block;height:65px;margin:0;padding:0;width:65px}.cleverpush-backdrop-branding{bottom:15px;color:#ccc;font-size:12px;font-weight:400;position:absolute;text-align:center;width:100%;z-index:1}.cleverpush-backdrop-branding a{color:#eee;font-weight:400;text-decoration:none}.cleverpush-backdrop-arrow{left:0;position:absolute;top:0;z-index:1}.cleverpush-deny-alert{-moz-user-select:none;-ms-user-select:none;-webkit-box-shadow:0 2px 14px rgba(0,0,0,.2);-webkit-user-select:none;background:#fefefe;border:1px solid #ccc;border-radius:3px;box-shadow:0 2px 14px rgba(0,0,0,.2);color:#303942;font-family:Helvetica Neue,Lucida Grande,sans-serif;font-size:12px;left:80px;padding:7px 10px;position:fixed;top:4px;user-select:none;z-index:99999}.cleverpush-deny-alert:after,.cleverpush-deny-alert:before{border:4px solid hsla(0,0%,100%,0);border-bottom-color:#fff;bottom:100%;content:" ";height:0;left:26px;margin-left:-4px;pointer-events:none;position:absolute;width:0}.cleverpush-deny-alert:before{border-bottom-color:#ccc;border-width:5px;margin-left:-5px}.cleverpush-deny-alert-text{float:left;max-width:200px;pointer-events:none}.cleverpush-deny-alert-close,.cleverpush-deny-alert-text{-moz-user-select:none;-ms-user-select:none;-webkit-user-select:none;user-select:none}.cleverpush-deny-alert-close{background:none;border:none;border-radius:50%;color:#777;cursor:pointer;float:right;font-size:14px;font-weight:700;height:15px;line-height:1;margin-left:8px;margin-right:-8px;margin-top:-5px;outline:none;padding:0;width:15px}.cleverpush-deny-alert-close:hover{background-color:#777;color:#fff}.cleverpush-deny-alert-close:active{background-color:#444}.cleverpush-branding-box{-moz-user-select:none;-ms-user-select:none;-webkit-user-select:none;background:rgba(0,0,0,.85);color:#fff!important;font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica,Arial,sans-serif;font-size:11px!important;line-height:1.5;min-width:0;padding:0 6px;position:fixed;right:0;top:0;user-select:none;z-index:100}.cleverpush-branding-box a{color:#fff!important;font-weight:600!important;text-decoration:none!important}.cleverpush-branding-box .cleverpush-branding-box-close{background:transparent!important;border:none!important;color:#aaa!important;display:inline-block;font-weight:400!important;margin:0 0 0 7px;padding:0;vertical-align:baseline}.cleverpush-branding-box .cleverpush-branding-box-close:focus,.cleverpush-branding-box .cleverpush-branding-box-close:hover{background:transparent!important;color:#aaa!important}.cleverpush-branding-box .cleverpush-branding-box-text{display:inline-block;vertical-align:baseline}.cleverpush-confirm-topbox{max-width:100%;width:540px}.cleverpush-confirm-topbox-below{max-width:100%;width:100%}.cleverpush-confirm-topbox-below .cleverpush-confirm-bottom-info{border-top:1px solid rgba(0,0,0,.1);display:block!important;margin-top:10px;padding-top:10px}.cleverpush-confirm-topbox-below .cleverpush-confirm-bottom-info .cleverpush-confirm-icon{display:block;float:none;margin:0!important;position:absolute}.cleverpush-confirm-topbox-below .cleverpush-confirm-bottom-info .cleverpush-confirm-icon img{height:30px;width:30px}.cleverpush-confirm-topbox-below .cleverpush-confirm-bottom-info-text{color:#ff675b;font-size:12px;line-height:1.25;min-height:30px;padding-left:50px}.cleverpush-confirm-topbox-below.cleverpush-confirm-hide-channel-icon .cleverpush-confirm-bottom-info-text{padding-left:0}.cleverpush-confirm-topbox-below .cleverpush-confirm-text{width:100%!important}.cleverpush-confirm-topbox-below .cleverpush-confirm-icon{display:none}.cleverpush-confirm-topbar-slim,.cleverpush-confirm-topbar-slim-higher{max-width:100%;width:850px}.cleverpush-confirm-speechbubble{bottom:8px;max-width:100%;padding-top:5px;top:auto;width:auto}.cleverpush-confirm-speechbubble-native{width:350px}.cleverpush-confirm-speechbubble-native .cleverpush-confirm-text{padding:5px 0 0!important}.cleverpush-confirm-speechbubble-native .cleverpush-clearfix-bottom,.cleverpush-confirm-speechbubble-native .cleverpush-confirm-branding{margin-top:0}.cleverpush-confirm-speechbubble-native .cleverpush-confirm-buttons{display:none}.cleverpush-confirm-speechbubble .cleverpush-confirm-caret{border:8px solid hsla(0,0%,100%,0);border-bottom-color:#f0eff0;bottom:-16px;content:" ";display:block!important;height:0;margin-left:-8px;pointer-events:none;position:absolute;right:45px;width:0}.cleverpush-confirm-speechbubble .cleverpush-confirm-caret-top{display:none!important}.cleverpush-confirm-speechbubble .cleverpush-confirm-caret-bottom{border-bottom-color:transparent;border-top-color:#f0eff0;display:block!important}.cleverpush-confirm.cleverpush-topic-box .cleverpush-confirm-btn-deny{display:none!important}.cleverpush-confirm.cleverpush-topic-box .cleverpush-confirm-title{display:block;margin-bottom:10px}.cleverpush-confirm.cleverpush-topic-box .cleverpush-confirm-info{display:none}.cleverpush-loader{display:inline-block;height:64px;position:relative;width:64px}.cleverpush-loader div{-webkit-animation:cleverpush-loader 1.2s cubic-bezier(.5,0,.5,1) infinite;-webkit-box-sizing:border-box;animation:cleverpush-loader 1.2s cubic-bezier(.5,0,.5,1) infinite;border:6px solid transparent;border-radius:50%;border-top-color:#fff;box-sizing:border-box;display:block;height:51px;margin:6px;position:absolute;width:51px}.cleverpush-loader div:first-child{-webkit-animation-delay:-.45s;animation-delay:-.45s}.cleverpush-loader div:nth-child(2){-webkit-animation-delay:-.3s;animation-delay:-.3s}.cleverpush-loader div:nth-child(3){-webkit-animation-delay:-.15s;animation-delay:-.15s}@-webkit-keyframes cleverpush-loader{0%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}to{-webkit-transform:rotate(1turn);transform:rotate(1turn)}}@keyframes cleverpush-loader{0%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}to{-webkit-transform:rotate(1turn);transform:rotate(1turn)}}@media (max-width:767px){.cleverpush-confirm{left:10px;right:10px;width:auto}.cleverpush-confirm-topbar .cleverpush-confirm-wrap{left:auto!important;max-width:none!important;padding-left:0!important}.cleverpush-confirm-topbar-arrow{display:none}.cleverpush-confirm-wrap{max-height:100vh;max-width:none;min-height:0;padding-left:0}.cleverpush-confirm-topbar-native.cleverpush-confirm-firefox,.cleverpush-confirm-topbar-slim-higher-native.cleverpush-confirm-firefox,.cleverpush-confirm-topbar-slim-native.cleverpush-confirm-firefox,.cleverpush-confirm-topbox-below-native.cleverpush-confirm-firefox,.cleverpush-confirm-topbox-native.cleverpush-confirm-firefox{bottom:0;top:auto}.cleverpush-deny-alert{left:20px}}@media (min-width:768px){.cleverpush-confirm-topbar-native,.cleverpush-confirm-topbar-slim-higher-native,.cleverpush-confirm-topbar-slim-native,.cleverpush-confirm-topbox-below-native,.cleverpush-confirm-topbox-native{left:50px;padding-left:270px}.cleverpush-confirm-topbar-native.cleverpush-confirm-firefox,.cleverpush-confirm-topbar-slim-higher-native.cleverpush-confirm-firefox,.cleverpush-confirm-topbar-slim-native.cleverpush-confirm-firefox,.cleverpush-confirm-topbox-below-native.cleverpush-confirm-firefox,.cleverpush-confirm-topbox-native.cleverpush-confirm-firefox{left:calc(10% + 125px);padding-left:330px}.cleverpush-confirm-topbar-native.cleverpush-confirm-topbar-native,.cleverpush-confirm-topbar-slim-higher-native.cleverpush-confirm-topbar-native,.cleverpush-confirm-topbar-slim-native.cleverpush-confirm-topbar-native,.cleverpush-confirm-topbox-below-native.cleverpush-confirm-topbar-native,.cleverpush-confirm-topbox-native.cleverpush-confirm-topbar-native{left:0;padding-left:440px}.cleverpush-confirm-topbar-native.cleverpush-confirm-topbar-native.cleverpush-confirm-firefox,.cleverpush-confirm-topbar-slim-higher-native.cleverpush-confirm-topbar-native.cleverpush-confirm-firefox,.cleverpush-confirm-topbar-slim-native.cleverpush-confirm-topbar-native.cleverpush-confirm-firefox,.cleverpush-confirm-topbox-below-native.cleverpush-confirm-topbar-native.cleverpush-confirm-firefox,.cleverpush-confirm-topbox-native.cleverpush-confirm-topbar-native.cleverpush-confirm-firefox{padding-left:calc(500px + 10%)}.cleverpush-confirm-topbar-native.cleverpush-confirm-topbar-native.cleverpush-confirm-firefox .cleverpush-confirm-topbar-arrow,.cleverpush-confirm-topbar-slim-higher-native.cleverpush-confirm-topbar-native.cleverpush-confirm-firefox .cleverpush-confirm-topbar-arrow,.cleverpush-confirm-topbar-slim-native.cleverpush-confirm-topbar-native.cleverpush-confirm-firefox .cleverpush-confirm-topbar-arrow,.cleverpush-confirm-topbox-below-native.cleverpush-confirm-topbar-native.cleverpush-confirm-firefox .cleverpush-confirm-topbar-arrow,.cleverpush-confirm-topbox-native.cleverpush-confirm-topbar-native.cleverpush-confirm-firefox .cleverpush-confirm-topbar-arrow{margin-top:60px}.cleverpush-confirm-topbar-native.cleverpush-confirm-topbar-native.cleverpush-confirm-safari,.cleverpush-confirm-topbar-slim-higher-native.cleverpush-confirm-topbar-native.cleverpush-confirm-safari,.cleverpush-confirm-topbar-slim-native.cleverpush-confirm-topbar-native.cleverpush-confirm-safari,.cleverpush-confirm-topbox-below-native.cleverpush-confirm-topbar-native.cleverpush-confirm-safari,.cleverpush-confirm-topbox-native.cleverpush-confirm-topbar-native.cleverpush-confirm-safari{padding-left:calc(225px + 50%)!important}.cleverpush-confirm-topbar-native.cleverpush-confirm-topbar-native.cleverpush-confirm-opera,.cleverpush-confirm-topbar-slim-higher-native.cleverpush-confirm-topbar-native.cleverpush-confirm-opera,.cleverpush-confirm-topbar-slim-native.cleverpush-confirm-topbar-native.cleverpush-confirm-opera,.cleverpush-confirm-topbox-below-native.cleverpush-confirm-topbar-native.cleverpush-confirm-opera,.cleverpush-confirm-topbox-native.cleverpush-confirm-topbar-native.cleverpush-confirm-opera{padding-left:480px}.cleverpush-confirm-topbar-native.cleverpush-confirm-safari.cleverpush-confirm-topbox-below-native,.cleverpush-confirm-topbar-slim-higher-native.cleverpush-confirm-safari.cleverpush-confirm-topbox-below-native,.cleverpush-confirm-topbar-slim-native.cleverpush-confirm-safari.cleverpush-confirm-topbox-below-native,.cleverpush-confirm-topbox-below-native.cleverpush-confirm-safari.cleverpush-confirm-topbox-below-native,.cleverpush-confirm-topbox-native.cleverpush-confirm-safari.cleverpush-confirm-topbox-below-native{left:50%;margin-left:-205px;padding-top:160px!important;width:425px}.cleverpush-confirm-topbar-native.cleverpush-confirm-opera.cleverpush-confirm-topbox-below-native,.cleverpush-confirm-topbar-slim-higher-native.cleverpush-confirm-opera.cleverpush-confirm-topbox-below-native,.cleverpush-confirm-topbar-slim-native.cleverpush-confirm-opera.cleverpush-confirm-topbox-below-native,.cleverpush-confirm-topbox-below-native.cleverpush-confirm-opera.cleverpush-confirm-topbox-below-native,.cleverpush-confirm-topbox-native.cleverpush-confirm-opera.cleverpush-confirm-topbox-below-native{left:137px}.cleverpush-confirm-topbar-native.cleverpush-confirm-opera.cleverpush-confirm-topbox-below-native.cleverpush-confirm-mac,.cleverpush-confirm-topbar-slim-higher-native.cleverpush-confirm-opera.cleverpush-confirm-topbox-below-native.cleverpush-confirm-mac,.cleverpush-confirm-topbar-slim-native.cleverpush-confirm-opera.cleverpush-confirm-topbox-below-native.cleverpush-confirm-mac,.cleverpush-confirm-topbox-below-native.cleverpush-confirm-opera.cleverpush-confirm-topbox-below-native.cleverpush-confirm-mac,.cleverpush-confirm-topbox-native.cleverpush-confirm-opera.cleverpush-confirm-topbox-below-native.cleverpush-confirm-mac{left:0;padding-top:150px;width:312px}.cleverpush-confirm-topbar-native.cleverpush-confirm-edge,.cleverpush-confirm-topbar-slim-higher-native.cleverpush-confirm-edge,.cleverpush-confirm-topbar-slim-native.cleverpush-confirm-edge,.cleverpush-confirm-topbox-below-native.cleverpush-confirm-edge,.cleverpush-confirm-topbox-native.cleverpush-confirm-edge{bottom:0;padding-bottom:70px;padding-left:20px;padding-top:10px;top:auto!important}.cleverpush-confirm-topbar-native.cleverpush-confirm-edge .cleverpush-confirm-topbox-below-native,.cleverpush-confirm-topbar-slim-higher-native.cleverpush-confirm-edge .cleverpush-confirm-topbox-below-native,.cleverpush-confirm-topbar-slim-native.cleverpush-confirm-edge .cleverpush-confirm-topbox-below-native,.cleverpush-confirm-topbox-below-native.cleverpush-confirm-edge .cleverpush-confirm-topbox-below-native,.cleverpush-confirm-topbox-native.cleverpush-confirm-edge .cleverpush-confirm-topbox-below-native{left:50%;margin-left:-230px}.cleverpush-confirm-topbar-native.cleverpush-confirm-edge .cleverpush-confirm-topbar-slim-higher-native,.cleverpush-confirm-topbar-native.cleverpush-confirm-edge.cleverpush-confirm-topbar-slim-native,.cleverpush-confirm-topbar-slim-higher-native.cleverpush-confirm-edge .cleverpush-confirm-topbar-slim-higher-native,.cleverpush-confirm-topbar-slim-higher-native.cleverpush-confirm-edge.cleverpush-confirm-topbar-slim-native,.cleverpush-confirm-topbar-slim-native.cleverpush-confirm-edge .cleverpush-confirm-topbar-slim-higher-native,.cleverpush-confirm-topbar-slim-native.cleverpush-confirm-edge.cleverpush-confirm-topbar-slim-native,.cleverpush-confirm-topbox-below-native.cleverpush-confirm-edge .cleverpush-confirm-topbar-slim-higher-native,.cleverpush-confirm-topbox-below-native.cleverpush-confirm-edge.cleverpush-confirm-topbar-slim-native,.cleverpush-confirm-topbox-native.cleverpush-confirm-edge .cleverpush-confirm-topbar-slim-higher-native,.cleverpush-confirm-topbox-native.cleverpush-confirm-edge.cleverpush-confirm-topbar-slim-native{left:50%;margin-left:-480px;width:960px}.cleverpush-confirm-topbar-native.cleverpush-confirm-edge .cleverpush-confirm-wrap,.cleverpush-confirm-topbar-slim-higher-native.cleverpush-confirm-edge .cleverpush-confirm-wrap,.cleverpush-confirm-topbar-slim-native.cleverpush-confirm-edge .cleverpush-confirm-wrap,.cleverpush-confirm-topbox-below-native.cleverpush-confirm-edge .cleverpush-confirm-wrap,.cleverpush-confirm-topbox-native.cleverpush-confirm-edge .cleverpush-confirm-wrap{min-height:0;padding-left:0}.cleverpush-confirm-topbar-native.cleverpush-confirm-edge.cleverpush-confirm-topbar .cleverpush-confirm-wrap,.cleverpush-confirm-topbar-slim-higher-native.cleverpush-confirm-edge.cleverpush-confirm-topbar .cleverpush-confirm-wrap,.cleverpush-confirm-topbar-slim-native.cleverpush-confirm-edge.cleverpush-confirm-topbar .cleverpush-confirm-wrap,.cleverpush-confirm-topbox-below-native.cleverpush-confirm-edge.cleverpush-confirm-topbar .cleverpush-confirm-wrap,.cleverpush-confirm-topbox-native.cleverpush-confirm-edge.cleverpush-confirm-topbar .cleverpush-confirm-wrap{left:calc(50% - 300px)!important}.cleverpush-backdrop-text{max-width:33.333%}.cleverpush-confirm-topbox{padding-left:20px!important;padding-top:140px}.cleverpush-confirm-topbox .cleverpush-confirm-wrap{padding-left:40px}.cleverpush-confirm-topbox .cleverpush-confirm-icon{float:none;position:absolute;right:25px;top:25px}.cleverpush-confirm-topbox-below{left:108px;padding-left:20px!important;padding-top:135px;width:320px}.cleverpush-confirm-topbox-below.cleverpush-confirm-firefox{left:calc(14% + 104px);width:362px}.cleverpush-confirm-topbox-below.cleverpush-confirm-firefox.cleverpush-confirm-mac{left:calc(14% + 61px);width:355px}.cleverpush-confirm-topbox-below .cleverpush-confirm-wrap{padding-left:0}.cleverpush-confirm-topbar-slim-native{left:85px;padding-left:300px}.cleverpush-confirm-topbar-slim-native .cleverpush-confirm-wrap{padding-left:90px}.cleverpush-confirm-speechbubble{bottom:auto;left:82px;top:8px}.cleverpush-confirm-speechbubble:not(.cleverpush-confirm-speechbubble-native){max-width:600px}.cleverpush-confirm-speechbubble-native{left:240px;top:135px}.cleverpush-confirm-speechbubble.cleverpush-confirm-firefox{left:calc(94px + 10%)}.cleverpush-confirm-speechbubble.cleverpush-confirm-firefox.cleverpush-confirm-speechbubble-native{left:calc(330px + 10%)}.cleverpush-confirm-speechbubble.cleverpush-confirm-mac.cleverpush-confirm-opera,.cleverpush-confirm-speechbubble.cleverpush-confirm-safari{left:calc(175px + 50%)!important}.cleverpush-confirm-speechbubble .cleverpush-confirm-caret{border-top-color:transparent;left:45px;right:auto;top:-16px}.cleverpush-confirm-speechbubble .cleverpush-confirm-caret-top{border-bottom-color:#f0eff0;display:block!important}.cleverpush-confirm-speechbubble .cleverpush-confirm-caret-bottom{display:none!important}.cleverpush-confirm-speechbubble.cleverpush-confirm-edge.cleverpush-confirm-speechbubble{bottom:8px;left:50%;top:auto}.cleverpush-confirm-speechbubble.cleverpush-confirm-edge.cleverpush-confirm-speechbubble .cleverpush-confirm-wrap{min-height:0}.cleverpush-confirm-speechbubble.cleverpush-confirm-edge.cleverpush-confirm-speechbubble-native{bottom:62px;padding-top:5px!important}.cleverpush-confirm-speechbubble.cleverpush-confirm-edge.cleverpush-confirm-speechbubble .cleverpush-confirm-caret{left:auto;right:100px}.cleverpush-confirm-speechbubble.cleverpush-confirm-edge.cleverpush-confirm-speechbubble .cleverpush-confirm-caret-top{display:none!important}.cleverpush-confirm-speechbubble.cleverpush-confirm-edge.cleverpush-confirm-speechbubble .cleverpush-confirm-caret-bottom{bottom:-16px;display:block!important;top:auto}}@media (min-width:768px) and (min-width:1230px){.cleverpush-confirm-topbox-below.cleverpush-confirm-firefox{left:272px}.cleverpush-confirm-topbox-below.cleverpush-confirm-firefox.cleverpush-confirm-mac{left:231px}}',""])},function(e,t){e.exports=function(e){var t="undefined"!=typeof window&&window.location;if(!t)throw new Error("fixUrls requires window.location");if(!e||"string"!=typeof e)return e;var i=t.protocol+"//"+t.host,n=i+t.pathname.replace(/\/[^\/]*$/,"/");return e.replace(/url\s*\(((?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)\)/gi,(function(e,t){var o,r=t.trim().replace(/^"(.*)"$/,(function(e,t){return t})).replace(/^'(.*)'$/,(function(e,t){return t}));return/^(#|data:|http:\/\/|https:\/\/|file:\/\/\/)/i.test(r)?e:(o=0===r.indexOf("//")?r:0===r.indexOf("/")?i+r:n+r.replace(/^\.\//,""),"url("+JSON.stringify(o)+")")}))}},function(e,t,i){var n=i(64);"string"==typeof n&&(n=[[e.i,n,""]]);i(20)(n,{});n.locals&&(e.exports=n.locals)},function(e,t,i){(e.exports=i(19)(void 0)).push([e.i,'.cleverpush-attributes input{border-radius:3px;display:block;font-size:1rem;height:auto;line-height:1.5;padding:5px 10px;width:100%}.cleverpush-attributes .cleverpush-attributes-item{margin-bottom:15px;margin-top:10px}.cleverpush-attributes .cleverpush-attributes-title{font-size:18px;margin-bottom:8px}.cleverpush-attributes-box .cleverpush-confirm-icon{display:none!important}.cleverpush-attributes-box .cleverpush-confirm-text{width:100%!important}.cleverpush-attributes-box .cleverpush-confirm-btn{display:block!important;height:38px!important;width:100%!important}.cleverpush-attributes-box .cleverpush-confirm-buttons{float:none!important}.cleverpush-attributes-box .dp-modal{background:hsla(0,0%,100%,.75);bottom:0;left:0;position:fixed;right:0;top:0}.cleverpush-attributes-box .dp{-webkit-box-shadow:2px 2px 16px rgba(0,0,0,.25);-webkit-tap-highlight-color:transparent;background:#fff;border-radius:4px;box-shadow:2px 2px 16px rgba(0,0,0,.25);line-height:1.4;max-height:400px;overflow:hidden;padding-top:6px;position:relative;z-index:1000}.cleverpush-attributes-box .dp:before{background:#3b99fc;background:-webkit-gradient(linear,right top,left top,from(#3b99fc),to(#8aefc8));background:-o-linear-gradient(right,#3b99fc 0,#8aefc8 100%);background:linear-gradient(-90deg,#3b99fc,#8aefc8);content:" ";height:6px;left:0;position:absolute;right:0;top:0}.cleverpush-attributes-box .dp-permanent .dp{-webkit-box-shadow:none;border:1px solid #eee;box-shadow:none;padding-top:0}.cleverpush-attributes-box .dp-permanent .dp:before{display:none}.cleverpush-attributes-box .dp-cal{min-height:300px}.cleverpush-attributes-box .dp-below{font-size:.8em;max-width:100%;position:absolute;width:400px}.cleverpush-attributes-box .dp-permanent{font-size:.8em;max-width:100%;position:relative;width:400px}.cleverpush-attributes-box .dp-permanent .dp{z-index:0}.cleverpush-attributes-box .dp-modal .dp{-ms-transform:translate(-50%,-50%);-webkit-animation:slide-up .3s forwards;-webkit-transform:translate(-50%,-50%);animation:slide-up .3s forwards;left:50%;max-width:600px;position:absolute;top:50%;transform:translate(-50%,-50%);width:calc(100% - 4em)}.cleverpush-attributes-box .dp-months{padding:24px}.cleverpush-attributes-box .dp-years{-webkit-box-sizing:border-box;box-sizing:border-box;max-height:400px;overflow:auto!important;padding:8px 0}.cleverpush-attributes-box .dp-cal-month,.cleverpush-attributes-box .dp-cal-year,.cleverpush-attributes-box .dp-day,.cleverpush-attributes-box .dp-month,.cleverpush-attributes-box .dp-year{-webkit-box-sizing:border-box;background:transparent;border:0;border-radius:2px;box-sizing:border-box;color:#3b404d;position:relative;text-align:center;text-decoration:none}.cleverpush-attributes-box .dp-cal-header{background:#f5f5f5;padding-bottom:16px;position:relative;text-align:center}.cleverpush-attributes-box .dp-next,.cleverpush-attributes-box .dp-prev{background:transparent;border:0;border-radius:2px;color:#777;height:30px;overflow:hidden;padding:0;position:absolute;top:14px;width:30px}.cleverpush-attributes-box .dp-next:focus,.cleverpush-attributes-box .dp-next:hover,.cleverpush-attributes-box .dp-prev:focus,.cleverpush-attributes-box .dp-prev:hover{color:inherit;outline:none}.cleverpush-attributes-box .dp-prev{left:24px}.cleverpush-attributes-box .dp-next{right:24px}.cleverpush-attributes-box .dp-next:before,.cleverpush-attributes-box .dp-prev:before{-ms-transform:rotate(-45deg);-o-transition:border-color .2s;-webkit-transform:rotate(-45deg);-webkit-transition:border-color .2s;border:2px solid;content:"";display:inline-block;height:10px;margin:9px 0 40px 4px;transform:rotate(-45deg);transition:border-color .2s;width:10px}.cleverpush-attributes-box .dp-prev:before{border-bottom:0;border-right:0}.cleverpush-attributes-box .dp-next:before{border-left:0;border-top:0;margin-left:0;margin-right:4px}.cleverpush-attributes-box .dp-cal-month,.cleverpush-attributes-box .dp-cal-year{display:inline-block;font-size:1.4em;outline:none;padding:16px 8px 8px}.cleverpush-attributes-box .dp-cal-footer{background:#f5f5f5;text-align:center}.cleverpush-attributes-box .dp-day-today:after{border-color:#227bd7 #227bd7 transparent transparent;border-style:solid;border-width:7px;content:"";height:0;position:absolute;right:0;top:0;width:0}.cleverpush-attributes-box .dp-clear,.cleverpush-attributes-box .dp-close,.cleverpush-attributes-box .dp-today{-webkit-box-sizing:border-box;background:transparent;border:0;box-sizing:border-box;color:inherit;display:inline-block;padding:8px;text-decoration:none;width:33%}.cleverpush-attributes-box .dp-permanent .dp-clear,.cleverpush-attributes-box .dp-permanent .dp-close{display:none}.cleverpush-attributes-box .dp-cal-month:active,.cleverpush-attributes-box .dp-cal-year:active,.cleverpush-attributes-box .dp-clear:active,.cleverpush-attributes-box .dp-close:active,.cleverpush-attributes-box .dp-next:active,.cleverpush-attributes-box .dp-prev:active,.cleverpush-attributes-box .dp-today:active{background:#4286f6;color:#fff}.cleverpush-attributes-box .dp-col-header,.cleverpush-attributes-box .dp-day{display:inline-block;padding:8px;text-align:center;width:14.28571429%}.cleverpush-attributes-box .dp-col-header{color:#aaa;font-size:.8em;font-weight:300;padding:8px 0;text-transform:uppercase}.cleverpush-attributes-box .dp-month{display:inline-block;padding:8px;width:33%}.cleverpush-attributes-box .dp-year{display:block;padding:8px 40px;width:100%}.cleverpush-attributes-box .dp-edge-day{color:#aaa}.cleverpush-attributes-box .dp-current,.cleverpush-attributes-box .dp-current:focus,.cleverpush-attributes-box .dp-day:focus,.cleverpush-attributes-box .dp-day:hover,.cleverpush-attributes-box .dp-month:focus,.cleverpush-attributes-box .dp-month:hover,.cleverpush-attributes-box .dp-year:focus,.cleverpush-attributes-box .dp-year:hover{background:#4286f6;color:#fff;outline:none}.cleverpush-attributes-box .dp-selected,.cleverpush-attributes-box .dp-selected:focus,.cleverpush-attributes-box .dp-selected:hover{background:#3b99fc;color:#fff}.cleverpush-attributes-box .dp-day-disabled{background:transparent;color:#ddd}.cleverpush-attributes-box .dp-day-disabled:focus,.cleverpush-attributes-box .dp-day-disabled:hover{background:#ddd}.cleverpush-attributes-box .dp-focuser{left:50%;position:absolute;top:50%;z-index:0}@-webkit-keyframes slide-up{0%{-webkit-transform:translate(-50%,100%);transform:translate(-50%,100%)}to{-webkit-transform:translate(-50%,-50%);transform:translate(-50%,-50%)}}@keyframes slide-up{0%{-webkit-transform:translate(-50%,100%);transform:translate(-50%,100%)}to{-webkit-transform:translate(-50%,-50%);transform:translate(-50%,-50%)}}@media screen and (min-device-width:1200px){.cleverpush-attributes-box .dp-cal-month:focus,.cleverpush-attributes-box .dp-cal-month:hover,.cleverpush-attributes-box .dp-cal-year:focus,.cleverpush-attributes-box .dp-cal-year:hover,.cleverpush-attributes-box .dp-clear:focus,.cleverpush-attributes-box .dp-clear:hover,.cleverpush-attributes-box .dp-close:focus,.cleverpush-attributes-box .dp-close:hover,.cleverpush-attributes-box .dp-next:focus,.cleverpush-attributes-box .dp-next:hover,.cleverpush-attributes-box .dp-prev:focus,.cleverpush-attributes-box .dp-prev:hover,.cleverpush-attributes-box .dp-today:focus,.cleverpush-attributes-box .dp-today:hover{background:#4286f6;color:#fff}}@media (max-height:480px),(max-width:480px){.cleverpush-attributes-box .dp-modal .dp{font-size:.9em;width:auto;width:100%}.cleverpush-attributes-box .dp-day,.cleverpush-attributes-box .dp-day-of-week{padding:8px}}',""])},function(e,t,i){var n=i(66);"string"==typeof n&&(n=[[e.i,n,""]]);i(20)(n,{});n.locals&&(e.exports=n.locals)},function(e,t,i){(e.exports=i(19)(void 0)).push([e.i,'.cleverpush-bell{-moz-user-select:none;-ms-transform-origin:bottom left;-ms-user-select:none;-o-transition:transform 175ms ease-in-out,border 175ms ease-in-out,width 175ms ease-in-out,height 175ms ease-in-out,transform 175ms ease-in-out;-webkit-filter:drop-shadow(0 2px 4px rgba(34,36,38,.35));-webkit-transform-origin:bottom left;-webkit-transition:border 175ms ease-in-out,width 175ms ease-in-out,height 175ms ease-in-out,-webkit-transform 175ms ease-in-out,-webkit-transform 175ms ease-in-out;-webkit-user-select:none;background-color:#42a2f2;background-size:26px 26px;border:none;border-radius:50%;bottom:20px;color:#fff;cursor:pointer;filter:drop-shadow(0 2px 4px rgba(34,36,38,.35));height:48px;left:20px;outline:none;position:fixed;transform-origin:bottom left;transition:border 175ms ease-in-out,width 175ms ease-in-out,height 175ms ease-in-out,-webkit-transform 175ms ease-in-out,-webkit-transform 175ms ease-in-out;transition:transform 175ms ease-in-out,border 175ms ease-in-out,width 175ms ease-in-out,height 175ms ease-in-out,transform 175ms ease-in-out;transition:transform 175ms ease-in-out,border 175ms ease-in-out,width 175ms ease-in-out,height 175ms ease-in-out,transform 175ms ease-in-out,-webkit-transform 175ms ease-in-out,-webkit-transform 175ms ease-in-out;user-select:none;width:48px;z-index:2147483002}.cleverpush-bell:active{opacity:.8}.cleverpush-bell.cleverpush-bell-position-right{-ms-transform-origin:bottom right;-webkit-transform-origin:bottom right;left:auto;right:20px;transform-origin:bottom right}.cleverpush-bell.cleverpush-bell-loading{background-image:none}.cleverpush-bell .cleverpush-loader{-ms-transform:scale(.625);-ms-transform-origin:top left;-webkit-transform:scale(.625);-webkit-transform-origin:top left;bottom:0;height:100%;left:4.5px;position:absolute;right:0;top:4.5px;transform:scale(.625);transform-origin:top left}.cleverpush-bell,.cleverpush-icon-bell{background-image:url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNCIgaGVpZ2h0PSIyNCI+PHBhdGggZD0iTTE1LjEzNyAzLjk0NWEyLjEwMiAyLjEwMiAwIDAgMS0xLjA0LTEuODJ2LS4wMDNDMTQuMDk3Ljk1IDEzLjE1OCAwIDEyIDBTOS45MDMuOTUgOS45MDMgMi4xMjJ2LjAwM2EyLjEgMi4xIDAgMCAxLTEuMDQxIDEuODJDNC4xOTUgNi42NTcgNi44NzcgMTUuNjYgMiAxNy4yNTFWMTloMjB2LTEuNzQ5Yy00Ljg3Ny0xLjU5MS0yLjE5NS0xMC41OTQtNi44NjMtMTMuMzA2ek04LjQwOSAxNkg2LjUyN2MxLjI0NS0yLjc0MS44NzktOS4wMTIgMy44NzMtMTAuNjU1QzguNjM5IDcuNDEyIDkuNDUgMTIuODQ5IDguNDA5IDE2ek0xMiAzYTEgMSAwIDEgMSAwLTIgMSAxIDAgMCAxIDAgMnpNOSAyMWg2YzAgMS41OTgtMS4zOTMgMy0yLjk3MSAzQzEwLjQ1IDI0IDkgMjIuNTk4IDkgMjF6IiBmaWxsPSIjZmZmIi8+PC9zdmc+);background-position:50%;background-repeat:no-repeat}.has-cleverpush-backdrop .cleverpush-bell{-webkit-filter:none!important;filter:none!important}.cleverpush-bell-message,.cleverpush-tooltip{-moz-user-select:none;-ms-transform-origin:left center;-ms-user-select:none;-o-text-overflow:ellipsis;-o-transition:transform 175ms ease-in-out,opacity 175ms ease-in-out;-webkit-transform:translateY(-50%) scaleX(0) translateZ(0);-webkit-transform-origin:left center;-webkit-transition:opacity 175ms ease-in-out,-webkit-transform 175ms ease-in-out;-webkit-user-select:none;background-color:#000;border-radius:4px;color:#fff;cursor:pointer;font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica,Arial,sans-serif;font-size:14px;left:60px;line-height:1;opacity:0;padding:14.4px;position:absolute;text-overflow:ellipsis;top:50%;transform:translateY(-50%) scaleX(0) translateZ(0);transform-origin:left center;transition:opacity 175ms ease-in-out,-webkit-transform 175ms ease-in-out;transition:transform 175ms ease-in-out,opacity 175ms ease-in-out;transition:transform 175ms ease-in-out,opacity 175ms ease-in-out,-webkit-transform 175ms ease-in-out;user-select:none;white-space:nowrap}.cleverpush-bell-message *,.cleverpush-bell-message a,.cleverpush-bell-message strong,.cleverpush-tooltip *,.cleverpush-tooltip a,.cleverpush-tooltip strong{color:#fff}.cleverpush-bell-message:after,.cleverpush-tooltip:after{border:9.9px solid transparent;border-right-color:#000;content:" ";height:0;margin-top:-9.9px;pointer-events:none;position:absolute;right:100%;top:50%;width:0}.cleverpush-bell-more-btn{-ms-flex-align:center;-ms-flex-pack:center;-webkit-box-align:center;-webkit-box-pack:center;align-items:center;background-color:#444;border:none;border-radius:500px;color:#fff;cursor:pointer;display:-webkit-box;display:-ms-flexbox;display:flex;font-size:16px;height:36px;justify-content:center;outline:none;padding:10px;position:absolute;text-align:center;width:36px}.cleverpush-bell-more-btn svg{fill:#fff;height:100%;width:100%}.cleverpush-bell-more-btn:hover{opacity:.9}.cleverpush-bell-more-btn:hover .cleverpush-tooltip{-webkit-transform:translateY(-50%) scaleX(1) translateZ(0);opacity:1;transform:translateY(-50%) scaleX(1) translateZ(0)}.cleverpush-bell-more-btn:hover~.cleverpush-bell-message{opacity:0!important}.cleverpush-bell-more-btn.cleverpush-bell-more-settings,.cleverpush-bell-more-btn.cleverpush-bell-more-subscribe{-webkit-animation:cleverpush-bell-anim-settings .5s;animation:cleverpush-bell-anim-settings .5s;left:6px;top:-48px;z-index:2}.cleverpush-bell-more-btn.cleverpush-bell-more-hide{-webkit-animation:cleverpush-bell-anim-hide .5s;animation:cleverpush-bell-anim-hide .5s;left:52px;top:-22px;z-index:1}.cleverpush-bell-more-btn .cleverpush-tooltip{-o-transition:.25s ease-in-out opacity;-webkit-transition:opacity .25s ease-in-out;font-size:13px;left:50px;opacity:0;padding:8px 12px;pointer-events:none;transition:opacity .25s ease-in-out}@-webkit-keyframes cleverpush-bell-anim-settings{0%{left:0;opacity:0;top:-42px}to{left:6px;opacity:1;top:-48px}}@keyframes cleverpush-bell-anim-settings{0%{left:0;opacity:0;top:-42px}to{left:6px;opacity:1;top:-48px}}@-webkit-keyframes cleverpush-bell-anim-hide{0%{left:0;opacity:0;top:-42px}to{left:52px;opacity:1;top:-22px}}@keyframes cleverpush-bell-anim-hide{0%{left:0;opacity:0;top:-42px}to{left:52px;opacity:1;top:-22px}}.cleverpush-bell-position-right .cleverpush-bell-message{-ms-transform-origin:right center;-webkit-transform-origin:right center;left:auto;right:60px;transform-origin:right center}.cleverpush-bell-position-right .cleverpush-bell-message:after{border-left-color:#000;border-right-color:transparent;left:100%;right:auto}.cleverpush-bell-position-right .cleverpush-tooltip{-ms-transform-origin:right center;-webkit-transform-origin:right center;left:auto;right:50px;transform-origin:right center}.cleverpush-bell-position-right .cleverpush-tooltip:after{border-left-color:#000;border-right-color:transparent;left:100%;right:auto}.cleverpush-bell-hidden{display:none}@media (hover:none){.cleverpush-bell-disabled:not(:active){-ms-transform:scale(.666);-webkit-transform:scale(.666);opacity:.666;transform:scale(.666)}.cleverpush-bell-message-open{-webkit-transform:translateY(-50%) scaleX(1) translateZ(0);opacity:1;transform:translateY(-50%) scaleX(1) translateZ(0)}}@media (hover:hover){.cleverpush-bell-disabled:not(:hover):not(:active){-ms-transform:scale(.666);-webkit-transform:scale(.666);opacity:.666;transform:scale(.666)}.cleverpush-bell-message,.cleverpush-tooltip{pointer-events:none}.cleverpush-bell-message-open,.cleverpush-bell:hover .cleverpush-bell-message{-webkit-transform:translateY(-50%) scaleX(1) translateZ(0);opacity:1;transform:translateY(-50%) scaleX(1) translateZ(0)}}',""])},function(e,t,i){var n=i(68);"string"==typeof n&&(n=[[e.i,n,""]]);i(20)(n,{});n.locals&&(e.exports=n.locals)},function(e,t,i){(e.exports=i(19)(void 0)).push([e.i,".cleverpush-panel{-moz-user-select:none;-ms-user-select:none;-webkit-box-shadow:0 1px 15px 0 rgba(0,0,0,.1);-webkit-user-select:none;background-color:#f5f5f5;bottom:0;box-shadow:0 1px 15px 0 rgba(0,0,0,.1);font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica,Arial,sans-serif;left:0;position:fixed;text-align:left;top:0;user-select:none;width:300px;z-index:2147483001}@-webkit-keyframes cleverpush-panel-show-left{to{left:0}}@keyframes cleverpush-panel-show-left{to{left:0}}@-webkit-keyframes cleverpush-panel-show-right{to{right:0}}@keyframes cleverpush-panel-show-right{to{right:0}}.cleverpush-panel.cleverpush-panel-position-left{-webkit-animation:cleverpush-panel-show-left .5s forwards;animation:cleverpush-panel-show-left .5s forwards;left:-300px}.cleverpush-panel.cleverpush-panel-position-right{-webkit-animation:cleverpush-panel-show-right .5s forwards;animation:cleverpush-panel-show-right .5s forwards;left:auto;right:-300px}.cleverpush-panel .spinner{height:40px;margin:50px auto;position:relative;text-align:center;width:40px}.cleverpush-panel .double-bounce1,.cleverpush-panel .double-bounce2{-webkit-animation:sk-bounce 2s infinite ease-in-out;animation:sk-bounce 2s infinite ease-in-out;background-color:#999;border-radius:50%;height:100%;left:0;opacity:.6;position:absolute;top:0;width:100%}.cleverpush-panel .double-bounce2{-webkit-animation-delay:-1s;animation-delay:-1s}@-webkit-keyframes sk-bounce{0%,to{-webkit-transform:scale(0)}50%{-webkit-transform:scale(1)}}@keyframes sk-bounce{0%,to{-webkit-transform:scale(0);transform:scale(0)}50%{-webkit-transform:scale(1);transform:scale(1)}}.cleverpush-panel-header{background-color:#fff;border-bottom:3px solid #42a2f2;padding:15px 10px;text-align:center}.cleverpush-panel-header img{-moz-user-select:none;-ms-user-select:none;-webkit-user-select:none;height:60px;max-width:100%;user-select:none;width:auto}.cleverpush-panel-content{-ms-flex-direction:column;-webkit-box-direction:normal;-webkit-box-orient:vertical;display:-webkit-box;display:-ms-flexbox;display:flex;flex-direction:column;height:100%;position:relative}.cleverpush-panel-notifications,.cleverpush-panel-settings,.cleverpush-panel-spinner{height:100%;overflow-y:scroll}.cleverpush-panel-close{background-color:transparent;border:none;border-radius:0;color:#777;cursor:pointer;font-size:18px;height:auto;line-height:1;padding:initial;position:absolute;right:20px;text-transform:none;top:12.5px;vertical-align:initial;z-index:4}.cleverpush-panel-close:focus,.cleverpush-panel-close:hover{background-color:transparent!important}.cleverpush-panel-notifications{border-top:1px solid #eee;padding:0}.cleverpush-panel-notification{background:#fff;border-bottom:1px solid #ececec;color:#ccc;cursor:pointer;display:block;line-height:1.55;min-height:40px;padding:10px 65px 10px 15px;position:relative}.cleverpush-panel-notification:hover{background-color:rgba(0,0,0,.035)}.cleverpush-panel-notification-delete{background-color:transparent;border:none;border-radius:0;color:#777;cursor:pointer;display:none;font-size:12px;height:auto;line-height:1;padding:0 2px;position:absolute;right:-5px;top:10px}.cleverpush-panel-notification-delete:focus,.cleverpush-panel-notification-delete:hover{background:#000;color:#fff}.cleverpush-panel-notification:hover .cleverpush-panel-notification-delete{display:block}.cleverpush-panel-notification-title{color:#222;font-size:14px;font-weight:600}.cleverpush-panel-notification-text{color:#555;font-size:13px}.cleverpush-panel-notification-time{color:#bbb;font-size:12px;margin-top:5px}.cleverpush-panel-notification-image{background-position:50%;background-repeat:no-repeat;background-size:cover;border-radius:4px;height:40px;position:absolute;right:10px;top:10px;width:40px}.cleverpush-panel-notifications-empty{color:#aaa;font-size:12px;padding:20px;text-align:center}.cleverpush-panel-buttons{background-color:#fff;border-bottom:1px solid #eee;display:-webkit-box;display:-ms-flexbox;display:flex}.cleverpush-panel-button{background:transparent;border:none;border-radius:0;color:#000;cursor:pointer;font-family:sans-serif;font-size:14px;font-weight:700;height:auto;line-height:1;outline:none;padding:16px 12px;position:static;text-transform:none!important;vertical-align:initial;width:50%}.cleverpush-panel-button.active,.cleverpush-panel-button:hover{background-color:#42a2f2;color:#fff}.cleverpush-panel-settings{padding:10px 20px}.cleverpush-panel-settings h3{color:#333;font-size:18px;font-weight:500;margin:10px 0}.cleverpush-panel-unsubscribe{padding-top:10px}.cleverpush-panel-unsubscribe button{font-weight:500!important}.cleverpush-panel-footer button,.cleverpush-panel-settings button{background-color:#42a2f2;border:none;color:#fff;cursor:pointer;display:block;font-size:15px;font-weight:700;height:auto;line-height:1;margin:10px auto;padding:10px 15px;text-transform:none!important;width:100%}.cleverpush-panel-footer button:hover,.cleverpush-panel-settings button:hover{opacity:.8}.cleverpush-panel-footer button:disabled,.cleverpush-panel-settings button:disabled{color:#999;cursor:not-allowed}.cleverpush-panel-footer{background-color:#fff;padding:10px 15px;text-align:center}.cleverpush-panel-footer button{font-size:14px;margin:0 0 7.5px}.cleverpush-panel-branding,.cleverpush-panel-branding a{color:#aaa!important;font-size:12px}.cleverpush-panel-topics{border-bottom:1px solid #ddd;font-size:15px;margin-bottom:30px;padding-bottom:30px}.cleverpush-panel-topics .cleverpush-panel-topic-selection{margin-bottom:15px}.cleverpush-panel-topics label{color:#333;cursor:pointer;font-family:inherit;font-size:inherit;font-weight:500;line-height:1.5;margin:0}.cleverpush-panel-topics label>input[type=checkbox],.cleverpush-panel-topics label>input[type=radio]{-moz-appearance:checkbox;-webkit-appearance:checkbox;appearance:checkbox;display:inline-block;height:auto;line-height:normal;margin-right:4px;margin-top:0;min-height:0;vertical-align:baseline;width:auto}.cleverpush-panel-topics label>input[type=radio]{-moz-appearance:radio;-webkit-appearance:radio;appearance:radio}.cleverpush-panel-topics:not(:last-of-type){margin-bottom:7.5px}@media (max-width:768px){.cleverpush-panel{-webkit-box-shadow:none;box-shadow:none;width:100%}}",""])},function(e,t,i){var n=i(70);"string"==typeof n&&(n=[[e.i,n,""]]);i(20)(n,{});n.locals&&(e.exports=n.locals)},function(e,t,i){(e.exports=i(19)(void 0)).push([e.i,".cleverpush-banner{bottom:0;left:0;position:fixed;right:0;top:0;z-index:9}.cleverpush-banner iframe{border:none!important;display:block;height:100%;margin:0;min-height:0;width:100%}.cleverpush-banner .banner-content{background-color:#fff;line-height:1;margin:0 auto;max-width:100%;min-height:0;overflow-y:auto;position:absolute}.cleverpush-banner .banner-content td,.cleverpush-banner .banner-content th,.cleverpush-banner .banner-content tr{border:none!important}.cleverpush-banner .banner-close{background-color:transparent;border:none;border-radius:100px;color:#999;cursor:pointer;font-size:24px;font-weight:200;height:24px;margin:-5px -5px 0 0;padding:0;position:absolute;right:10px;text-align:center;text-decoration:none!important;top:10px;width:24px}.cleverpush-banner .banner-close .fa{height:22px;line-height:22px;vertical-align:top;width:22px}.cleverpush-banner .banner-button{background-color:#42a2f2;border-radius:4px;color:#fff;display:block;font-family:sans-serif;font-size:16px;font-weight:700;margin:25px auto 10px;padding:10px 15px}",""])},function(e,t,i){var n=i(72);"string"==typeof n&&(n=[[e.i,n,""]]);i(20)(n,{});n.locals&&(e.exports=n.locals)},function(e,t,i){(e.exports=i(19)(void 0)).push([e.i,'.cleverpush-content-button{-moz-user-select:none;-ms-user-select:none;-webkit-user-select:none;font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica,Arial,sans-serif;font-size:14px;margin:15px auto;user-select:none}.cleverpush-content-button.cleverpush-content-button-simple{text-align:center}.cleverpush-content-button .cleverpush-content-button-box{border:1px solid #eee;max-width:600px;padding:15px}.cleverpush-content-button .cleverpush-content-button-top{margin-bottom:15px;min-height:60px;padding-left:75px;position:relative}.cleverpush-content-button .cleverpush-content-button-top .cleverpush-content-button-title{font-weight:700}.cleverpush-content-button .cleverpush-content-button-top .cleverpush-content-button-text{color:#777;font-size:90%;line-height:1.25;margin-top:2px}.cleverpush-content-button .cleverpush-content-button-top .cleverpush-content-button-icon{background-position:50%;background-size:cover;border:none;height:60px;left:0;position:absolute;top:0;width:60px}.cleverpush-content-button .cleverpush-content-button-btn-wrap{-ms-flex-align:stretch;-webkit-box-align:stretch;align-items:stretch;display:-webkit-box;display:-ms-flexbox;display:flex}.cleverpush-content-button .cleverpush-content-button-btn{-webkit-box-shadow:0 3px 8px rgba(0,0,0,.1)!important;-webkit-box-sizing:border-box!important;background-color:#42a2f2;border:none!important;border-radius:4px!important;box-shadow:0 3px 8px rgba(0,0,0,.1)!important;box-sizing:border-box!important;color:#fff;cursor:pointer!important;display:block;font-family:Arial,sans-serif!important;font-size:14px!important;font-weight:700!important;line-height:1!important;margin:0!important;min-height:30px!important;outline:none;padding:5px 10px!important;text-shadow:none!important;text-transform:none!important;width:auto}.cleverpush-content-button .cleverpush-content-button-btn:hover{opacity:.8}.cleverpush-content-button .cleverpush-content-button-btn:active{opacity:.9}.cleverpush-content-button .cleverpush-content-button-btn[disabled]{-webkit-box-shadow:none!important;border:1px solid #42a2f2!important;border-bottom-right-radius:0!important;border-top-right-radius:0!important;box-shadow:none!important;color:#555!important;cursor:auto!important;font-weight:400!important}.cleverpush-content-button .cleverpush-content-button-btn[disabled],.cleverpush-content-button .cleverpush-content-button-btn[disabled]:active,.cleverpush-content-button .cleverpush-content-button-btn[disabled]:hover{background:transparent!important}.cleverpush-content-button .cleverpush-content-button-btn.cleverpush-content-button-btn-unsubscribe{-webkit-box-shadow:none!important;background:transparent;border:1px solid #42a2f2!important;border-bottom-left-radius:0!important;border-left-width:0!important;border-top-left-radius:0!important;box-shadow:none!important;color:#555!important;font-weight:400!important}.cleverpush-content-button .cleverpush-content-button-btn.cleverpush-content-button-btn-unsubscribe:active,.cleverpush-content-button .cleverpush-content-button-btn.cleverpush-content-button-btn-unsubscribe:hover{color:#fff!important}.cleverpush-content-button .cleverpush-content-button-btn.cleverpush-content-button-btn-simple{float:none!important;margin:0 auto!important;padding-left:15px!important;padding-right:15px!important;width:auto!important}.cleverpush-content-button .cleverpush-content-button-btn .cleverpush-loader{zoom:.25}.cleverpush-content-button .cleverpush-content-button-count{background:#eee;color:#555;float:left;font-size:85%;line-height:30px;margin-left:10px;position:relative;text-indent:15px;width:calc(50% - 10px)}.cleverpush-content-button .cleverpush-content-button-count:before{border-color:transparent #eee transparent transparent;border-radius:3px;border-style:solid;border-width:6px 6px 6px 0;content:"";height:0;left:-6px;margin-top:-6px;position:absolute;top:50%;width:0}.cleverpush-content-button .cleverpush-content-button-branding{color:#aaa;font-size:75%;margin-top:15px;text-align:right}.cleverpush-content-button .cleverpush-content-button-branding a{-webkit-box-shadow:none;box-shadow:none;color:#999;text-decoration:none}.cleverpush-content-button .cleverpush-content-button-topics{border:1px solid #eee;border-radius:3px;margin-bottom:15px;padding:10px}.cleverpush-content-button .cleverpush-content-button-topics label{color:#333;cursor:pointer;font-family:inherit;font-size:inherit;font-weight:500;line-height:1;margin:0}.cleverpush-content-button .cleverpush-content-button-topics label>input[type=checkbox],.cleverpush-content-button .cleverpush-content-button-topics label>input[type=radio]{-moz-appearance:checkbox;-webkit-appearance:checkbox;appearance:checkbox;display:inline-block;height:auto;line-height:normal;margin-right:4px;min-height:0;vertical-align:baseline;width:auto}.cleverpush-content-button .cleverpush-content-button-topics label>input[type=radio]{-moz-appearance:radio;-webkit-appearance:radio;appearance:radio}.cleverpush-content-button .cleverpush-content-button-topics>div:not(:last-of-type){margin-bottom:7.5px}.cleverpush-content-button .cleverpush-content-button-save-topics-button{margin-top:15px!important}.cleverpush-content-button .cleverpush-content-button-save-topics-button[disabled]{border-bottom-right-radius:4px!important;border-top-right-radius:4px!important}.cleverpush-content-button .cleverpush-content-button-settings{background:none;border:none;color:#777;display:block;font-size:12px;font-weight:400;margin:10px 0;outline:none;padding:0;text-align:right;width:100%}',""])},function(e,t,i){var n=i(74);"string"==typeof n&&(n=[[e.i,n,""]]);i(20)(n,{});n.locals&&(e.exports=n.locals)},function(e,t,i){(e.exports=i(19)(void 0)).push([e.i,'.cleverpush-multi-platform-widget{-moz-user-select:none;-ms-user-select:none;-webkit-user-select:none;font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica,Arial,sans-serif;font-size:14px;margin:15px auto;user-select:none}.cleverpush-multi-platform-widget.cleverpush-multi-platform-widget-simple{text-align:center}.cleverpush-multi-platform-widget .cleverpush-multi-platform-widget-box{border:1px solid #eee;max-width:600px;padding:15px}.cleverpush-multi-platform-widget-bottom{max-width:350px}.cleverpush-multi-platform-widget .cleverpush-multi-platform-widget-top{background-color:#fff;margin-bottom:15px;min-height:60px;padding-left:75px;position:relative}.cleverpush-multi-platform-widget .cleverpush-multi-platform-widget-top .cleverpush-multi-platform-widget-title{font-weight:700}.cleverpush-multi-platform-widget .cleverpush-multi-platform-widget-top .cleverpush-multi-platform-widget-text{color:#777;font-size:90%;line-height:1.25;margin-top:2px}.cleverpush-multi-platform-widget .cleverpush-multi-platform-widget-top .cleverpush-multi-platform-widget-icon{background-position:50%;background-size:cover;border:none;height:60px;left:0;position:absolute;top:0;width:60px}.cleverpush-multi-platform-widget .cleverpush-multi-platform-widget-btn-wrap{-ms-flex-align:stretch;-webkit-box-align:stretch;align-items:stretch;display:-webkit-box;display:-ms-flexbox;display:flex;margin-bottom:10px;width:100%}.cleverpush-multi-platform-widget .cleverpush-multi-platform-widget-btn{-ms-flex-align:center!important;-ms-flex-pack:center!important;-webkit-box-align:center!important;-webkit-box-pack:center!important;-webkit-box-shadow:0 3px 8px rgba(0,0,0,.1)!important;-webkit-box-sizing:border-box!important;align-items:center!important;background-color:#42a2f2;border:none!important;border-radius:4px!important;box-shadow:0 3px 8px rgba(0,0,0,.1)!important;box-sizing:border-box!important;color:#fff!important;cursor:pointer!important;display:-webkit-box;display:-ms-flexbox;display:flex;font-family:Arial,sans-serif!important;font-size:14px!important;font-weight:700!important;justify-content:center!important;line-height:1!important;margin:0!important;min-height:30px!important;outline:none;padding:8px 10px!important;text-decoration:none!important;text-shadow:none!important;text-transform:none!important;width:100%}.cleverpush-multi-platform-widget .cleverpush-multi-platform-widget-btn:not(.cleverpush-multi-platform-widget-btn-subscribe):not(.cleverpush-multi-platform-widget-btn-unsubscribe):not(.cleverpush-multi-platform-widget-btn-settings){display:-webkit-box!important;display:-ms-flexbox!important;display:flex!important;width:100%!important}.cleverpush-multi-platform-widget .cleverpush-multi-platform-widget-btn:hover{opacity:.8}.cleverpush-multi-platform-widget .cleverpush-multi-platform-widget-btn:active{opacity:.9}.cleverpush-multi-platform-widget .cleverpush-multi-platform-widget-btn[disabled]{-webkit-box-shadow:none!important;border:1px solid #42a2f2!important;border-bottom-right-radius:0!important;border-top-right-radius:0!important;box-shadow:none!important;color:#555!important;cursor:auto!important;font-weight:400!important}.cleverpush-multi-platform-widget .cleverpush-multi-platform-widget-btn[disabled],.cleverpush-multi-platform-widget .cleverpush-multi-platform-widget-btn[disabled]:active,.cleverpush-multi-platform-widget .cleverpush-multi-platform-widget-btn[disabled]:hover{background:transparent!important}.cleverpush-multi-platform-widget .cleverpush-multi-platform-widget-btn.cleverpush-multi-platform-widget-btn-unsubscribe{-webkit-box-shadow:none!important;background:transparent;border:1px solid #42a2f2!important;border-bottom-left-radius:0!important;border-left-width:0!important;border-top-left-radius:0!important;box-shadow:none!important;color:#555!important;font-weight:400!important;width:auto}.cleverpush-multi-platform-widget .cleverpush-multi-platform-widget-btn.cleverpush-multi-platform-widget-btn-unsubscribe:active,.cleverpush-multi-platform-widget .cleverpush-multi-platform-widget-btn.cleverpush-multi-platform-widget-btn-unsubscribe:hover{color:#fff!important}.cleverpush-multi-platform-widget .cleverpush-multi-platform-widget-btn.cleverpush-multi-platform-widget-btn-settings{margin-left:10px!important;width:auto}.cleverpush-multi-platform-widget .cleverpush-multi-platform-widget-btn.cleverpush-multi-platform-widget-btn-simple{float:none!important;margin:0 auto!important;padding-left:15px!important;padding-right:15px!important;width:auto!important}.cleverpush-multi-platform-widget .cleverpush-multi-platform-widget-btn .cleverpush-icon{background-size:contain;height:16px;margin-right:10px;width:16px}.cleverpush-multi-platform-widget .cleverpush-multi-platform-widget-btn .cleverpush-loader{position:absolute;zoom:.25}.cleverpush-multi-platform-widget .cleverpush-facebookchannel .cleverpush-multi-platform-widget-btn{background-color:#3b5998}.cleverpush-multi-platform-widget .cleverpush-telegramchannel .cleverpush-multi-platform-widget-btn{background-color:#08c}.cleverpush-multi-platform-widget .cleverpush-appchannel .cleverpush-multi-platform-widget-btn{background-color:#555}.cleverpush-multi-platform-widget .cleverpush-multi-platform-widget-branding{color:#aaa;font-size:75%;margin-top:15px;text-align:right}.cleverpush-multi-platform-widget .cleverpush-multi-platform-widget-branding a{-webkit-box-shadow:none;box-shadow:none;color:#999;text-decoration:none}.cleverpush-multi-platform-widget .cleverpush-multi-platform-widget-settings{background:none;border:none;color:#777;display:block;font-size:12px;font-weight:400;margin:10px 0;outline:none;padding:0;text-align:right;width:100%}.cleverpush-multi-platform-widget .cleverpush-topics{border:1px solid #eee;border-radius:3px;margin-bottom:15px;padding:10px}.cleverpush-multi-platform-widget .cleverpush-topics label{cursor:pointer;font-family:inherit;font-size:inherit;font-weight:500;line-height:1;margin:0}.cleverpush-multi-platform-widget .cleverpush-topics label>input[type=checkbox],.cleverpush-multi-platform-widget .cleverpush-topics label>input[type=radio]{-moz-appearance:checkbox;-webkit-appearance:checkbox;appearance:checkbox;display:inline-block;height:auto;line-height:normal;margin-right:4px;min-height:0;vertical-align:baseline;width:auto}.cleverpush-multi-platform-widget .cleverpush-topics label>input[type=radio]{-moz-appearance:radio;-webkit-appearance:radio;appearance:radio}.cleverpush-multi-platform-widget .cleverpush-topics>div:not(:last-of-type){margin-bottom:7.5px}.cleverpush-multi-platform-widget .cleverpush-multi-platform-widget-save-topics-button{margin-top:10px!important}.cleverpush-multi-platform-widget .cleverpush-multi-platform-widget-new{background-color:#333;border-radius:10px;overflow:hidden;padding:0}.cleverpush-multi-platform-widget .cleverpush-multi-platform-widget-new .cleverpush-multi-platform-widget-top{-ms-flex-align:center;-ms-flex-pack:center;-webkit-box-align:center;-webkit-box-pack:center;align-items:center;border-bottom:6px solid #42a2f2;display:-webkit-box;display:-ms-flexbox;display:flex;justify-content:center;padding:10px 15px 10px 75px}.cleverpush-multi-platform-widget .cleverpush-multi-platform-widget-new .cleverpush-multi-platform-widget-icon{margin-right:25px;position:static}.cleverpush-multi-platform-widget .cleverpush-multi-platform-widget-new .cleverpush-multi-platform-widget-body{width:100%}.cleverpush-multi-platform-widget .cleverpush-multi-platform-widget-new .cleverpush-multi-platform-widget-title{font-size:18px}.cleverpush-multi-platform-widget .cleverpush-multi-platform-widget-new .cleverpush-multi-platform-widget-branding{margin:15px 15px 10px;text-align:center}.cleverpush-multi-platform-widget .cleverpush-multi-platform-widget-new .cleverpush-multi-platform-widget-bottom{max-width:none;padding:5px 35px}.cleverpush-multi-platform-widget .cleverpush-multi-platform-widget-new .cleverpush-multi-platform-widget-btn{-ms-flex-align:center;-ms-flex-pack:start!important;-webkit-box-align:center;-webkit-box-pack:start!important;align-items:center;background-color:rgba(0,0,0,.25)!important;border:1px solid hsla(0,0%,100%,.45)!important;border-radius:10px!important;display:-webkit-box;display:-ms-flexbox;display:flex;justify-content:start!important;padding:7.5px 30px!important}.cleverpush-multi-platform-widget .cleverpush-multi-platform-widget-new .cleverpush-multi-platform-widget-btn[disabled]{border:1px solid hsla(0,0%,100%,.45)!important;color:#fff}.cleverpush-multi-platform-widget .cleverpush-multi-platform-widget-new .cleverpush-multi-platform-widget-btn .cleverpush-icon{background-position:50%;background-repeat:no-repeat;border-radius:100px;height:36px;margin-right:20px;width:36px}.cleverpush-multi-platform-widget .cleverpush-multi-platform-widget-new .cleverpush-multi-platform-widget-btn .cleverpush-icon-facebook{background-color:#0084ff}.cleverpush-multi-platform-widget .cleverpush-multi-platform-widget-new .cleverpush-multi-platform-widget-btn .cleverpush-icon-telegram{background-color:#08c;background-size:26px 26px}.cleverpush-multi-platform-widget .cleverpush-multi-platform-widget-new .cleverpush-multi-platform-widget-btn .cleverpush-icon-bell{background-color:#eb4034;background-size:26px 26px}.cleverpush-multi-platform-widget .cleverpush-multi-platform-widget-new .cleverpush-multi-platform-widget-btn .cleverpush-icon-android,.cleverpush-multi-platform-widget .cleverpush-multi-platform-widget-new .cleverpush-multi-platform-widget-btn .cleverpush-icon-ios{background-color:#228b22}.cleverpush-icon-facebook{background-image:url("data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjQiIGhlaWdodD0iMjQiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZmlsbD0ibm9uZSIgZD0iTS0xLTFoNTgydjQwMkgtMXoiLz48Zz48cGF0aCBmaWxsPSIjZmZmIiBkPSJNMTMgMTBoM3YzaC0zdjdoLTN2LTdIN3YtM2gzVjguNzQ1YzAtMS4xODkuMzc0LTIuNjkxIDEuMTE4LTMuNTEyQzExLjg2MiA0LjQxIDEyLjc5MSA0IDEzLjkwNCA0SDE2djNoLTIuMWMtLjQ5OCAwLS45LjQwMi0uOS44OTlWMTB6Ii8+PC9nPjwvc3ZnPg==")}.cleverpush-icon-telegram{background-image:url("data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNTEyIiBoZWlnaHQ9IjUxMiIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48cGF0aCBmaWxsPSJub25lIiBkPSJNLTEtMWg1ODJ2NDAySC0xeiIvPjxnPjxwYXRoIGZpbGw9IiNmZmYiIGQ9Ik00ODQuNjg5IDk4LjIzMWwtNjkuNDE3IDMyNy4zN2MtNS4yMzcgMjMuMTA1LTE4Ljg5NSAyOC44NTQtMzguMzA0IDE3Ljk3MkwyNzEuMiAzNjUuNjMxbC01MS4wMzQgNDkuMDg2Yy01LjY0NyA1LjY0Ny0xMC4zNzIgMTAuMzcyLTIxLjI1NiAxMC4zNzJsNy41OTgtMTA3LjcyMkw0MDIuNTM5IDE0MC4yM2M4LjUyMy03LjU5OC0xLjg0OC0xMS44MDktMTMuMjQ3LTQuMjFMMTQ2Ljk1IDI4OC42MTQgNDIuNjE5IDI1NS45NmMtMjIuNjk0LTcuMDg2LTIzLjEwNC0yMi42OTUgNC43MjMtMzMuNTc5TDQ1NS40MjMgNjUuMTY2YzE4Ljg5My03LjA4NSAzNS40MjcgNC4yMDkgMjkuMjY2IDMzLjA2NXoiLz48L2c+PC9zdmc+")}.cleverpush-icon-ios{background-image:url("data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMzA1IiBoZWlnaHQ9IjMwNSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48cGF0aCBmaWxsPSJub25lIiBkPSJNLTEtMWg1ODJ2NDAySC0xeiIvPjxnPjxnIGZpbGw9IiNmZmYiPjxwYXRoIGQ9Ik00MC43MzggMTEyLjExOWMtMjUuNzg1IDQ0Ljc0NS05LjM5MyAxMTIuNjQ4IDE5LjEyMSAxNTMuODJDNzQuMDkyIDI4Ni41MjMgODguNTAyIDMwNSAxMDguMjM5IDMwNWMuMzcyIDAgLjc0NS0uMDA3IDEuMTI3LS4wMjIgOS4yNzMtLjM3IDE1Ljk3NC0zLjIyNSAyMi40NTMtNS45ODQgNy4yNzQtMy4xIDE0Ljc5Ny02LjMwNSAyNi41OTctNi4zMDUgMTEuMjI2IDAgMTguMzkgMy4xMDEgMjUuMzE4IDYuMDk5IDYuODI4IDIuOTU0IDEzLjg2MSA2LjAxIDI0LjI1MyA1LjgxNSAyMi4yMzItLjQxNCAzNS44ODItMjAuMzUyIDQ3LjkyNS0zNy45NDEgMTIuNTY3LTE4LjM2NSAxOC44NzEtMzYuMTk2IDIwLjk5OC00My4wMWwuMDg2LS4yNzFhMi41IDIuNSAwIDAgMC0xLjMyOC0zLjA2NmMtLjAzMi0uMDE1LS4xNS0uMDY0LS4xODMtLjA3OC0zLjkxNS0xLjYwMS0zOC4yNTctMTYuODM2LTM4LjYxOC01OC4zNi0uMzM1LTMzLjczNiAyNS43NjMtNTEuNjAxIDMwLjk5Ny01NC44MzlsLjI0NC0uMTUyYTIuNDk4IDIuNDk4IDAgMCAwIC43MS0zLjUxMWMtMTguMDE0LTI2LjM2Mi00NS42MjQtMzAuMzM1LTU2Ljc0LTMwLjgxM2E1MC4wNDMgNTAuMDQzIDAgMCAwLTQuOTUtLjI0MmMtMTMuMDU2IDAtMjUuNTYzIDQuOTMxLTM1LjYxMSA4Ljg5My02LjkzNiAyLjczNS0xMi45MjcgNS4wOTctMTcuMDU5IDUuMDk3LTQuNjQzIDAtMTAuNjY4LTIuMzkxLTE3LjY0NS01LjE1OS05LjMzLTMuNzAzLTE5LjkwNS03Ljg5OS0zMS4xLTcuODk5LS4yNjcgMC0uNTMuMDAzLS43ODkuMDA4LTI2LjAzLjM4My01MC42MjYgMTUuMjc1LTY0LjE4NiAzOC44NTl6Ii8+PHBhdGggZD0iTTIxMi4xMDEuMDAyYy0xNS43NjMuNjQyLTM0LjY3MiAxMC4zNDUtNDUuOTc0IDIzLjU4My05LjYwNSAxMS4xMjctMTguOTg4IDI5LjY3OS0xNi41MTYgNDguMzc5YTIuNDk5IDIuNDk5IDAgMCAwIDIuMjg0IDIuMTY0YzEuMDY0LjA4MyAyLjE1LjEyNSAzLjIzMi4xMjYgMTUuNDEzIDAgMzIuMDQtOC41MjcgNDMuMzk1LTIyLjI1NyAxMS45NTEtMTQuNDk4IDE3Ljk5NC0zMy4xMDQgMTYuMTY2LTQ5Ljc3YTIuNTE1IDIuNTE1IDAgMCAwLTIuNTg3LTIuMjI1eiIvPjwvZz48L2c+PC9zdmc+")}.cleverpush-icon-android{background-image:url("data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNTUzLjA0OCIgaGVpZ2h0PSI1NTMuMDQ4IiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciPjxwYXRoIGZpbGw9Im5vbmUiIGQ9Ik0tMS0xaDU4MnY0MDJILTF6Ii8+PGc+PGcgZmlsbD0iI2ZmZiI+PHBhdGggZD0iTTc2Ljc3NCAxNzkuMTQxYy05LjUyOSAwLTE3LjYxNCAzLjMyMy0yNC4yNiA5Ljk2OS02LjY0NiA2LjY0Ni05Ljk3IDE0LjYyMS05Ljk3IDIzLjkyOXYxNDIuOTE0YzAgOS41NDEgMy4zMjMgMTcuNjE5IDkuOTcgMjQuMjY2IDYuNjQ2IDYuNjQ2IDE0LjczMSA5Ljk3IDI0LjI2IDkuOTcgOS41MjIgMCAxNy41NTgtMy4zMjMgMjQuMTAxLTkuOTcgNi41My02LjY0NiA5LjgwNC0xNC43MjUgOS44MDQtMjQuMjY2VjIxMy4wMzljMC05LjMwOS0zLjMyMy0xNy4yODMtOS45Ny0yMy45MjktNi42NDctNi42NDYtMTQuNjI3LTkuOTY5LTIzLjkzNS05Ljk2OXpNMzUxLjk3MiA1MC44NDdMMzc1LjU3IDcuMzE1YzEuNTQ5LTIuODgyLjk5OC01LjA5Mi0xLjY1OC02LjY0Ni0yLjg4My0xLjM0LTUuMDk4LS42NjEtNi42NDYgMS45ODlsLTIzLjkyOCA0My44OGMtMjEuMDU1LTkuMzA5LTQzLjMyNC0xMy45NzItNjYuODA3LTEzLjk3Mi0yMy40ODggMC00NS43NTkgNC42NjQtNjYuODA2IDEzLjk3MmwtMjMuOTI5LTQzLjg4Yy0xLjU1NS0yLjY1LTMuNzctMy4zMjMtNi42NDYtMS45ODktMi42NjIgMS41NjEtMy4yMTMgMy43NjQtMS42NTggNi42NDZsMjMuNTk5IDQzLjUzMmMtMjMuOTI5IDEyLjIwMy00Mi45ODcgMjkuMTk4LTU3LjE2NyA1MS4wMjItMTQuMTggMjEuODM2LTIxLjI3MyA0NS42OTgtMjEuMjczIDcxLjYyOGgzMDcuNDI2YzAtMjUuOTI0LTcuMDk0LTQ5Ljc4Ny0yMS4yNzMtNzEuNjI4LTE0LjE4MS0yMS44MjQtMzMuMTI5LTM4LjgxOS01Ni44MzItNTEuMDIyem0tMTM2LjQzMyA2My4zMThjLTIuNTUyIDIuNTU4LTUuNiAzLjgzMS05LjE0MyAzLjgzMS0zLjU1IDAtNi41MzYtMS4yNzMtOC45NzItMy44MzEtMi40MzYtMi41NDYtMy42NTQtNS41ODItMy42NTQtOS4xMzcgMC0zLjU0MyAxLjIxOC02LjU4NSAzLjY1NC05LjEzNyAyLjQzNi0yLjU0NiA1LjQyOS0zLjgxOSA4Ljk3Mi0zLjgxOXM2LjU5MSAxLjI3MyA5LjE0MyAzLjgxOWMyLjU0NiAyLjU1OCAzLjgyNSA1LjU5NCAzLjgyNSA5LjEzNy0uMDA3IDMuNTQ5LTEuMjg1IDYuNTkxLTMuODI1IDkuMTM3em0xNDAuMDg2IDBjLTIuNDQxIDIuNTU4LTUuNDM0IDMuODMxLTguOTcxIDMuODMxLTMuNTUxIDAtNi41OTgtMS4yNzMtOS4xNDUtMy44MzEtMi41NTEtMi41NDYtMy44MjQtNS41ODItMy44MjQtOS4xMzcgMC0zLjU0MyAxLjI3My02LjU4NSAzLjgyNC05LjEzNyAyLjU0Ny0yLjU0NiA1LjU5NC0zLjgxOSA5LjE0NS0zLjgxOSAzLjU0MyAwIDYuNTI5IDEuMjczIDguOTcxIDMuODE5IDIuNDM4IDIuNTU4IDMuNjU0IDUuNTk0IDMuNjU0IDkuMTM3IDAgMy41NDktMS4yMTcgNi41OTEtMy42NTQgOS4xMzd6TTEyMy45NzEgNDA2LjgwNGMwIDEwLjIwMiAzLjU0MyAxOC44MzggMTAuNjMgMjUuOTI1IDcuMDkzIDcuMDg3IDE1LjcyOSAxMC42MyAyNS45MjQgMTAuNjNoMjQuNTk2bC4zMzcgNzUuNDU0YzAgOS41MjggMy4zMjMgMTcuNjE5IDkuOTY5IDI0LjI2NnMxNC42MjcgOS45NyAyMy45MjkgOS45N2M5LjUyMyAwIDE3LjYxMy0zLjMyMyAyNC4yNi05Ljk3czkuOTctMTQuNzM3IDkuOTctMjQuMjY2di03NS40NDdoNDUuODY0djc1LjQ0N2MwIDkuNTI4IDMuMzIyIDE3LjYxOSA5Ljk2OSAyNC4yNjZzMTQuNzMgOS45NyAyNC4yNiA5Ljk3YzkuNTIzIDAgMTcuNjEzLTMuMzIzIDI0LjI2LTkuOTdzOS45NjktMTQuNzM3IDkuOTY5LTI0LjI2NnYtNzUuNDQ3aDI0LjkyOGM5Ljk2OSAwIDE4LjQ5NC0zLjU0NCAyNS41OTQtMTAuNjMxIDcuMDg2LTcuMDg3IDEwLjYzMS0xNS43MjMgMTAuNjMxLTI1LjkyNFYxODUuNDVoLTMwNS4wOXYyMjEuMzU0ek00NzYuMjc1IDE3OS4xNDFjLTkuMzA5IDAtMTcuMjgzIDMuMjc0LTIzLjkzIDkuODA0LTYuNjQ2IDYuNTQyLTkuOTY5IDE0LjU3OC05Ljk2OSAyNC4wOTR2MTQyLjkxNGMwIDkuNTQxIDMuMzIyIDE3LjYxOSA5Ljk2OSAyNC4yNjZzMTQuNjI3IDkuOTcgMjMuOTMgOS45N2M5LjUyMyAwIDE3LjYxMy0zLjMyMyAyNC4yNi05Ljk3czkuOTY5LTE0LjcyNSA5Ljk2OS0yNC4yNjZWMjEzLjAzOWMwLTkuNTE3LTMuMzIyLTE3LjU1Mi05Ljk2OS0yNC4wOTQtNi42NDctNi41My0xNC43MzctOS44MDQtMjQuMjYtOS44MDR6Ii8+PC9nPjwvZz48L3N2Zz4=")}',""])},function(e,t,i){var n=i(76);"string"==typeof n&&(n=[[e.i,n,""]]);i(20)(n,{});n.locals&&(e.exports=n.locals)},function(e,t,i){(e.exports=i(19)(void 0)).push([e.i,"@-webkit-keyframes cleverPushSlideFromRight{to{right:0}}@keyframes cleverPushSlideFromRight{to{right:0}}@-webkit-keyframes cleverPushSlideFromLeft{to{left:0}}@keyframes cleverPushSlideFromLeft{to{left:0}}.cleverpush-page-banner-notification{-moz-user-select:none;-ms-user-select:none;-webkit-animation:cleverPushSlideFromRight .25s forwards;-webkit-animation-delay:.25s;-webkit-box-shadow:0 1px 2px 0 rgba(0,0,0,.1),0 4px 8px 0 rgba(0,0,0,.2);-webkit-user-select:none;animation:cleverPushSlideFromRight .25s forwards;animation-delay:.25s;background-color:#fff;border:1px solid #ccc;bottom:0;box-shadow:0 1px 2px 0 rgba(0,0,0,.1),0 4px 8px 0 rgba(0,0,0,.2);cursor:pointer;margin:15px;max-width:100%;padding:10px;position:fixed;right:-400px;user-select:none;width:350px;z-index:99}.cleverpush-page-banner-notification-top-left{-webkit-animation:cleverPushSlideFromLeft .25s forwards;animation:cleverPushSlideFromLeft .25s forwards;bottom:auto;left:-400px;right:auto;top:0}.cleverpush-page-banner-notification-top-right{bottom:auto;top:0}.cleverpush-page-banner-notification-bottom-left{-webkit-animation:cleverPushSlideFromLeft .25s forwards;animation:cleverPushSlideFromLeft .25s forwards;left:-400px;right:auto}.cleverpush-page-banner-notification:hover{background-color:#fefefe}.cleverpush-page-banner-notification .notification-icon{background-position:50%;background-repeat:no-repeat;background-size:cover;height:65px;position:absolute;width:65px}.cleverpush-page-banner-notification .notification-content{min-height:65px;overflow:hidden;padding-left:85px;word-break:break-all;word-wrap:break-word}.cleverpush-page-banner-notification .notification-preview-windows-icons{position:absolute;right:10px}.cleverpush-page-banner-notification .notification-preview-windows-icons span{border-radius:50%;display:block;font-size:16px;height:16px;line-height:18px;text-align:center;vertical-align:middle;width:16px}.cleverpush-page-banner-notification .notification-preview-windows-icons span:hover{background:#555;color:#fff}.cleverpush-page-banner-notification .notification-title{-o-text-overflow:ellipsis;font-size:16px;margin-bottom:6px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.cleverpush-page-banner-notification .notification-text{-o-text-overflow:ellipsis;font-size:13px;margin-bottom:6px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.cleverpush-page-banner-notification .notification-origin{-o-text-overflow:ellipsis;color:#777;font-size:11px;margin-bottom:4px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.cleverpush-page-banner-notification .notification-media{margin-top:10px;text-align:center}.cleverpush-page-banner-notification .notification-media img{display:inline-block;max-height:300px}",""])}]);CleverPush.init({"loadConfig":false,"environment":"production","apiEndpoint":"https://api.cleverpush.com","autoRegister":false,"channelId":"QdRL9E73woSND7d2u","channelName":"SG-WinnersUpdate","channelIcon":"https://static.cleverpush.com/channel/icon/LPqmdnqv5XujBn7QL.png","channelTopics":[],"channelTags":[],"channelEvents":[],"multiChannels":{},"customAttributes":[],"alertTimeout":10000,"alertMinimumVisits":0,"alertScrollPercentage":0,"confirmAlertTheme":"cleverpush-confirm-default","confirmAlertThemeVariant":"","confirmAlertThemeBackground":"","confirmAlertThemeBackgroundColor":"#f0f0f0","confirmAlertThemeTextColor":"#3e3e3e","confirmAlertThemeLinkColor":"#999","confirmAlertNativeTheme":"","confirmAlertBackdrop":true,"confirmAlertBackdropBlur":true,"confirmAlertBackdropOpacity":0.75,"confirmAlertTests":[{"config":{"confirmAlertBackdrop":false,"confirmAlertTheme":"cleverpush-confirm-topbar"},"id":"aJGn4fvevbHRK8dGh"},{"config":{"confirmAlertBackdrop":false,"confirmAlertTheme":"cleverpush-confirm-topbar","unsaved":true,"alertLocalizationTitle":"Activate your prize notification","alertLocalizationInfo":"Click YES to claim entry","defaultOptInTextResetted":false},"id":"Y8TfijikKapKyKGp8"}],"confirmAlertTestsEnabled":true,"url":"https://sg-winnersupdate.cleverpush.com/subscribe","alertLocalization":{"info":"","allow":"CONFIRM","deny":"X"},"ownDomain":false,"domain":"sg.123clk.com","subdomain":"sg-winnersupdate","cleverpushDomain":"cleverpush.com","vapidPublicKey":"BALoDAfNA4VuicB8OvNtNRiMJIhwqOdkXHhlM3IELP6VWwvJHfX0GClJdpaNjPyjMK8S7rS0SxuQLOdX8YLSyyY","showConfirmAlert":false,"showConfirmAlertMobile":false,"hideBranding":true,"hideFaqLink":true,"faqUrl":"https://cleverpush.com/faq","privacyPolicyText":"Privacy policy","showNotificationBell":false,"hideNotificationBellMobile":false,"hideNotificationBellSubscribed":false,"notificationBellColor":"#42a2f2","serviceWorkerFile":"/cleverpush-worker.js","gcmManifestPath":"/cleverpush-manifest.json","safariWebServiceUrl":"https://api.cleverpush.com/channel/QdRL9E73woSND7d2u/safari","origin":"https://sg-winnersupdate.cleverpush.com","loadIframe":true,"trackSessions":true,"pageBannerNotifications":[],"webBanners":[],"widgets":[],"followUpCampaigns":[],"emailOptInForms":[]});